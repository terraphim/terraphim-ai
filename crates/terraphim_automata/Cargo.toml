[package]
name = "terraphim_automata"
version = "1.2.3"
edition = "2021"
authors = ["Terraphim Contributors"]
description = "Automata for searching and processing knowledge graphs"
documentation = "https://terraphim.ai"
homepage = "https://terraphim.ai"
repository = "https://github.com/terraphim/terraphim-ai"
keywords = ["personal-assistant", "ai", "privacy", "agent", "automata"]
license = "Apache-2.0"
readme = "../../README.md"


[dependencies]
terraphim_types = { path = "../terraphim_types", version = "1.0.0" }

ahash = { version = "0.8.6", features = ["serde"] }
aho-corasick = "1.0.2"
fst = "0.4"
bincode = "1.3"
reqwest = { version = "0.12.24", features = ["json", "rustls-tls"], optional = true }
serde = { version = "1.0.163", features = ["derive"] }
serde_json = "1"
thiserror = "1.0.30"
tokio = { version = "1", features = ["io-util", "time","macros","rt","rt-multi-thread", "process"], optional = true }
strsim = "0.11"
log = "0.4"
wasm-bindgen-futures = "0.4.1"
wasm-bindgen = { version = "0.2.51" }
cached = { version = "0.56.0", features = ["proc_macro", "async", "serde", "ahash"] }
tsify = { version = "0.5", features = ["js"], optional = true }

# WASM-specific dependencies
[target.'cfg(target_arch = "wasm32")'.dependencies]
getrandom = { version = "0.3", features = ["wasm_js"] }

[[bench]]
name = "autocomplete_bench"
harness = false

[features]
default = []
remote-loading = ["tokio", "reqwest"]
tokio-runtime = ["tokio"]
typescript = ["tsify"]
wasm = ["typescript"]

[dev-dependencies]
criterion = "0.5"
tempfile = "3.23"
lazy_static = "1.4.0"
tokio = { version = "1", features = ["io-util", "time","macros","rt","rt-multi-thread"] }
