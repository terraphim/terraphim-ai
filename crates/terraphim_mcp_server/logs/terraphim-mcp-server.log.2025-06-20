[2m2025-06-20T06:36:45.169806Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T06:36:45.170111Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T06:36:45.172028Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T06:36:45.172076Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T06:36:45.172246Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T06:36:45.172259Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T06:36:45.172262Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T06:36:45.554365Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T06:36:45.554390Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T06:36:45.554395Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T06:36:45.554399Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T06:36:45.829498Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T06:36:45.830424Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T06:36:45.830590Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T06:36:45.830730Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T06:36:45.831527Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T06:36:45.949607Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T06:38:23.449963Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T06:38:23.450315Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T06:38:23.452173Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T06:38:23.452272Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T06:38:23.452542Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T06:38:23.452561Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T06:38:23.452564Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T06:38:23.770749Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T06:38:23.770780Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T06:38:23.770784Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T06:38:23.770788Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T06:38:24.071793Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T06:38:24.072800Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T06:38:24.072972Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T06:38:24.073108Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T06:38:24.073882Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T06:38:24.188690Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T06:38:24.188713Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T06:38:24.188717Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T06:38:24.476281Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T06:38:24.476306Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T06:38:24.476310Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T06:38:24.476314Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T06:38:24.764965Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:27:57.750143Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:27:57.750679Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:27:57.752855Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:27:57.752934Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:27:57.753156Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:27:57.753171Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:27:57.753175Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:27:57.753178Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:27:58.098558Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:27:58.098606Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:27:58.098611Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:27:58.443941Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:27:58.445236Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:27:58.445410Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:27:58.445554Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:27:58.445955Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:29:56.880416Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:29:56.880844Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:29:56.881899Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:29:56.881958Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:29:56.882155Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:29:56.882194Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:29:56.882200Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:29:56.893277Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:29:56.894551Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:29:56.895634Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:29:56.896808Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:29:56.897946Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:29:56.898508Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:29:56.898609Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:29:56.898990Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:29:56.899351Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:29:56.899367Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:29:56.899370Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:29:56.899748Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:29:56.899764Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:29:56.899768Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:29:56.899771Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:29:57.201762Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:29:57.201786Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:29:57.201789Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:29:57.209395Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:29:57.209417Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:29:57.209421Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:29:57.209424Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:29:57.216433Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:29:57.216457Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:29:57.216462Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:29:57.486113Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:29:57.486177Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:29:57.487147Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:29:57.487288Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:29:57.487398Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:29:57.487709Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:29:57.490365Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:29:57.491502Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:29:57.492650Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:29:57.493748Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:29:57.495733Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:29:57.499749Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:29:57.500171Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:29:57.501431Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:29:57.502482Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:29:57.503422Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:29:57.504984Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:29:57.509245Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:35:13.389585Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:35:13.389909Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:35:13.391510Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:35:13.391581Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:35:13.391816Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:35:13.391830Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:35:13.391833Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:35:13.391836Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:35:13.403958Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:35:13.403912Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:35:13.406186Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:35:13.406207Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:35:13.408211Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:35:13.408230Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:35:13.408790Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:35:13.408811Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:35:13.409503Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:35:13.409518Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:35:13.409521Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:35:13.409552Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:35:13.409566Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:35:13.409569Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:35:13.715237Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:35:13.715263Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:35:13.715268Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:35:13.719147Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:35:13.719172Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:35:13.719176Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:35:13.731729Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:35:13.731760Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:35:13.731764Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:35:13.731767Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:35:14.004230Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:35:14.005839Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:35:14.007058Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:35:14.008326Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:35:14.009973Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:35:14.010888Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:35:14.011142Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:35:14.012339Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:35:14.013410Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:35:14.014425Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:35:14.016512Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:35:14.017459Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:35:14.018231Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:35:14.018421Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:35:14.018538Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:35:14.018891Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:35:14.121880Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:35:14.121901Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:38:43.503068Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:38:43.503629Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:38:43.505237Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:38:43.505295Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:38:43.505624Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:38:43.505648Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:38:43.505654Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:38:43.821772Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:38:43.821795Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:38:43.821799Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:38:44.111714Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:38:44.111783Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:38:44.112817Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:38:44.112984Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:38:44.113102Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:38:44.114823Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:38:44.229661Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:38:44.233752Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:38:44.238264Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:39:36.947232Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:39:36.947647Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:39:36.948452Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:39:36.948527Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:39:36.948791Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:39:36.948808Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:39:36.948811Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:39:36.948814Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:39:36.960337Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:39:36.960320Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T07:39:36.962808Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:39:36.962855Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T07:39:36.964810Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:39:36.964827Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T07:39:36.965413Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:39:36.965425Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T07:39:36.966156Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:39:36.966179Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:39:36.966182Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:39:36.966210Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:39:36.966227Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:39:36.966230Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:39:37.271157Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:39:37.271180Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T07:39:37.271184Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T07:39:37.271187Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:39:37.271739Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:39:37.271761Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:39:37.271766Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:39:37.274280Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T07:39:37.274303Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T07:39:37.274308Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T07:39:37.558265Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:39:37.559658Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:39:37.560203Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T07:39:37.560399Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:39:37.560711Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:39:37.561347Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:39:37.561688Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:39:37.562233Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:39:37.563077Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:39:37.563939Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:39:37.564179Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T07:39:37.564631Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:39:37.564820Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T07:39:37.564965Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T07:39:37.565096Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T07:39:37.565813Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:39:37.577370Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:39:37.577433Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:39:37.577769Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T07:39:37.580765Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T07:39:37.583893Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T08:02:41.385160Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T08:02:41.385492Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T08:02:41.387682Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T08:02:41.387738Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T08:02:41.387953Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T08:02:41.387971Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T08:02:41.387975Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T08:02:41.387977Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:02:41.689289Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T08:02:41.689316Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T08:02:41.689320Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:02:41.971438Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T08:02:41.972487Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T08:02:41.972635Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T08:02:41.972749Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T08:02:41.973863Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T08:02:42.076463Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T08:02:42.079926Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T08:02:42.083215Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T08:04:38.788553Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T08:04:38.788954Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T08:04:38.790766Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T08:04:38.790909Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T08:04:38.791412Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T08:04:38.791449Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T08:04:38.791457Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:04:39.108283Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T08:04:39.108306Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T08:04:39.108311Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T08:04:39.108315Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:04:39.397873Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T08:04:39.398915Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T08:04:39.399081Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T08:04:39.399201Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T08:06:02.942182Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T08:06:02.942530Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T08:06:02.943475Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T08:06:02.943588Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T08:06:02.943978Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T08:06:02.944008Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T08:06:02.944016Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:06:03.269397Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T08:06:03.269421Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T08:06:03.269425Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:06:03.545119Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T08:06:03.545185Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T08:06:03.546236Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T08:06:03.546395Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T08:06:03.546514Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T08:06:03.547665Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T08:06:03.564538Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T08:06:03.567942Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T08:06:03.570915Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T08:26:54.381158Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T08:26:54.381521Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T08:26:54.383692Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T08:26:54.383755Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T08:26:54.383972Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T08:26:54.383977Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T08:26:54.383979Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:26:54.713993Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T08:26:54.714027Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T08:26:54.714031Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:26:55.038275Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T08:26:55.038347Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T08:26:55.039466Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T08:26:55.039627Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T08:26:55.039769Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T08:26:55.041011Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T08:38:08.267711Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T08:38:08.268184Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T08:38:08.270323Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T08:38:08.270388Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T08:38:08.270665Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T08:38:08.270675Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T08:38:08.270679Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:38:08.617940Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T08:38:08.617963Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T08:38:08.617968Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:38:08.891364Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T08:38:08.891440Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T08:38:08.892494Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T08:38:08.892651Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T08:38:08.892778Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T08:38:08.894119Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T08:39:22.043422Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T08:39:22.043975Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T08:39:22.044749Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T08:39:22.044809Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T08:39:22.045167Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T08:39:22.045179Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T08:39:22.045185Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T08:39:22.045191Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:39:22.415079Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T08:39:22.415105Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T08:39:22.415109Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:39:22.713956Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T08:39:22.714946Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T08:39:22.715093Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T08:39:22.715219Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T08:39:22.716587Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T08:58:37.301060Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T08:58:37.301581Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T08:58:37.302994Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T08:58:37.303111Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T08:58:37.303455Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T08:58:37.303465Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T08:58:37.303471Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T08:58:37.303476Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:58:37.620495Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T08:58:37.620516Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T08:58:37.620521Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T08:58:37.916847Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T08:58:37.917827Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T08:58:37.917910Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T08:58:37.918040Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T08:58:37.919422Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:26:37.724996Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:26:37.725426Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:26:37.727790Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:26:37.727871Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:26:37.728099Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:26:37.728105Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:26:37.728108Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:26:37.742441Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:26:37.742527Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:26:37.742372Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:26:37.744826Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:26:37.744850Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:26:37.744878Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:26:37.747473Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:26:37.747506Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:26:37.747664Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:26:37.748030Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:26:37.748097Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:26:37.748158Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:26:37.749127Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:26:37.749134Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:26:37.749138Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:26:37.749159Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:26:37.749167Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:26:37.749170Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:26:37.749173Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:26:37.749327Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:26:37.749335Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:26:37.749339Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:26:38.046829Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:26:38.046854Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:26:38.046858Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:26:38.058591Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:26:38.058615Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:26:38.058619Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:26:38.059110Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:26:38.059136Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:26:38.059139Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:26:38.064963Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:26:38.064985Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:26:38.064990Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:26:38.347073Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:26:38.347291Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:26:38.349813Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:26:38.350359Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:26:38.351396Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:26:38.351411Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:26:38.352689Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:26:38.353237Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:26:38.353382Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:26:38.354327Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:26:38.355995Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:26:38.359272Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:26:38.359341Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:26:38.360025Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:26:38.360104Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:26:38.360237Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:26:38.361633Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:26:38.376553Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:26:38.376829Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:26:38.377912Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:26:38.378194Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:26:38.379081Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:26:38.380872Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:08.641443Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:31:08.641739Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:31:08.643342Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:31:08.643417Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:31:08.643615Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:31:08.643620Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:31:08.643624Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:31:08.643626Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:31:08.658982Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:31:08.658979Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:31:08.659259Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:31:08.661439Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:31:08.661512Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:31:08.661411Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:31:08.663894Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:31:08.664160Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:31:08.664331Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:31:08.664518Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:31:08.664738Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:31:08.664761Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:31:08.665623Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:31:08.665632Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:31:08.665636Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:31:08.665758Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:31:08.665766Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:31:08.665770Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:31:08.665780Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:31:08.665787Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:31:08.665791Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:31:08.969354Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:31:08.969378Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:31:08.969383Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:31:08.975659Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:31:08.975682Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:31:08.975686Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:31:08.989533Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:31:08.989557Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:31:08.989561Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:31:08.989565Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:31:09.054725Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:31:09.054749Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:31:09.054753Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:31:09.253164Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:31:09.254261Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:31:09.254440Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:31:09.254568Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:31:09.257213Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.270930Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:31:09.271226Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:31:09.272410Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:31:09.272499Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:31:09.273320Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:31:09.275675Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.286561Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:31:09.288559Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:31:09.288650Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:31:09.289460Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:31:09.290956Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.355091Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:31:09.355388Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:31:09.356500Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:31:09.356588Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:31:09.357475Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:31:09.359103Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.369963Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.371064Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.371440Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.379305Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.381739Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.387577Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.389585Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:31:09.403983Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T09:43:18.209939Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:43:18.210294Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:43:18.212384Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:43:18.212471Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:43:18.212705Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:43:18.212711Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:43:18.212714Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:43:18.227466Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:43:18.227574Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:43:18.227928Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:43:18.229743Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:43:18.229791Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:43:18.230188Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:43:18.232054Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:43:18.232171Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:43:18.232190Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:43:18.232672Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:43:18.232717Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:43:18.232731Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:43:18.233629Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:43:18.233635Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:43:18.233638Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:43:18.233883Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:43:18.233889Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:43:18.233892Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:43:18.233926Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:43:18.233934Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:43:18.233937Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:43:18.233940Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:43:18.535318Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:43:18.535387Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:43:18.535422Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:43:18.535438Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:43:18.543367Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:43:18.543390Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:43:18.543394Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:43:18.543397Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:43:18.546437Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:43:18.546461Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:43:18.546465Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:43:18.552208Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:43:18.552232Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:43:18.552235Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:43:18.812727Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:43:18.813711Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:43:18.813794Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:43:18.813906Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:43:18.815268Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.824116Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:43:18.826367Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:43:18.826450Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:43:18.827469Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:43:18.829775Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.848904Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:43:18.850022Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:43:18.850111Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:43:18.850910Z[0m [32m INFO[0m [2mterraphim_config[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:43:18.851022Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:43:18.851105Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:43:18.852009Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:43:18.852092Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:43:18.852380Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.853210Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:43:18.854334Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.930014Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.933153Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.933284Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.942087Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.942778Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.950073Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.950996Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:43:18.951283Z[0m [32m INFO[0m [2mterraphim_persistence[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "bucket": "staging-system-operator", "region": "us-east-1"}, "sled": {"type": "sled", "datadir": "/tmp/sled"}} }    
[2m2025-06-20T09:43:18.951883Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:18.965291Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T09:43:19.542844Z[0m [31mERROR[0m [2mterraphim_middleware::thesaurus[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T09:43:19.668562Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:43:19.668824Z[0m [32m INFO[0m [2mterraphim_persistence[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"type": "s3", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7"}} }    
[2m2025-06-20T09:43:19.687664Z[0m [31mERROR[0m [2mterraphim_service[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T09:43:19.979406Z[0m [32m INFO[0m [2mterraphim_middleware::indexer[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:43:19.996019Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:43:19.996270Z[0m [32m INFO[0m [2mterraphim_persistence[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"type": "sled", "datadir": "/tmp/sled"}, "s3": {"type": "s3", "bucket": "staging-system-operator", "region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com"}} }    
[2m2025-06-20T09:43:20.002022Z[0m [31mERROR[0m [2mterraphim_middleware::thesaurus[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T09:43:20.004053Z[0m [32m INFO[0m [2mterraphim_settings[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:43:20.004237Z[0m [32m INFO[0m [2mterraphim_persistence[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator", "type": "s3", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com"}} }    
[2m2025-06-20T09:43:20.019001Z[0m [31mERROR[0m [2mterraphim_service[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T09:51:41.630832Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:51:41.631249Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:51:41.633202Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:51:41.633283Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:51:41.633452Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:51:41.633458Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:51:41.633461Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:51:41.648418Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:51:41.648485Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:51:41.648633Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:51:41.650647Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:51:41.650696Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:51:41.650749Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:51:41.653071Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:51:41.653107Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:51:41.653256Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:51:41.653643Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:51:41.653709Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:51:41.653773Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:51:41.654336Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:51:41.654343Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:51:41.654347Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:51:41.654404Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:51:41.654413Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:51:41.654417Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:51:41.654420Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:51:41.654471Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:51:41.654480Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:51:41.654484Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:51:41.960914Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:51:41.960938Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:51:41.960943Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:51:41.964064Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:51:41.964087Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:51:41.964091Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:51:41.964094Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:51:41.969862Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:51:41.969884Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:51:41.969889Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:51:41.975135Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:51:41.975157Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:51:41.975161Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:51:42.236617Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:51:42.236689Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:51:42.237695Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:51:42.237822Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:51:42.237975Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:51:42.239241Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:51:42.256032Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:51:42.258270Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:51:42.258500Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:51:42.259354Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:51:42.260840Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:51:42.265793Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:51:42.266075Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:51:42.267223Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:51:42.267443Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:51:42.268295Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:51:42.270622Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:51:42.273537Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:51:42.274883Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:51:42.275154Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:51:42.276022Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:51:42.277675Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:51:42.357324Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:51:42.371514Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:51:42.380466Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:51:42.390081Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T09:53:10.282288Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:53:10.282700Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:53:10.284208Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:53:10.284286Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:53:10.284464Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:53:10.284469Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:53:10.284472Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:53:10.284475Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:53:10.301179Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:53:10.301247Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:53:10.301283Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T09:53:10.303597Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:53:10.303639Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:53:10.303581Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:53:10.305967Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:53:10.306004Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:53:10.306137Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T09:53:10.306518Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:53:10.306584Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:53:10.306651Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T09:53:10.307205Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:53:10.307214Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:53:10.307218Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:53:10.307234Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:53:10.307242Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:53:10.307246Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:53:10.307249Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:53:10.307305Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:53:10.307314Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:53:10.307318Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:53:10.307321Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:53:10.594975Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:53:10.594999Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:53:10.595004Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:53:10.627279Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T09:53:10.627302Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T09:53:10.627305Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:53:10.629593Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:53:10.629616Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:53:10.629620Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:53:10.630142Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T09:53:10.630165Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T09:53:10.630170Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T09:53:10.872851Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:53:10.873827Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:53:10.873900Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:53:10.874021Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:53:10.875427Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:10.902279Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T09:53:10.902563Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:53:10.904487Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:53:10.904637Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:53:10.904742Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:53:10.905650Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:53:10.905859Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:53:10.906094Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:53:10.906880Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:53:10.907714Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:10.908222Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:10.945792Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T09:53:10.947892Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T09:53:10.948117Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T09:53:10.949026Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T09:53:10.950222Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:10.985670Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:10.987405Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:10.988349Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:10.998432Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:11.001004Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:11.007149Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:53:11.007445Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T09:53:11.007458Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:11.011659Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:11.020923Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T09:53:11.559665Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T09:53:11.682795Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:53:11.683065Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "region": "us-east-1", "bucket": "staging-system-operator", "type": "s3", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T09:53:12.139204Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T09:53:12.456955Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T09:53:12.473515Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:53:12.473794Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"bucket": "staging-system-operator", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "region": "us-east-1", "type": "s3", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T09:53:12.929768Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T09:53:12.933340Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T09:53:12.933805Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"region": "us-east-1", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator", "type": "s3"}} }    
[2m2025-06-20T09:53:12.939561Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T10:23:30.970721Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:23:30.971134Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:23:30.973136Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:23:30.973214Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:23:30.973392Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:23:30.973397Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:23:30.973400Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:23:30.973403Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:23:30.988237Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:23:30.988248Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:23:30.988199Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:23:30.990509Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:23:30.990550Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:23:30.990602Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:23:30.993152Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:23:30.993185Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:23:30.993426Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:23:30.993841Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:23:30.993901Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:23:30.993972Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:23:30.994614Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:23:30.994620Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:23:30.994621Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:23:30.994628Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:23:30.994624Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:23:30.994632Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:23:30.994673Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:23:30.994680Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:23:30.994683Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:23:31.293286Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:23:31.293310Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:23:31.293315Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:23:31.299848Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:23:31.299872Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:23:31.299875Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:23:31.301813Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:23:31.301834Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:23:31.301838Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:23:31.314979Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:23:31.315003Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:23:31.315007Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:23:31.560789Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:23:31.561664Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:23:31.564250Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:23:31.564536Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:23:31.565388Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:23:31.566949Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.577044Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:23:31.577137Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:23:31.577318Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:23:31.577950Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:23:31.578020Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:23:31.578143Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:23:31.578677Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:23:31.578915Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:23:31.579400Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.579824Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:23:31.581235Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.583951Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:23:31.584201Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:23:31.586040Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:23:31.586271Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:23:31.587088Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:23:31.588411Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.689870Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.692191Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.692202Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.702499Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.704396Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.709824Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:23:31.710111Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"type": "sled", "datadir": "/tmp/sled"}, "s3": {"endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "bucket": "staging-system-operator", "type": "s3"}} }    
[2m2025-06-20T10:23:31.710278Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.711299Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:31.725187Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T10:23:31.765592Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T10:23:31.889744Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:23:31.889978Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "type": "s3", "bucket": "staging-system-operator", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7"}, "sled": {"type": "sled", "datadir": "/tmp/sled"}} }    
[2m2025-06-20T10:23:32.387957Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T10:23:32.697009Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:23:32.712496Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:23:32.712774Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "bucket": "staging-system-operator", "region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "type": "s3"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T10:23:33.173435Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:554:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T10:23:33.178550Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:23:33.179141Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "region": "us-east-1", "bucket": "staging-system-operator", "type": "s3", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7"}} }    
[2m2025-06-20T10:23:33.185430Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T10:24:53.072305Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:24:53.072726Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:24:53.073492Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:24:53.073570Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:24:53.073741Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:24:53.073747Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:24:53.073750Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:24:53.089474Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:24:53.089498Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:24:53.089446Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:24:53.091703Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:24:53.091758Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:24:53.091683Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:24:53.094763Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:24:53.094791Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:24:53.095025Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:24:53.095441Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:24:53.095502Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:24:53.095567Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:24:53.096163Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:24:53.096170Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:24:53.096174Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:24:53.096183Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:24:53.096190Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:24:53.096194Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:24:53.096214Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:24:53.096221Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:24:53.096225Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:24:53.096228Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:24:53.359078Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:24:53.359102Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:24:53.359107Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:24:53.359110Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:24:53.378656Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:24:53.378680Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:24:53.378684Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:24:53.378687Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:24:53.394621Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:24:53.394643Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:24:53.394647Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:24:53.405784Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:24:53.405806Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:24:53.405810Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:24:53.629621Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:24:53.630601Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:24:53.630670Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:24:53.630789Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:24:53.632178Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.644672Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:24:53.646564Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:24:53.646789Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:24:53.648225Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:24:53.650377Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.654981Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.662121Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:24:53.663347Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:24:53.663618Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:24:53.664514Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:24:53.665363Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.665946Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.667751Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.674846Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.675393Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.679321Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:24:53.679652Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:24:53.681394Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:24:53.681620Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:24:53.682461Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:24:53.683735Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.684151Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.698628Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:53.710732Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T10:24:53.714449Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:24:53.714706Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T10:24:54.256216Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T10:24:54.371328Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:24:54.371569Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"region": "us-east-1", "type": "s3", "bucket": "staging-system-operator", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T10:24:54.772307Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T10:24:55.043097Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:24:55.062296Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:24:55.062562Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"region": "us-east-1", "type": "s3", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "bucket": "staging-system-operator"}} }    
[2m2025-06-20T10:24:55.067982Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T10:24:55.069838Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:24:55.070036Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"region": "us-east-1", "bucket": "staging-system-operator", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "type": "s3", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T10:24:55.542834Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T10:44:58.386953Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:44:58.387287Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:44:58.389587Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:44:58.389655Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:44:58.389795Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:44:58.389801Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:44:58.389804Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:44:58.389807Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.403639Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:44:58.403792Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:44:58.404116Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:44:58.404784Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:44:58.406120Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:44:58.406196Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:44:58.406088Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:44:58.407228Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:44:58.409309Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:44:58.409342Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:44:58.409492Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:44:58.409557Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:44:58.410016Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:44:58.410081Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:44:58.410144Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:44:58.410212Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:44:58.410823Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:44:58.410831Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:44:58.410834Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.410848Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:44:58.410856Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:44:58.410860Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.410893Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:44:58.410901Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:44:58.410904Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.410899Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:44:58.410906Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:44:58.410909Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.879830Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:44:58.879853Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:44:58.879857Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:44:58.879860Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.886254Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:44:58.886280Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:44:58.886283Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.892522Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:44:58.892546Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:44:58.892550Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.894605Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:44:58.894629Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:44:58.894632Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.899092Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:44:58.899116Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:44:58.899120Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.957252Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:44:58.957661Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:44:58.958270Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:44:58.958337Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:44:58.958487Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:44:58.958492Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:44:58.958495Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:58.974436Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:44:58.976584Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:44:58.979159Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:44:58.979622Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:44:58.980488Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:44:58.980493Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:44:58.980497Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:59.177075Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:44:59.179176Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:44:59.179384Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:44:59.180379Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:44:59.182215Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.186836Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:44:59.187100Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:44:59.188785Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:44:59.188959Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:44:59.189955Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:44:59.192001Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.192229Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:44:59.192495Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:44:59.194138Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:44:59.194260Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:44:59.195164Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:44:59.196073Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.196120Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T10:44:59.198298Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:44:59.199010Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:44:59.199079Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:44:59.199201Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:44:59.199976Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.212738Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:44:59.213009Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:44:59.215004Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:44:59.215112Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:44:59.215964Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:44:59.217115Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.296470Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:44:59.296496Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:44:59.296500Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:44:59.296503Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:59.299419Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.302833Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.304463Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.304859Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.307866Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:44:59.307890Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:44:59.307893Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:44:59.307896Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:44:59.315737Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.324845Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:44:59.325305Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"type": "s3", "region": "us-east-1", "bucket": "staging-system-operator", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7"}} }    
[2m2025-06-20T10:44:59.326265Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.393431Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T10:44:59.512456Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:44:59.513186Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3", "bucket": "staging-system-operator", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "region": "us-east-1"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T10:44:59.637555Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:44:59.639299Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:44:59.639353Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:44:59.639616Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:44:59.640068Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:44:59.640138Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:44:59.640258Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:44:59.640608Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:44:59.642055Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.642457Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.656220Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.666284Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.675203Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:44:59.687845Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T10:44:59.976197Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T10:45:00.296907Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:45:00.315139Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:45:00.315463Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"bucket": "staging-system-operator", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "region": "us-east-1", "type": "s3", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T10:45:00.850765Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T10:45:00.858917Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:45:00.859731Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "type": "s3", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator"}, "sled": {"type": "sled", "datadir": "/tmp/sled"}} }    
[2m2025-06-20T10:45:01.392103Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T10:46:07.548827Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:46:07.551077Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:07.553963Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:46:07.554351Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:46:07.555187Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:46:07.555192Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:46:07.555195Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:07.851929Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:46:07.851947Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:46:07.851951Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:46:07.851953Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.026798Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:46:08.026853Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:46:08.027119Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:08.027175Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:08.027693Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:46:08.027729Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:46:08.027756Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:46:08.027792Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:46:08.027893Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:46:08.027898Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:46:08.027901Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:46:08.027904Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.027928Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:46:08.027934Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:46:08.027936Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:46:08.027939Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.044066Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:46:08.044133Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:46:08.044173Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:46:08.044487Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T10:46:08.046310Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:08.046343Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:08.046392Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:08.046273Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:08.048533Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:46:08.048567Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:46:08.048793Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:46:08.048795Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T10:46:08.049236Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:46:08.049299Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:46:08.049367Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:46:08.049432Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T10:46:08.049942Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:46:08.049950Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:46:08.049954Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.049982Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:46:08.049991Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:46:08.049995Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:46:08.049998Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.050019Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:46:08.050026Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:46:08.050030Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.050052Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:46:08.050059Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:46:08.050062Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.113520Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:46:08.115109Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:46:08.115388Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:46:08.116234Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:46:08.117677Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.140636Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.153578Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.161760Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.329819Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:46:08.329844Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:46:08.329847Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.348697Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:46:08.348720Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:46:08.348724Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.366710Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:46:08.366733Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:46:08.366737Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:46:08.366740Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.370777Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:46:08.370801Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:46:08.370804Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.372538Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:46:08.372563Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T10:46:08.372568Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T10:46:08.372571Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.372962Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T10:46:08.372985Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T10:46:08.372990Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T10:46:08.608662Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:46:08.609568Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:46:08.609684Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:46:08.609858Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:46:08.611484Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.613723Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:46:08.614749Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:46:08.614856Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:46:08.615025Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:46:08.616604Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.625878Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.647741Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T10:46:08.648107Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:46:08.649613Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:46:08.649951Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:46:08.650850Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:46:08.652728Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.656207Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:08.656847Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3", "bucket": "staging-system-operator", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "region": "us-east-1", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7"}} }    
[2m2025-06-20T10:46:08.658339Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T10:46:08.664618Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:46:08.665911Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:46:08.666132Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:46:08.666431Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:46:08.667357Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:46:08.667421Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:46:08.667545Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:46:08.667826Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.668476Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:46:08.668565Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T10:46:08.668817Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.669622Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T10:46:08.669947Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T10:46:08.670352Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.670824Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T10:46:08.671816Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.671852Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T10:46:08.672554Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.672570Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T10:46:08.683453Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.684693Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.693067Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.701381Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:08.696070Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T10:46:08.750291Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:08.750535Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"type": "s3", "bucket": "staging-system-operator", "region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com"}} }    
[2m2025-06-20T10:46:08.756509Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T10:46:09.053563Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T10:46:09.070381Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:09.070621Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"type": "sled", "datadir": "/tmp/sled"}, "s3": {"secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator", "region": "us-east-1", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com"}} }    
[2m2025-06-20T10:46:09.076246Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T10:46:09.078183Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T10:46:09.078364Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "region": "us-east-1", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "type": "s3", "bucket": "staging-system-operator"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T10:46:09.589724Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T11:13:31.404338Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:13:31.404703Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:31.407079Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:13:31.407151Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:13:31.407294Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:13:31.407299Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:13:31.407302Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:13:31.407305Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:31.428063Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:13:31.430562Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:31.433454Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:13:31.433987Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:13:31.434756Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:13:31.434762Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:13:31.434765Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:13:31.434768Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:31.727662Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:13:31.727693Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:13:31.727697Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:31.772901Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:13:31.772925Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:13:31.772928Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:31.898664Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:13:31.899627Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:13:31.900231Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:13:31.900569Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:13:31.901283Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:31.901766Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:31.902252Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:31.902789Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:31.904177Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:13:31.904189Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:13:31.904340Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:13:31.904504Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:13:31.904663Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:31.904835Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:13:31.904670Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:13:31.904911Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:13:31.904977Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:13:31.905201Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:13:31.905264Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:13:31.905197Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:13:31.905398Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:13:31.905404Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:13:31.905407Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:31.905514Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:13:31.905522Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:13:31.905526Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:31.905508Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:13:31.905559Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:13:31.905564Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:31.905609Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:13:31.905617Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:13:31.905620Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:13:31.905623Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:31.905778Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:13:31.905787Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:13:31.905790Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:32.034824Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:13:32.035877Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:13:32.035947Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:13:32.036084Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:13:32.037472Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.049104Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:13:32.051441Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:13:32.051836Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:13:32.052869Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:13:32.053927Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.053979Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:13:32.054547Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.054559Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:13:32.145040Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.165081Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:32.165644Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3", "bucket": "staging-system-operator", "region": "us-east-1"}, "sled": {"type": "sled", "datadir": "/tmp/sled"}} }    
[2m2025-06-20T11:13:32.214484Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:13:32.214509Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:13:32.214513Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:13:32.214515Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:32.218106Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:13:32.218129Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:13:32.218133Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:13:32.218135Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:32.231577Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:13:32.231603Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:13:32.231606Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:32.232205Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:13:32.232228Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:13:32.232232Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:13:32.232235Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:32.259394Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:13:32.259417Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:13:32.259421Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:13:32.259424Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:13:32.483725Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:13:32.485543Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:13:32.486183Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:13:32.487434Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:13:32.490833Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.506887Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.518088Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.522173Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:13:32.522462Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:13:32.523799Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:13:32.523792Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:13:32.524115Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:13:32.524122Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:13:32.524562Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:13:32.524973Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:13:32.525011Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:13:32.525314Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:13:32.525388Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:13:32.525509Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:13:32.526335Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.526637Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.526895Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.526953Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.538199Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.538902Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.547591Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:13:32.549026Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:13:32.549406Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:13:32.550216Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:13:32.551353Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.551791Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.560893Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.565125Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:32.577161Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T11:13:32.655684Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T11:13:32.714529Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:32.714757Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"region": "us-east-1", "bucket": "staging-system-operator", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3"}, "sled": {"type": "sled", "datadir": "/tmp/sled"}} }    
[2m2025-06-20T11:13:33.268792Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T11:13:33.656376Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:13:33.672879Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:33.673155Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"region": "us-east-1", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3", "bucket": "staging-system-operator", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T11:13:34.100969Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T11:13:34.106227Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:13:34.106671Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "region": "us-east-1", "bucket": "staging-system-operator", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3"}} }    
[2m2025-06-20T11:13:34.112996Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T11:17:59.915341Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:17:59.915744Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:17:59.917473Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:17:59.917567Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:17:59.917744Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:17:59.917751Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:17:59.917754Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:17:59.934892Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:17:59.935002Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:17:59.934876Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:17:59.935233Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:17:59.935475Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:17:59.936413Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:17:59.937522Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:17:59.937627Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:17:59.937658Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:17:59.937487Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:17:59.937857Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:17:59.938801Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:17:59.940036Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:17:59.940068Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:17:59.940341Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:17:59.940345Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:17:59.940345Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:17:59.940906Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:17:59.940875Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:17:59.940941Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:17:59.941011Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:17:59.940851Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:17:59.941071Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:17:59.941533Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:17:59.941544Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:17:59.941548Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:17:59.941556Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:17:59.941563Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:17:59.941566Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:17:59.941429Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:17:59.941627Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:17:59.941635Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:17:59.941638Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:17:59.941697Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:17:59.941705Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:17:59.941709Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:17:59.941712Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:17:59.941743Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:17:59.941750Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:17:59.941754Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:17:59.941757Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:17:59.942425Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:17:59.942434Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:17:59.942438Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:17:59.942441Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:18:00.311393Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:18:00.311418Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:18:00.311422Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:18:00.311425Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:18:00.315522Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:18:00.315555Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:18:00.315562Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:18:00.315569Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:18:00.317650Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:18:00.317674Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:18:00.317678Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:18:00.318880Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:18:00.318902Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:18:00.318907Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:18:00.334342Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:18:00.334366Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:18:00.334370Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:18:00.350439Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:18:00.350463Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:18:00.350467Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:18:00.352277Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:18:00.352301Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:18:00.352304Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:18:00.621701Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:18:00.624155Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:18:00.624579Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:18:00.625546Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:18:00.625972Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:18:00.626986Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:18:00.627109Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:18:00.627297Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:18:00.627732Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.628975Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.631904Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:18:00.633529Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:18:00.633976Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:18:00.634953Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:18:00.635029Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:18:00.635197Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:18:00.635386Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:18:00.636157Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:18:00.636213Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.636405Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:18:00.636267Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:18:00.636908Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.636919Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:18:00.637399Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:18:00.637634Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:18:00.637969Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:18:00.638981Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:18:00.639793Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.640530Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.668296Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:18:00.669617Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:18:00.669862Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:18:00.670710Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:18:00.671129Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:18:00.671236Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:18:00.671851Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.672449Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:18:00.672672Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:18:00.673518Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:18:00.674692Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.741861Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.743098Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.744339Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.745347Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.745490Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.754521Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.755053Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.761831Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:18:00.762112Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "region": "us-east-1", "bucket": "staging-system-operator", "type": "s3"}, "sled": {"type": "sled", "datadir": "/tmp/sled"}} }    
[2m2025-06-20T11:18:00.762854Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.763496Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:00.771785Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T11:18:01.298784Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T11:18:01.422483Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:18:01.422749Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"type": "sled", "datadir": "/tmp/sled"}, "s3": {"type": "s3", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "bucket": "staging-system-operator", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7"}} }    
[2m2025-06-20T11:18:01.428527Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T11:18:01.744609Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:18:01.758756Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:18:01.759009Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "type": "s3", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "region": "us-east-1"}} }    
[2m2025-06-20T11:18:01.765591Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T11:18:01.767599Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:18:01.767831Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"type": "s3", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "bucket": "staging-system-operator", "region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T11:18:02.428297Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T11:19:27.357347Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:19:27.357677Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:27.358425Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:19:27.358494Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:19:27.358646Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:19:27.358652Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:19:27.358655Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:19:27.358658Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.376026Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:19:27.376264Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:19:27.378318Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:27.378289Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:27.380564Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:19:27.380601Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:19:27.381182Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:19:27.381251Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:19:27.381856Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:19:27.381861Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:19:27.381865Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:19:27.381868Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.381894Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:19:27.381900Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:19:27.381903Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.703692Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:19:27.703718Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:19:27.703722Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.720163Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:19:27.720188Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:19:27.720192Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.731134Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:19:27.731160Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:19:27.731163Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.877686Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:19:27.878007Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:27.878570Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:19:27.878673Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:19:27.878810Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:19:27.878817Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:19:27.878820Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:19:27.878823Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.896240Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:19:27.896349Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:19:27.897843Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:19:27.898656Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:27.898738Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:27.899837Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:27.900957Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:19:27.901006Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:19:27.901664Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:19:27.901523Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:19:27.901751Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:19:27.902022Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:19:27.902247Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:19:27.902257Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:19:27.902254Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:19:27.902264Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:19:27.902257Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:19:27.902260Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.902267Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:19:27.902270Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.902606Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:19:27.902612Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:19:27.902615Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:19:27.902618Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:27.982233Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:19:27.983822Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:19:27.984079Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:19:27.984915Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:19:27.986262Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.002236Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:19:28.002934Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:19:28.003007Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:19:28.003156Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:19:28.003879Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.009970Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:19:28.010254Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:19:28.010737Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.012589Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:19:28.012980Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:19:28.013794Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:19:28.015360Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.015719Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.061579Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T11:19:28.174691Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:19:28.174714Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:19:28.174718Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:28.193296Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:19:28.193321Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:19:28.193324Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:28.224065Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:19:28.224090Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:19:28.224094Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:28.226113Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:19:28.226136Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:19:28.226140Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:19:28.459288Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:19:28.460038Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:19:28.460109Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:19:28.460357Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:19:28.461359Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.472277Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:19:28.473771Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:19:28.474055Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:19:28.474789Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.475066Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:19:28.476088Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.476131Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:19:28.476683Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.476693Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:19:28.488698Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:28.488996Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "region": "us-east-1", "type": "s3", "bucket": "staging-system-operator"}} }    
[2m2025-06-20T11:19:28.508128Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:19:28.509501Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:19:28.509771Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:19:28.510644Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:19:28.512448Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.526457Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.593011Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.611059Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.644892Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:19:28.646421Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:19:28.646672Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:19:28.647577Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:19:28.649667Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.528601Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T11:19:28.658193Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:28.658435Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "region": "us-east-1", "bucket": "staging-system-operator", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "type": "s3", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7"}} }    
[2m2025-06-20T11:19:28.664169Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.663984Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T11:19:28.674183Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.681540Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.939564Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:19:28.953952Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:28.954210Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"datadir": "/tmp/sled", "type": "sled"}, "s3": {"region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "bucket": "staging-system-operator", "type": "s3", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7"}} }    
[2m2025-06-20T11:19:28.959160Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T11:19:28.961223Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:19:28.961400Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "type": "s3", "bucket": "staging-system-operator"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T11:19:29.483027Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T11:24:14.360098Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:24:14.360504Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:14.361498Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:24:14.361574Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:24:14.361752Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:24:14.361757Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:24:14.361760Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.376720Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:24:14.376706Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:24:14.378903Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:14.378889Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:14.383390Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:24:14.383425Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:24:14.383892Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:24:14.383938Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:24:14.384685Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:24:14.384691Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:24:14.384694Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.384744Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:24:14.384749Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:24:14.384752Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:24:14.384755Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.650215Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:24:14.650241Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:24:14.650245Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.704582Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:24:14.704608Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:24:14.704611Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.705244Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:24:14.705270Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:24:14.705273Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.878674Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:24:14.879004Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:14.879547Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:24:14.879632Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:24:14.879797Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:24:14.879802Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:24:14.879805Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:24:14.879807Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.897316Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:24:14.897497Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:24:14.897337Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:24:14.899589Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:14.899651Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:14.899570Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:14.902310Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:24:14.902420Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:24:14.902423Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:24:14.902823Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:24:14.902890Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:24:14.902933Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:24:14.903701Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:24:14.903708Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:24:14.903711Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:24:14.903713Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.903752Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:24:14.903758Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:24:14.903761Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.903808Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:24:14.903817Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:24:14.903820Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:24:14.903823Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:14.986917Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:24:14.988245Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:24:14.989907Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:24:14.990183Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:24:14.991070Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:24:14.992581Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:14.998872Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:24:15.000117Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:24:15.000320Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:24:15.001133Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:24:15.003229Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.020447Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.020458Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.029721Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.031814Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:15.032075Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"type": "sled", "datadir": "/tmp/sled"}, "s3": {"secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator", "region": "us-east-1", "type": "s3", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com"}} }    
[2m2025-06-20T11:24:15.038663Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.073770Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:24:15.073837Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:24:15.074693Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:24:15.074851Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:24:15.074978Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:24:15.075992Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.126637Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T11:24:15.087812Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T11:24:15.152986Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:15.153240Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "type": "s3", "region": "us-east-1"}, "sled": {"datadir": "/tmp/sled", "type": "sled"}} }    
[2m2025-06-20T11:24:15.206419Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:24:15.206444Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:24:15.206448Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:15.212221Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:24:15.212246Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:24:15.212251Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:15.224790Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:24:15.224813Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:24:15.224816Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:24:15.224819Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:15.225053Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:24:15.225077Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:24:15.225080Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:24:15.489980Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:24:15.491289Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:24:15.491533Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:24:15.492394Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:24:15.493633Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.507334Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.516031Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:24:15.516787Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:24:15.516855Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:24:15.516976Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:24:15.517320Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.517367Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:24:15.517718Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.517732Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:24:15.534352Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:24:15.535762Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:24:15.536034Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:24:15.536937Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:24:15.538376Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.550089Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.562516Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.569931Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.611101Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:24:15.612748Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:24:15.613051Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:24:15.613989Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:24:15.615485Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.629926Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.679371Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T11:24:15.972691Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Error while searching graph for documents: NodeIdNotFound    
[2m2025-06-20T11:24:15.974364Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/../../docs/src",
    service: Ripgrep,
}    
[2m2025-06-20T11:24:15.985728Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:15.985985Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"s3": {"access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "bucket": "staging-system-operator", "region": "us-east-1", "secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "type": "s3"}, "sled": {"type": "sled", "datadir": "/tmp/sled"}} }    
[2m2025-06-20T11:24:16.375551Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to save thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::save::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:21:39
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_middleware::thesaurus::build_thesaurus_from_haystack::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_middleware/src/thesaurus/mod.rs:72:32
  23: terraphim_service::TerraphimService::build_thesaurus::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:42:80
  24: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:179:52
  25: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  26: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  27: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  28: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  29: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  30: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  31: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  32: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  33: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  34: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  35: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  36: ___rust_try
  37: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  38: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  39: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  40: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  41: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  42: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  43: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  44: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  45: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:674:17
  46: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  47: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  49: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  50: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  51: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  52: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  53: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  54: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  55: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  56: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  57: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  58: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  59: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  60: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  61: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  62: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  63: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  64: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  65: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  66: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  67: ___rust_try
  68: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  69: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  70: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  71: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  72: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  73: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  74: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  75: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  76: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  77: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  78: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  79: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  80: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  81: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  82: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  83: ___rust_try
  84: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  85: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  86: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  87: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  90: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  91: __pthread_joiner_wake

)    
[2m2025-06-20T11:24:16.384346Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:24:16.385069Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loaded settings: DeviceSettings { server_hostname: "127.0.0.1:8000", api_endpoint: "http://localhost:8000/api", initialized: true, default_data_path: "/Users/alex/projects/terraphim/terraphim-ai/docs/src", profiles: {"sled": {"type": "sled", "datadir": "/tmp/sled"}, "s3": {"secret_access_key": "b8d9936c0801742e4563f2213596aa92bfad0131540d84883bcb4cf1324bfad7", "access_key_id": "f52d1ae7104bb2f627e76a3be74a1fd7", "type": "s3", "region": "us-east-1", "endpoint": "https://4a345f44f6a673abdaf28eea80da7588.r2.cloudflarestorage.com", "bucket": "staging-system-operator"}} }    
[2m2025-06-20T11:24:16.391611Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Failed to load thesaurus: OpenDal(ConfigInvalid (permanent) at  => open db

Context:
   service: sled
   datadir: /tmp/sled

Source:
   Read corrupted data at file offset Some(Inline(71)) backtrace ()

Backtrace:
   0: std::backtrace_rs::backtrace::libunwind::trace
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/libunwind.rs:117:9
   1: std::backtrace_rs::backtrace::trace_unsynchronized
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/../../backtrace/src/backtrace/mod.rs:66:14
   2: std::backtrace::Backtrace::create
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/backtrace.rs:331:13
   3: opendal::types::error::Error::new
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/error.rs:338:24
   4: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:88:13
   5: core::result::Result<T,E>::map_err
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/result.rs:856:27
   6: <opendal::services::sled::backend::SledBuilder as opendal::types::builder::Builder>::build
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/services/sled/backend.rs:87:18
   7: opendal::types::operator::builder::<impl opendal::types::operator::operator::Operator>::from_map
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/opendal-0.44.2/src/types/operator/builder.rs:118:19
   8: terraphim_persistence::settings::parse_profile::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:144:25
   9: terraphim_persistence::settings::parse_profiles::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/settings.rs:169:65
  10: terraphim_persistence::init_device_storage::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:38:57
  11: terraphim_persistence::DeviceStorage::instance::{{closure}}::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:26:65
  12: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:36
  13: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:706:42
  14: async_once_cell::Step::poll_init
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:638:30
  15: <async_once_cell::InitFuture<T,F> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:704:9
  16: async_once_cell::OnceCell<T>::get_or_try_init::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/async-once-cell-0.5.4/src/lib.rs:793:60
  17: terraphim_persistence::DeviceStorage::instance::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:29:14
  18: terraphim_persistence::Persistable::load_config::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/lib.rs:78:47
  19: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  20: terraphim_persistence::thesaurus::<impl terraphim_persistence::Persistable for terraphim_types::Thesaurus>::load::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_persistence/src/thesaurus.rs:28:38
  21: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  22: terraphim_service::TerraphimService::ensure_thesaurus_loaded::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:71:90
  23: terraphim_service::TerraphimService::search::{{closure}}
             at /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_service/src/lib.rs:180:74
  24: terraphim_mcp_server::McpService::search::{{closure}}
             at ./src/lib.rs:87:45
  25: <terraphim_mcp_server::McpService as rmcp::handler::server::ServerHandler>::call_tool::{{closure}}
             at ./src/lib.rs:234:59
  26: rmcp::handler::server::<impl rmcp::service::Service<rmcp::service::server::RoleServer> for H>::handle_request::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/handler/server.rs:62:18
  27: rmcp::service::serve_inner::{{closure}}::{{closure}}
             at /Users/alex/.cargo/git/checkouts/rust-sdk-773cd6d57c4837f3/13e72ec/crates/rmcp/src/service.rs:758:83
  28: <core::pin::Pin<P> as core::future::future::Future>::poll
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/future/future.rs:124:9
  29: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  30: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  31: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  32: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  33: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  34: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  35: ___rust_try
  36: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  37: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  38: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  39: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  40: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  41: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  42: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  43: tokio::runtime::task::LocalNotified<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:463:9
  44: tokio::runtime::scheduler::multi_thread::worker::Context::run_task::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:600:13
  45: tokio::task::coop::with_budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:167:5
  46: tokio::task::coop::budget
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/task/coop/mod.rs:133:5
  47: tokio::runtime::scheduler::multi_thread::worker::Context::run_task
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:594:9
  48: tokio::runtime::scheduler::multi_thread::worker::Context::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:542:24
  49: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:507:21
  50: tokio::runtime::context::scoped::Scoped<T>::set
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/scoped.rs:40:9
  51: tokio::runtime::context::set_scheduler::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:26
  52: std::thread::local::LocalKey<T>::try_with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:311:12
  53: std::thread::local::LocalKey<T>::with
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/local.rs:275:15
  54: tokio::runtime::context::set_scheduler
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context.rs:176:9
  55: tokio::runtime::scheduler::multi_thread::worker::run::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:502:9
  56: tokio::runtime::context::runtime::enter_runtime
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/context/runtime.rs:65:16
  57: tokio::runtime::scheduler::multi_thread::worker::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:494:5
  58: tokio::runtime::scheduler::multi_thread::worker::Launch::launch::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/scheduler/multi_thread/worker.rs:460:45
  59: <tokio::runtime::blocking::task::BlockingTask<T> as core::future::future::Future>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/task.rs:42:21
  60: tokio::runtime::task::core::Core<T,S>::poll::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:331:17
  61: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/loom/std/unsafe_cell.rs:16:9
  62: tokio::runtime::task::core::Core<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/core.rs:320:13
  63: tokio::runtime::task::harness::poll_future::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:532:19
  64: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  65: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  66: ___rust_try
  67: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  68: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  69: tokio::runtime::task::harness::poll_future
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:520:18
  70: tokio::runtime::task::harness::Harness<T,S>::poll_inner
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:209:27
  71: tokio::runtime::task::harness::Harness<T,S>::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/harness.rs:154:15
  72: tokio::runtime::task::raw::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:271:5
  73: tokio::runtime::task::raw::RawTask::poll
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/raw.rs:201:18
  74: tokio::runtime::task::UnownedTask<S>::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/task/mod.rs:500:9
  75: tokio::runtime::blocking::pool::Task::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:161:9
  76: tokio::runtime::blocking::pool::Inner::run
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:511:17
  77: tokio::runtime::blocking::pool::Spawner::spawn_thread::{{closure}}
             at /Users/alex/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.45.1/src/runtime/blocking/pool.rs:469:13
  78: std::sys::backtrace::__rust_begin_short_backtrace
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/sys/backtrace.rs:152:18
  79: std::thread::Builder::spawn_unchecked_::{{closure}}::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:559:17
  80: <core::panic::unwind_safe::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/panic/unwind_safe.rs:272:9
  81: std::panicking::try::do_call
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:589:40
  82: ___rust_try
  83: std::panicking::try
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panicking.rs:552:19
  84: std::panic::catch_unwind
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/panic.rs:359:14
  85: std::thread::Builder::spawn_unchecked_::{{closure}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/std/src/thread/mod.rs:557:30
  86: core::ops::function::FnOnce::call_once{{vtable.shim}}
             at /Users/alex/.rustup/toolchains/stable-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5
  87: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  88: <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/alloc/src/boxed.rs:1966:9
  89: std::sys::pal::unix::thread::Thread::new::thread_start
             at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/sys/pal/unix/thread.rs:109:17
  90: __pthread_joiner_wake

)    
[2m2025-06-20T11:24:16.796391Z[0m [31mERROR[0m [2mlog[0m[2m:[0m Error while searching graph for documents: NodeIdNotFound    
[2m2025-06-20T11:34:28.696881Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:34:28.697555Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:34:28.699326Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:34:28.699399Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:34:28.699544Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:34:28.699550Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:34:28.699553Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:28.717571Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:34:28.717602Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:34:28.717569Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:34:28.717879Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:34:28.719288Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:34:28.721704Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:34:28.721823Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:34:28.721780Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:34:28.721913Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:34:28.722808Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:34:28.724353Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:34:28.724376Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:34:28.724678Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:34:28.724690Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:34:28.724992Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:34:28.725138Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:34:28.725205Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:34:28.725386Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:34:28.725388Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:34:28.725416Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:34:28.726171Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:34:28.726179Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:34:28.726182Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:28.726218Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:34:28.726228Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:34:28.726291Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:34:28.726301Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:34:28.726231Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:28.726304Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:34:28.726319Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:28.726396Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:34:28.726405Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:34:28.726408Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:34:28.726411Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:28.726445Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:34:28.726454Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:34:28.726458Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:29.117885Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:34:29.117922Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:34:29.117934Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:34:29.117937Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:29.124698Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:34:29.124785Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:34:29.124791Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:29.155102Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:34:29.155128Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:34:29.155131Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:29.165769Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:34:29.165813Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:34:29.165817Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:34:29.165820Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:29.166236Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:34:29.166263Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:34:29.166267Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:29.220422Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:34:29.220456Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:34:29.220461Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:29.530788Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:34:29.531137Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:34:29.531878Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:34:29.531944Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:34:29.532083Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:34:29.532089Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:34:29.532092Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:34:29.532094Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                [2m2025-06-20T11:34:29.979218Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:34:29.979241Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:34:29.979246Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:34:30.298990Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:34:30.299822Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:34:30.299904Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:34:30.300031Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:34:30.300978Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:34:30.301017Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:51.466735Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:37:51.467083Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:37:51.468488Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:37:51.468553Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:37:51.468690Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:37:51.468696Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:37:51.468699Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:51.485059Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:37:51.487242Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:37:51.489852Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:37:51.490270Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:37:51.490939Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:37:51.490944Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:37:51.490946Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:37:51.490949Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:51.784123Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:37:51.784146Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:37:51.784150Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:51.794348Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:37:51.794372Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:37:51.794375Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:51.973102Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:37:51.973424Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:37:51.973994Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:37:51.974056Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:37:51.974192Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:37:51.974196Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:37:51.974199Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:37:51.974202Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:51.990931Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:37:51.991117Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:37:51.991277Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:37:51.992590Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:37:51.993353Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:37:51.993384Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:37:51.993441Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:37:51.994929Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:37:51.995986Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:37:51.996033Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:37:51.996209Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:37:51.996839Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:37:51.996690Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:37:51.996762Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:37:51.996823Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:37:51.997188Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:37:51.997391Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:37:51.997398Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:37:51.997402Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:37:51.997405Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:51.997433Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:37:51.997439Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:37:51.997443Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:51.997479Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:37:51.997487Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:37:51.997491Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:51.997695Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:37:51.997703Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:37:51.997706Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:52.096717Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:37:52.096786Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:37:52.097749Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:37:52.097819Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:37:52.097943Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:37:52.099797Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:37:52.101764Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:37:52.102051Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:37:52.102911Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:37:52.263424Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:37:52.263447Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:37:52.263451Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:52.303320Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:37:52.303343Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:37:52.303348Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:37:52.303351Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:52.312255Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:37:52.312280Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:37:52.312284Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:37:52.312287Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:52.319138Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:37:52.319160Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:37:52.319163Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:52.323387Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:37:52.323410Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:37:52.323415Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:37:52.594085Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:37:52.594234Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:37:52.594948Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:37:52.595032Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:37:52.595157Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:37:52.595647Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:37:52.596000Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:37:52.596920Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:37:52.639701Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:37:52.641000Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:37:52.641274Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:37:52.642134Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:37:52.654509Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:37:52.654798Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:37:52.656009Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:37:52.656205Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:37:52.657035Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:37:52.657814Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:52.657868Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:52.658552Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:52.658561Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:52.667516Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:37:52.668664Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:37:52.668843Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:37:52.669716Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:37:53.101673Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.101781Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.105854Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.105898Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.107476Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.107554Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.107910Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.107949Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.110386Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.110420Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.599245Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.599385Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.601611Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.601735Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.602652Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.602679Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.603001Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.603065Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.605894Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.605927Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.608404Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.608438Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.646238Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.646368Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:37:53.650881Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m3 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T11:37:53.672736Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:37:53.672842Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:12.827019Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:39:12.827400Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:39:12.828224Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:39:12.828310Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:39:12.828449Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:39:12.828455Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:39:12.828458Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:12.849144Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:39:12.849330Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:39:12.849376Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:39:12.849421Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:39:12.849503Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:39:12.850441Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Starting Terraphim MCP server
[2m2025-06-20T11:39:12.851634Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:39:12.851512Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:39:12.851635Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:39:12.851674Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:39:12.851788Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:39:12.853025Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading device settings...    
[2m2025-06-20T11:39:12.854872Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:39:12.855092Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:39:12.855353Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:39:12.855352Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:39:12.855406Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:39:12.855573Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:39:12.855677Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:39:12.855921Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Current working directory: /Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server    
[2m2025-06-20T11:39:12.855810Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:39:12.855747Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:39:12.855876Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:39:12.856207Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:39:12.856216Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:39:12.856220Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:12.856296Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:39:12.856305Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:39:12.856309Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:39:12.856311Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:12.856347Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:39:12.856355Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:39:12.856358Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:39:12.856361Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:12.856286Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Automata remote URL: Remote URL: "https://staging-storage.terraphim.io/thesaurus_Default.json"    
[2m2025-06-20T11:39:12.856455Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:39:12.856462Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:39:12.856466Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:39:12.856468Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:12.856557Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:39:12.856566Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:39:12.856569Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:12.857006Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:39:12.857013Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:39:12.857016Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:13.148137Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:39:13.148181Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:39:13.148188Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:39:13.148195Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:13.198423Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:39:13.198457Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:39:13.198464Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:13.199346Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:39:13.199371Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:39:13.199375Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:39:13.199378Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:13.202267Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:39:13.202292Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:39:13.202295Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:13.212697Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:39:13.212720Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:39:13.212724Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:13.213754Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Engineer    
[2m2025-06-20T11:39:13.213777Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role Engineer is configured correctly    
[2m2025-06-20T11:39:13.213780Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `Engineer` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:13.237462Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role System Operator    
[2m2025-06-20T11:39:13.237487Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Role System Operator is configured correctly    
[2m2025-06-20T11:39:13.237491Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Loading Role `System Operator` - URL: Remote("https://staging-storage.terraphim.io/thesaurus_Default.json")    
[2m2025-06-20T11:39:13.502675Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:39:13.503551Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:39:13.505862Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:39:13.506224Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:39:13.507189Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:39:13.509296Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:13.509374Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:13.512898Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:39:13.515205Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:39:13.515566Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:39:13.516495Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:39:13.518324Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:13.518420Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:13.521769Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:39:13.522610Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:39:13.522680Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:39:13.522803Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:39:13.523179Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:13.523229Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:13.523602Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:13.523612Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:13.527258Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Creating role Default    
[2m2025-06-20T11:39:13.527567Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:39:13.529435Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:39:13.529709Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:39:13.530453Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:39:13.531631Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:13.531666Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:13.532563Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:39:13.533801Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:39:13.534054Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:39:13.534838Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:39:13.536034Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:13.536074Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:13.552797Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:39:13.554021Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:39:13.554249Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:39:13.555107Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:39:13.556262Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:13.556304Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:13.559163Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m Initialized Terraphim MCP service
[2m2025-06-20T11:39:13.560347Z[0m [32m INFO[0m [2mrmcp::handler::server[0m[2m:[0m client initialized
[2m2025-06-20T11:39:13.560596Z[0m [32m INFO[0m [1mserve_inner[0m[2m:[0m [2mrmcp::service[0m[2m:[0m Service initialized as server [3mpeer_info[0m[2m=[0mSome(InitializeRequestParam { protocol_version: ProtocolVersion("2025-03-26"), capabilities: ClientCapabilities { experimental: None, roots: None, sampling: None }, client_info: Implementation { name: "rmcp", version: "0.1.5" } })
[2m2025-06-20T11:39:13.561346Z[0m [32m INFO[0m [2mterraphim_mcp_server[0m[2m:[0m MCP server initialized and ready to handle requests
[2m2025-06-20T11:39:13.563089Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:13.563131Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.011420Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.011504Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.021394Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.021453Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.034316Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.034384Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.038857Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.038920Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.058964Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.059028Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.065918Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.065979Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.514228Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.514313Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.523119Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.523176Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.537068Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.537130Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.541090Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.541141Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.561072Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.561136Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:14.568517Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:14.568577Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.016706Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.016824Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.026112Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.026220Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.039283Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.039368Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.043100Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.043175Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.063771Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.063839Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.071275Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.071331Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.519836Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.520000Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.529903Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.530079Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.542509Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.542637Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.546369Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.546473Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.566112Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.566233Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:15.574040Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:15.574148Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.024025Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.024153Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.034113Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.034277Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.045662Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.045820Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.049569Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.049725Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.069221Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.069344Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.076623Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.076720Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.526800Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.526902Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.537768Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.537856Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.547948Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.548037Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.551992Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.552077Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.571610Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.571824Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:16.580119Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:16.580285Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.028968Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.029091Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.039949Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.040034Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.050983Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.051085Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.054966Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.055047Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.075146Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.075248Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.083675Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.083859Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.530949Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.531071Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.542920Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.543015Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.553895Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.553975Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.557897Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.557962Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.578096Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.578181Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:17.586977Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:17.587054Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.034098Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.034188Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.044323Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.044405Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.056768Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.056847Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.059921Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.059989Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.080877Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.080954Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.089870Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.089937Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.537283Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.537419Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.538020Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.538042Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.546900Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.546991Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.549936Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.549958Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.551475Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.551527Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.553170Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.553191Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.558781Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.558854Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.562163Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.562237Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.563368Z[0m [33m WARN[0m [2mrmcp::service[0m[2m:[0m response error [3mid[0m[2m=[0m13 [3merror[0m[2m=[0mErrorData { code: ErrorCode(-32603), message: "Anyhow error: Invalid URI: invalid://resource/uri", data: None }
[2m2025-06-20T11:39:18.583571Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.583665Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.591772Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.591868Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.594091Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.594132Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.595463Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.595483Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
[2m2025-06-20T11:39:18.596594Z[0m [32m INFO[0m [2mlog[0m[2m:[0m Finding documents in haystack: Haystack {
    path: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/",
    service: Ripgrep,
}    
[2m2025-06-20T11:39:18.596603Z[0m [33m WARN[0m [2mlog[0m[2m:[0m Haystack path does not exist: "/Users/alex/projects/terraphim/terraphim-ai/crates/terraphim_mcp_server/terraphim_server/fixtures/haystack/"    
