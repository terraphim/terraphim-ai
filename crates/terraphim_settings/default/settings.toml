server_hostname = "127.0.0.1:8000"
api_endpoint="http://localhost:8000/api"
initialized = "${TERRAPHIM_INITIALIZED:-false}"
default_data_path = "${TERRAPHIM_DATA_PATH:-~/.terraphim}"

# Persistent storage configuration for local development
# SQLite: Persistent storage with excellent concurrency (WAL mode)
# Using only SQLite to ensure role selections persist across CLI invocations

[profiles.sqlite]
type = "sqlite"
datadir = "${TERRAPHIM_DATA_PATH:-~/.terraphim}/sqlite"
connection_string = "${TERRAPHIM_DATA_PATH:-~/.terraphim}/sqlite/terraphim.db"
table = "terraphim_kv"

# DashMap disabled - in-memory storage doesn't persist across process restarts
# This caused role selections to be lost between CLI invocations
# [profiles.dashmap]
# type = "dashmap"
# root = "/tmp/terraphim_dashmap"

# RocksDB disabled - causes locking issues and build complexity
# [profiles.rocksdb]
# type = "rocksdb"
# datadir = "/tmp/terraphim_rocksdb"

# ReDB disabled for local development to avoid database locking issues
# [profiles.redb]
# type = "redb"
# datadir = "/tmp/terraphim_redb/local_dev.redb"
# table = "terraphim"
