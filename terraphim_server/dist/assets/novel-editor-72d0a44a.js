import{o as ei,aa as xe,ae as fa,af as Fn,a4 as kd,S as Rt,i as Pt,s as Mt,q as pt,b as Gt,I as Ye,j as $t,k as Xh,m as rs,M as J,T as gt,$ as no,H as Lr,F as da,g as ae,d as Y,e as oe,t as W,r as bt,z as yt,B as wt,ag as Rd,ah as il,c as Zt,P as Si,Q as io,y as tt,u as Jt,f as Qt,h as te,K as zt,O as Kh,R as mc,L as le,A as Zh,ai as Jh,v as ot,_ as cn,a7 as Hn,aj as Qh,ak as Ee,p as Br,a as Lt,Y as zr,a0 as Be,al as tg,am as eg,an as rg,ao as ng,C as ig,ap as ag,aq as bc,ar as og,E as nu,l as Sr,Z as ao,a8 as $i,as as sg,at as lg,W as oo,U as Os,V as Ms}from"./vendor-ui-65216d17.js";import{M as ns,m as Fr,E as is,a as ug,b as Pd,N as iu,n as cg,P as bn,c as yn,d as fg,g as dg,f as pg,e as vg,h as hg,D as au,i as ou,w as gg,j as mg,S as bg,H as yg,I as wg,k as xg,l as Eg,o as _g,p as Sg,q as Cg}from"./vendor-editor-f87b2f73.js";const al=(e,{chars:t,offset:r=0})=>e.state.doc.textBetween(Math.max(0,e.state.selection.from-t),e.state.selection.from-r,`
`);function Id(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Id(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Dg(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Id(e))&&(n&&(n+=" "),n+=t);return n}function Tg(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=Ld(t))&&(n&&(n+=" "),n+=r);return n}function Ld(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=Ld(e[n]))&&(r&&(r+=" "),r+=t);return r}var su="-";function Og(e){var t=Ag(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,i=n===void 0?{}:n;function a(s){var l=s.split(su);return l[0]===""&&l.length!==1&&l.shift(),Nd(l,t)||Mg(s)}function o(s,l){var u=r[s]||[];return l&&i[s]?[].concat(u,i[s]):u}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function Nd(e,t){var o;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),i=n?Nd(e.slice(1),n):void 0;if(i)return i;if(t.validators.length!==0){var a=e.join(su);return(o=t.validators.find(function(s){var l=s.validator;return l(a)}))==null?void 0:o.classGroupId}}var yc=/^\[(.+)\]$/;function Mg(e){if(yc.test(e)){var t=yc.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function Ag(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},i=Rg(Object.entries(e.classGroups),r);return i.forEach(function(a){var o=a[0],s=a[1];ol(s,n,o,t)}),n}function ol(e,t,r,n){e.forEach(function(i){if(typeof i=="string"){var a=i===""?t:wc(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(kg(i)){ol(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(o){var s=o[0],l=o[1];ol(l,wc(t,s),r,n)})})}function wc(e,t){var r=e;return t.split(su).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function kg(e){return e.isThemeGetter}function Rg(e,t){return t?e.map(function(r){var n=r[0],i=r[1],a=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(s){var l=s[0],u=s[1];return[t+l,u]})):o});return[n,a]}):e}function Pg(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function i(a,o){r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(o){var s=r.get(o);if(s!==void 0)return s;if((s=n.get(o))!==void 0)return i(o,s),s},set:function(o,s){r.has(o)?r.set(o,s):i(o,s)}}}var Bd="!";function Ig(e){var t=e.separator||":",r=t.length===1,n=t[0],i=t.length;return function(o){for(var s=[],l=0,u=0,c,f=0;f<o.length;f++){var d=o[f];if(l===0){if(d===n&&(r||o.slice(f,f+i)===t)){s.push(o.slice(u,f)),u=f+i;continue}if(d==="/"){c=f;continue}}d==="["?l++:d==="]"&&l--}var p=s.length===0?o:o.substring(u),v=p.startsWith(Bd),h=v?p.substring(1):p,g=c&&c>u?c-u:void 0;return{modifiers:s,hasImportantModifier:v,baseClassName:h,maybePostfixModifierPosition:g}}}function Lg(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var i=n[0]==="[";i?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function Ng(e){return{cache:Pg(e.cacheSize),splitModifiers:Ig(e),...Og(e)}}var Bg=/\s+/;function zg(e,t){var r=t.splitModifiers,n=t.getClassGroupId,i=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(Bg).map(function(o){var s=r(o),l=s.modifiers,u=s.hasImportantModifier,c=s.baseClassName,f=s.maybePostfixModifierPosition,d=n(f?c.substring(0,f):c),p=!!f;if(!d){if(!f)return{isTailwindClass:!1,originalClassName:o};if(d=n(c),!d)return{isTailwindClass:!1,originalClassName:o};p=!1}var v=Lg(l).join(":"),h=u?v+Bd:v;return{isTailwindClass:!0,modifierId:h,classGroupId:d,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var s=o.modifierId,l=o.classGroupId,u=o.hasPostfixModifier,c=s+l;return a.has(c)?!1:(a.add(c),i(l,u).forEach(function(f){return a.add(s+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function Fg(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i,a,o=s;function s(u){var c=t[0],f=t.slice(1),d=f.reduce(function(p,v){return v(p)},c());return n=Ng(d),i=n.cache.get,a=n.cache.set,o=l,l(u)}function l(u){var c=i(u);if(c)return c;var f=zg(u,n);return a(u,f),f}return function(){return o(Tg.apply(null,arguments))}}function Wt(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var zd=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hg=/^\d+\/\d+$/,Gg=new Set(["px","full","screen"]),$g=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jg=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Ve(e){return an(e)||Gg.has(e)||Hg.test(e)||sl(e)}function sl(e){return wn(e,"length",Kg)}function Vg(e){return wn(e,"size",Fd)}function qg(e){return wn(e,"position",Fd)}function Ug(e){return wn(e,"url",Zg)}function Oa(e){return wn(e,"number",an)}function an(e){return!Number.isNaN(Number(e))}function Yg(e){return e.endsWith("%")&&an(e.slice(0,-1))}function vi(e){return xc(e)||wn(e,"number",xc)}function Dt(e){return zd.test(e)}function hi(){return!0}function Dr(e){return $g.test(e)}function Xg(e){return wn(e,"",Jg)}function wn(e,t,r){var n=zd.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function Kg(e){return Wg.test(e)}function Fd(){return!1}function Zg(e){return e.startsWith("url(")}function xc(e){return Number.isInteger(Number(e))}function Jg(e){return jg.test(e)}function Qg(){var e=Wt("colors"),t=Wt("spacing"),r=Wt("blur"),n=Wt("brightness"),i=Wt("borderColor"),a=Wt("borderRadius"),o=Wt("borderSpacing"),s=Wt("borderWidth"),l=Wt("contrast"),u=Wt("grayscale"),c=Wt("hueRotate"),f=Wt("invert"),d=Wt("gap"),p=Wt("gradientColorStops"),v=Wt("gradientColorStopPositions"),h=Wt("inset"),g=Wt("margin"),m=Wt("opacity"),y=Wt("padding"),E=Wt("saturate"),b=Wt("scale"),_=Wt("sepia"),w=Wt("skew"),x=Wt("space"),S=Wt("translate"),T=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},R=function(){return["auto",Dt,t]},M=function(){return[Dt,t]},C=function(){return["",Ve]},D=function(){return["auto",an,Dt]},A=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},k=function(){return["solid","dashed","dotted","double","none"]},L=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},N=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",Dt]},H=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[an,Oa]},X=function(){return[an,Dt]};return{cacheSize:500,theme:{colors:[hi],spacing:[Ve],blur:["none","",Dr,Dt],brightness:z(),borderColor:[e],borderRadius:["none","","full",Dr,Dt],borderSpacing:M(),borderWidth:C(),contrast:z(),grayscale:B(),hueRotate:X(),invert:B(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[Yg,sl],inset:R(),margin:R(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:B(),skew:X(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Dt]}],container:["container"],columns:[{columns:[Dr]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(A(),[Dt])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vi]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Dt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",vi]}],"grid-cols":[{"grid-cols":[hi]}],"col-start-end":[{col:["auto",{span:["full",vi]},Dt]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[hi]}],"row-start-end":[{row:["auto",{span:[vi]},Dt]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Dt]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal"].concat(N())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(N(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(N(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Dt,t]}],"min-w":[{"min-w":["min","max","fit",Dt,Ve]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Dr]},Dr,Dt]}],h:[{h:[Dt,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Dt,Ve]}],"max-h":[{"max-h":[Dt,t,"min","max","fit"]}],"font-size":[{text:["base",Dr,sl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Oa]}],"font-family":[{font:[hi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Dt]}],"line-clamp":[{"line-clamp":["none",an,Oa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dt,Ve]}],"list-image":[{"list-image":["none",Dt]}],"list-style-type":[{list:["none","disc","decimal",Dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(k(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Ve]}],"underline-offset":[{"underline-offset":["auto",Dt,Ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(A(),[qg])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vg]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ug]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[].concat(k(),["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:k()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(k())}],"outline-offset":[{"outline-offset":[Dt,Ve]}],"outline-w":[{outline:[Ve]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Ve]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dr,Xg]}],"shadow-color":[{shadow:[hi]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":L()}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Dr,Dt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Dt]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Dt]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[vi,Dt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Dt]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ve,Oa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var t0=Fg(Qg);const Ec=()=>{};function ll(...e){return t0(Dg(e))}function e0(e){try{return new URL(e),!0}catch{return!1}}function r0(e){if(e0(e))return e;try{if(e.includes(".")&&!e.includes(" "))return new URL(`https://${e}`).toString()}catch{return null}}function _c(){return typeof window<"u"}function n0(e,t){let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>e(...n),t)}}const i0=(e,t)=>{const r=xe(t);try{r.set(_c()&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t)}catch{}return ei(r.subscribe(n=>{_c()&&localStorage.setItem(e,JSON.stringify(n))})),r};var a0=Object.defineProperty,o0=(e,t,r)=>t in e?a0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gn=(e,t,r)=>(o0(e,typeof t!="symbol"?t+"":t,r),r),Hd=class{constructor(){Gn(this,"listeners",new Map)}subscribe(e,t){this.listeners.has(e)||this.listeners.set(e,[]),!this.listeners.get(e).includes(t)&&this.listeners.get(e).push(t)}unsubscribe(e,t){this.listeners.has(e)&&this.listeners.get(e).includes(t)&&(this.listeners.get(e).splice(this.listeners.get(e).indexOf(t),1),this.listeners.get(e).length===0&&this.listeners.delete(e))}emit(e,t){this.listeners.has(e)&&this.listeners.get(e).forEach(r=>r(t))}},s0={broadcast:!1},l0={broadcast:!1},Sc=class{constructor({data:e,expiresAt:t=null}){Gn(this,"data"),Gn(this,"expiresAt"),this.data=e,this.expiresAt=t}isResolving(){return this.data instanceof Promise}hasExpired(){return this.expiresAt===null||this.expiresAt<new Date}expiresIn(e){return this.expiresAt=new Date,this.expiresAt.setMilliseconds(this.expiresAt.getMilliseconds()+e),this}},u0=class{constructor(){Gn(this,"elements",new Map),Gn(this,"event",new Hd)}resolve(e,t){Promise.resolve(t.data).then(r=>{if(r==null)return this.remove(e);t.data=r,this.broadcast(e,r)})}get(e){return this.elements.get(e)}set(e,t){this.elements.set(e,t),this.resolve(e,t)}remove(e,t){const{broadcast:r}={...s0,...t};r&&this.broadcast(e,void 0),this.elements.delete(e)}clear(e){const{broadcast:t}={...l0,...e};if(t)for(const r of this.elements.keys())this.broadcast(r,void 0);this.elements.clear()}has(e){return this.elements.has(e)}subscribe(e,t){this.event.subscribe(e,t)}unsubscribe(e,t){this.event.unsubscribe(e,t)}broadcast(e,t){this.event.emit(e,t)}},Gd={cache:new u0,errors:new Hd,fetcher:async e=>{const t=await fetch(e);if(!t.ok)throw Error("Not a 2XX response.");return t.json()},fallbackData:void 0,loadInitialCache:!0,revalidateOnStart:!0,dedupingInterval:2e3,revalidateOnFocus:!0,focusThrottleInterval:5e3,revalidateOnReconnect:!0,reconnectWhen:(e,{enabled:t})=>t&&typeof window<"u"?(window.addEventListener("online",e),()=>window.removeEventListener("online",e)):()=>{},focusWhen:(e,{enabled:t,throttleInterval:r})=>{if(t&&typeof window<"u"){let n=null;const i=()=>{const a=Date.now();(n===null||a-n>r)&&(n=a,e())};return window.addEventListener("focus",i),()=>window.removeEventListener("focus",i)}return()=>{}},revalidateFunction:void 0},$d={...Gd,force:!1},c0={revalidate:!0,revalidateOptions:{...$d},revalidateFunction:void 0},f0={broadcast:!1},d0=class{constructor(e){Gn(this,"options"),this.options={...Gd,...e}}get cache(){return this.options.cache}get errors(){return this.options.errors}async requestData(e,t){return await Promise.resolve(t(e)).catch(r=>{throw this.errors.emit(e,r),r})}resolveKey(e){if(typeof e=="function")try{return e()}catch{return}return e}clear(e,t){const r={...f0,...t};if(e==null)return this.cache.clear(r);if(!Array.isArray(e))return this.cache.remove(e,r);for(const n of e)this.cache.remove(n,r)}async revalidate(e,t){if(!e)throw new Error("[Revalidate] Key issue: ${key}");const{fetcher:r,dedupingInterval:n}=this.options,{force:i,fetcher:a,dedupingInterval:o}={...$d,fetcher:r,dedupingInterval:n,...t};if(i||!this.cache.has(e)||this.cache.has(e)&&this.cache.get(e).hasExpired()){const s=this.requestData(e,a),l=s.catch(()=>{});return this.cache.set(e,new Sc({data:l}).expiresIn(o)),await s}return this.getWait(e)}async mutate(e,t,r){var n;if(!e)throw new Error("[Mutate] Key issue: ${key}");const{revalidate:i,revalidateOptions:a,revalidateFunction:o}={...c0,...r};let s;if(typeof t=="function"){let l;if(this.cache.has(e)){const u=this.cache.get(e);u.isResolving()||(l=u.data)}s=t(l)}else s=t;return this.cache.set(e,new Sc({data:s})),i?await((n=o==null?void 0:o(e,a))!=null?n:this.revalidate(e,a)):s}subscribeData(e,t){if(e){const r=n=>t(n);return this.cache.subscribe(e,r),()=>this.cache.unsubscribe(e,r)}return()=>{}}subscribeErrors(e,t){if(e){const r=n=>t(n);return this.errors.subscribe(e,r),()=>this.errors.unsubscribe(e,r)}return()=>{}}get(e){if(e&&this.cache.has(e)){const t=this.cache.get(e);if(!t.isResolving())return t.data}}getWait(e){return new Promise((t,r)=>{const n=this.subscribeData(e,o=>{if(n(),o!==void 0)return t(o)}),i=this.subscribeErrors(e,o=>{if(i(),o!==void 0)return r(o)}),a=this.get(e);if(a!==void 0)return t(a)})}subscribe(e,t,r,n){const{fetcher:i,fallbackData:a,loadInitialCache:o,revalidateOnStart:s,dedupingInterval:l,revalidateOnFocus:u,focusThrottleInterval:c,revalidateOnReconnect:f,reconnectWhen:d,focusWhen:p,revalidateFunction:v}={...this.options,...n},h=S=>{var T;return(T=v==null?void 0:v(this.resolveKey(e),S))!=null?T:this.revalidate(this.resolveKey(e),S)},g=()=>h({fetcher:i,dedupingInterval:l}),m=o?this.get(this.resolveKey(e)):a??void 0,y=s?g():Promise.resolve(void 0),E=m?Promise.resolve(m):y;m&&(t==null||t(m));const b=t?this.subscribeData(this.resolveKey(e),t):void 0,_=r?this.subscribeErrors(this.resolveKey(e),r):void 0,w=p(g,{throttleInterval:c,enabled:u}),x=d(g,{enabled:f});return{unsubscribe:()=>{b==null||b(),_==null||_(),w==null||w(),x==null||x()},dataPromise:E,revalidatePromise:y}}};function Nn(){}function p0(e){return e()}function v0(e){e.forEach(p0)}function h0(e){return typeof e=="function"}function g0(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function m0(e,...t){if(e==null){for(const n of t)n(void 0);return Nn}const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}var Cn=[];function b0(e,t){return{subscribe:ul(e,t).subscribe}}function ul(e,t=Nn){let r;const n=new Set;function i(s){if(g0(e,s)&&(e=s,r)){const l=!Cn.length;for(const u of n)u[1](),Cn.push(u,e);if(l){for(let u=0;u<Cn.length;u+=2)Cn[u][0](Cn[u+1]);Cn.length=0}}}function a(s){i(s(e))}function o(s,l=Nn){const u=[s,l];return n.add(u),n.size===1&&(r=t(i,a)||Nn),s(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:i,update:a,subscribe:o}}function Cc(e,t,r){const n=!Array.isArray(e),i=n?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return b0(r,(o,s)=>{let l=!1;const u=[];let c=0,f=Nn;const d=()=>{if(c)return;f();const v=t(n?u[0]:u,o,s);a?o(v):f=h0(v)?v:Nn},p=i.map((v,h)=>m0(v,g=>{u[h]=g,c&=~(1<<h),l&&d()},()=>{c|=1<<h}));return l=!0,d(),function(){v0(p),f(),l=!1}})}var y0=class extends d0{useSWR(e,t){let r;const n=ul(void 0,()=>()=>r==null?void 0:r()),i=ul(void 0,()=>()=>r==null?void 0:r());kd(()=>{const c=d=>{i.set(void 0),n.set(d)},f=d=>i.set(d);r||(r=this.subscribe(e,c,f,{loadInitialCache:!0,...t}).unsubscribe)}),ei(()=>r==null?void 0:r());const a=(c,f)=>this.mutate(this.resolveKey(e),c,{revalidateOptions:t,...f}),o=c=>this.revalidate(this.resolveKey(e),{...t,...c}),s=c=>this.clear(this.resolveKey(e),c),l=Cc([n,i],([c,f])=>c===void 0&&f===void 0),u=Cc([n,i],([c,f])=>c!==void 0&&f===void 0);return{data:n,error:i,mutate:a,revalidate:o,clear:s,isLoading:l,isValid:u}}},w0=e=>new y0(e),x0=w0(),E0=(e,t)=>x0.useSWR(e,t),Wi={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},ji={code:"1",name:"function_call",parse:e=>{if(e==null||typeof e!="object"||!("function_call"in e)||typeof e.function_call!="object"||e.function_call==null||!("name"in e.function_call)||!("arguments"in e.function_call)||typeof e.function_call.name!="string"||typeof e.function_call.arguments!="string")throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},Vi={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},qi={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Ui={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Yi={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Xi={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},Ki={code:"7",name:"tool_calls",parse:e=>{if(e==null||typeof e!="object"||!("tool_calls"in e)||typeof e.tool_calls!="object"||e.tool_calls==null||!Array.isArray(e.tool_calls)||e.tool_calls.some(t=>{t==null||typeof t!="object"||!("id"in t)||typeof t.id!="string"||!("type"in t)||typeof t.type!="string"||!("function"in t)||t.function==null||typeof t.function!="object"||!("arguments"in t.function)||typeof t.function.name!="string"||t.function.arguments}))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},Zi={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},_0=[Wi,ji,Vi,qi,Ui,Yi,Xi,Ki,Zi],S0={[Wi.code]:Wi,[ji.code]:ji,[Vi.code]:Vi,[qi.code]:qi,[Ui.code]:Ui,[Yi.code]:Yi,[Xi.code]:Xi,[Ki.code]:Ki,[Zi.code]:Zi};Wi.name+"",Wi.code,ji.name+"",ji.code,Vi.name+"",Vi.code,qi.name+"",qi.code,Ui.name+"",Ui.code,Yi.name+"",Yi.code,Xi.name+"",Xi.code,Ki.name+"",Ki.code,Zi.name+"",Zi.code;var C0=_0.map(e=>e.code),Wd=e=>{const t=e.indexOf(":");if(t===-1)throw new Error("Failed to parse stream string. No separator found.");const r=e.slice(0,t);if(!C0.includes(r))throw new Error(`Failed to parse stream string. Invalid code ${r}.`);const n=r,i=e.slice(t+1),a=JSON.parse(i);return S0[n].parse(a)},D0=`
`.charCodeAt(0);function T0(e,t){const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return e.length=0,r}async function*O0(e,{isAborted:t}={}){const r=new TextDecoder,n=[];let i=0;for(;;){const{value:a}=await e.read();if(a&&(n.push(a),i+=a.length,a[a.length-1]!==D0))continue;if(n.length===0)break;const o=T0(n,i);i=0;const s=r.decode(o,{stream:!0}).split(`
`).filter(l=>l!=="").map(Wd);for(const l of s)yield l;if(t!=null&&t()){e.cancel();break}}}function M0(e){const t=new TextDecoder;return e?function(r){return t.decode(r,{stream:!0}).split(`
`).filter(i=>i!=="").map(Wd).filter(Boolean)}:function(r){return r?t.decode(r,{stream:!0}):""}}var A0="X-Experimental-Stream-Data";async function k0({api:e,prompt:t,credentials:r,headers:n,body:i,setCompletion:a,setLoading:o,setError:s,setAbortController:l,onResponse:u,onFinish:c,onError:f,onData:d}){try{o(!0),s(void 0);const p=new AbortController;l(p),a("");const v=await fetch(e,{method:"POST",body:JSON.stringify({prompt:t,...i}),credentials:r,headers:{"Content-Type":"application/json",...n},signal:p.signal}).catch(y=>{throw y});if(u)try{await u(v)}catch(y){throw y}if(!v.ok)throw new Error(await v.text()||"Failed to fetch the chat response.");if(!v.body)throw new Error("The response body is empty.");let h="";const g=v.body.getReader();if(v.headers.get(A0)==="true")for await(const{type:y,value:E}of O0(g,{isAborted:()=>p===null}))switch(y){case"text":{h+=E,a(h);break}case"data":{d==null||d(E);break}}else{const y=M0();for(;;){const{done:E,value:b}=await g.read();if(E)break;if(h+=y(b),a(h),p===null){g.cancel();break}}}return c&&c(t,h),l(null),h}catch(p){if(p.name==="AbortError")return l(null),null;p instanceof Error&&f&&f(p),s(p)}finally{o(!1)}}var R0=0,Dc={};function jd({api:e="/api/completion",id:t,initialCompletion:r="",initialInput:n="",credentials:i,headers:a,body:o,onResponse:s,onFinish:l,onError:u}={}){const c=t||`completion-${R0++}`,f=`${e}|${c}`,{data:d,mutate:p,isLoading:v}=E0(f,{fetcher:()=>Dc[f]||r,fallbackData:r}),h=xe(void 0),g=xe(!1);d.set(r);const m=R=>(Dc[f]=R,p(R)),y=d,E=xe(void 0);let b=null;const _=async(R,M)=>{const C=Fn(h);return k0({api:e,prompt:R,credentials:i,headers:{...a,...M==null?void 0:M.headers},body:{...o,...M==null?void 0:M.body},setCompletion:m,setLoading:D=>g.set(D),setError:D=>E.set(D),setAbortController:D=>{b=D},onResponse:s,onFinish:l,onError:u,onData(D){h.set([...C||[],...D||[]])}})},w=()=>{b&&(b.abort(),b=null)},x=R=>{m(R)},S=xe(n),T=R=>{R.preventDefault();const M=Fn(S);if(M)return _(M)},O=fa([v,g],([R,M])=>R||M);return{completion:y,complete:_,error:E,stop:w,setCompletion:x,input:S,handleSubmit:T,isLoading:O,data:h}}function P0(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.map(function(n){return n.split(" ").map(function(i){return i?""+e+i:""}).join(" ")}).join(" ")}function I0(e,t){return t.replace(/([^}{]*){/gm,function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function br(e,t){return function(r){r&&(e[t]=r)}}function Vd(e,t,r){return function(n){n&&(e[t][r]=n)}}function Tc(e,t){return function(r){var n=r.prototype;e.forEach(function(i){t(n,i)})}}function L0(e,t){return t===void 0&&(t={}),function(r,n){e.forEach(function(i){var a=t[i]||i;a in r||(r[a]=function(){for(var o,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=(o=this[n])[i].apply(o,s);return u===this[n]?this:u})})}}var N0="function",B0="object",z0="string",F0="number",lu="undefined",qd=typeof window!==lu,H0=typeof document!==lu&&document,G0=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],ie=1e-7,Ma={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $0(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Zr(e,t,r,n){return(e*n+t*r)/(r+n)}function as(e){return typeof e===lu}function Ze(e){return e&&typeof e===B0}function se(e){return Array.isArray(e)}function Ce(e){return typeof e===z0}function $n(e){return typeof e===F0}function uu(e){return typeof e===N0}function W0(e,t){var r=e===""||e==" ",n=t===""||t==" ";return n&&r||e===t}function Ud(e,t,r,n,i){var a=cu(e,t,r);return a?r:j0(e,t,r+1,n,i)}function cu(e,t,r){if(!e.ignore)return null;var n=t.slice(Math.max(r-3,0),r+3).join("");return new RegExp(e.ignore).exec(n)}function j0(e,t,r,n,i){for(var a=function(u){var c=t[u].trim();if(c===e.close&&!cu(e,t,u))return{value:u};var f=u,d=De(i,function(p){var v=p.open;return v===c});if(d&&(f=Ud(d,t,u,n,i)),f===-1)return o=u,"break";u=f,o=u},o,s=r;s<n;++s){var l=a(s);if(s=o,typeof l=="object")return l.value;if(l==="break")break}return-1}function fu(e,t){var r=Ce(t)?{separator:t}:t,n=r.separator,i=n===void 0?",":n,a=r.isSeparateFirst,o=r.isSeparateOnlyOpenClose,s=r.isSeparateOpenClose,l=s===void 0?o:s,u=r.openCloseCharacters,c=u===void 0?G0:u,f=c.map(function(x){var S=x.open,T=x.close;return S===T?S:S+"|"+T}).join("|"),d="(\\s*"+i+"\\s*|"+f+"|\\s+)",p=new RegExp(d,"g"),v=e.split(p).filter(function(x){return x&&x!=="undefined"}),h=v.length,g=[],m=[];function y(){return m.length?(g.push(m.join("")),m=[],!0):!1}for(var E=function(x){var S=v[x].trim(),T=x,O=De(c,function(C){var D=C.open;return D===S}),R=De(c,function(C){var D=C.close;return D===S});if(O){if(T=Ud(O,v,x,h,c),T!==-1&&l)return y()&&a||(g.push(v.slice(x,T+1).join("")),x=T,a)?(b=x,"break"):(b=x,"continue")}else if(R&&!cu(R,v,x)){var M=$0(c);return M.splice(c.indexOf(R),1),{value:fu(e,{separator:i,isSeparateFirst:a,isSeparateOnlyOpenClose:o,isSeparateOpenClose:l,openCloseCharacters:M})}}else if(W0(S,i)&&!o)return y(),a?(b=x,"break"):(b=x,"continue");T===-1&&(T=h-1),m.push(v.slice(x,T+1).join("")),x=T,b=x},b,_=0;_<h;++_){var w=E(_);if(_=b,typeof w=="object")return w.value;if(w==="break")break}return m.length&&g.push(m.join("")),g}function Hr(e){return fu(e,"")}function on(e){return fu(e,",")}function Yd(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function pa(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var r=t[1],n=t[2],i=t[3];return{prefix:r,unit:i,value:parseFloat(n)}}function Xd(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,r){return r.toUpperCase()})}function Qa(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(r,n,i){return""+n+t+i.toLowerCase()})}function Ji(){return Date.now?Date.now():new Date().getTime()}function xr(e,t,r){r===void 0&&(r=-1);for(var n=e.length,i=0;i<n;++i)if(t(e[i],i,e))return i;return r}function De(e,t,r){var n=xr(e,t);return n>-1?e[n]:r}var Kd=function(){var e=Ji(),t=qd&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return t?t.bind(window):function(r){var n=Ji(),i=setTimeout(function(){r(n-e)},1e3/60);return i}}(),V0=function(){var e=qd&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return e?e.bind(window):function(t){clearTimeout(t)}}();function Er(e){return Object.keys(e)}function q0(e){var t=Er(e);return t.map(function(r){return e[r]})}function Nt(e,t){var r=pa(e),n=r.value,i=r.unit;if(Ze(t)){var a=t[i];if(a){if(uu(a))return a(n);if(Ma[i])return Ma[i](n,a)}}else if(i==="%")return n*t/100;return Ma[i]?Ma[i](n):n}function cl(e,t,r){return Math.max(t,Math.min(e,r))}function Oc(e,t,r,n){return n===void 0&&(n=e[0]/e[1]),[[mt(t[0],ie),mt(t[0]/n,ie)],[mt(t[1]*n,ie),mt(t[1],ie)]].filter(function(i){return i.every(function(a,o){var s=t[o],l=mt(s,ie);return r?a<=s||a<=l:a>=s||a>=l})})[0]||e}function Zd(e,t,r,n){if(!n)return e.map(function(p,v){return cl(p,t[v],r[v])});var i=e[0],a=e[1],o=n===!0?i/a:n,s=Oc(e,t,!1,o),l=s[0],u=s[1],c=Oc(e,r,!0,o),f=c[0],d=c[1];return i<l||a<u?(i=l,a=u):(i>f||a>d)&&(i=f,a=d),[i,a]}function U0(e){for(var t=e.length,r=0,n=t-1;n>=0;--n)r+=e[n];return r}function fl(e){for(var t=e.length,r=0,n=t-1;n>=0;--n)r+=e[n];return t?r/t:0}function re(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function Y0(e){return[0,1].map(function(t){return fl(e.map(function(r){return r[t]}))})}function Mc(e){var t=Y0(e),r=re(t,e[0]),n=re(t,e[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function yr(e,t){return Math.sqrt(Math.pow((t?t[0]:0)-e[0],2)+Math.pow((t?t[1]:0)-e[1],2))}function mt(e,t){if(!t)return e;var r=1/t;return Math.round(e/t)/r}function Ac(e,t){return e.forEach(function(r,n){e[n]=mt(e[n],t)}),e}function X0(e){for(var t=[],r=0;r<e;++r)t.push(r);return t}function K0(e){return e.reduce(function(t,r){return t.concat(r)},[])}function Jd(e,t){e.indexOf(t)===-1&&e.push(t)}function de(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function Qd(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function tp(e,t){if(e.classList)e.classList.remove(t);else{var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(r," ")}}function ve(e,t,r,n){e.addEventListener(t,r,n)}function fe(e,t,r,n){e.removeEventListener(t,r,n)}function ri(e){return(e==null?void 0:e.ownerDocument)||H0}function du(e){return ri(e).documentElement}function Ur(e){return ri(e).body}function Nr(e){var t;return((t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function ep(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function ni(e){return Ze(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var Z0=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(r){return this.values[this.keys.indexOf(r)]},t.set=function(r,n){var i=this.keys,a=this.values,o=i.indexOf(r),s=o===-1?i.length:o;i[s]=r,a[s]=n},e}(),J0=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(r){return this.object[r]},t.set=function(r,n){this.object[r]=n},e}(),Q0=typeof Map=="function",tm=function(){function e(){}var t=e.prototype;return t.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},t.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},t.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},e}();function em(e,t){var r=[],n=[];return e.forEach(function(i){var a=i[0],o=i[1],s=new tm;r[a]=s,n[o]=s}),r.forEach(function(i,a){i.connect(r[a-1])}),e.filter(function(i,a){return!t[a]}).map(function(i,a){var o=i[0],s=i[1];if(o===s)return[0,0];var l=r[o],u=n[s-1],c=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,r[0]);var f=l.getIndex();return[c,f]})}var rm=function(){function e(r,n,i,a,o,s,l,u){this.prevList=r,this.list=n,this.added=i,this.removed=a,this.changed=o,this.maintained=s,this.changedBeforeAdded=l,this.fixed=u}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var r=em(this.changedBeforeAdded,this.fixed),n=this.changed,i=[];this.cacheOrdered=r.filter(function(a,o){var s=a[0],l=a[1],u=n[o],c=u[0],f=u[1];if(s!==l)return i.push([c,f]),!0}),this.cachePureChanged=i},e}();function va(e,t,r){var n=Q0?Map:r?J0:Z0,i=r||function(y){return y},a=[],o=[],s=[],l=e.map(i),u=t.map(i),c=new n,f=new n,d=[],p=[],v={},h=[],g=0,m=0;return l.forEach(function(y,E){c.set(y,E)}),u.forEach(function(y,E){f.set(y,E)}),l.forEach(function(y,E){var b=f.get(y);typeof b>"u"?(++m,o.push(E)):v[b]=m}),u.forEach(function(y,E){var b=c.get(y);typeof b>"u"?(a.push(E),++g):(s.push([b,E]),m=v[E]||0,d.push([b-m,E-g]),p.push(E===b),b!==E&&h.push([b,E]))}),o.reverse(),new rm(e,t,a,o,h,s,d,p)}var nm=function(){function e(r,n){r===void 0&&(r=[]),this.findKeyCallback=n,this.list=[].slice.call(r)}var t=e.prototype;return t.update=function(r){var n=[].slice.call(r),i=va(this.list,n,this.findKeyCallback);return this.list=n,i},e}(),dl=function(e,t){return dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},dl(e,t)};function ha(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");dl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ar=function(){return ar=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ar.apply(this,arguments)};function rp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function kc(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Rc(e){var t=0;return e.map(function(r){return r==null?"$compat".concat(++t):"".concat(r)})}function np(e){var t=[];return e.forEach(function(r){t=t.concat(se(r)?np(r):r)}),t}function As(e,t){if(!t)return e;for(var r in t)as(e[r])&&(e[r]=t[r]);return e}function so(e,t){if(e===t)return!1;for(var r in e)if(!(r in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function Pc(e){var t=e.className,r=rp(e,["className"]);return t!=null&&(r.class=t),delete r.style,delete r.children,r}function Ic(e){var t={},r={};for(var n in e)n.indexOf("on")===0?r[n]=e[n]:t[n]=e[n];return[t,r]}function os(e){if(!e)return null;var t=e.b;return ni(t)?t:os(e.c)}function ip(e){var t=e.parentNode;t&&t.removeChild(e)}function ap(e){e.forEach(function(t){t()})}function im(){return this.constructor(this.props,this.context)}var pu=0,ss=function(){function e(r,n,i,a,o,s,l){l===void 0&&(l={}),this.t=r,this.d=n,this.k=i,this.i=a,this.c=o,this.ref=s,this.ps=l,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(r,n,i,a,o){var s=this,l=s.d,u=q0(n).filter(function(v){return v.$_req}),c=np(u.map(function(v){return v.$_subs})),f=De(c,function(v){return v.d===l});if(s.b&&!Ce(i)&&!o&&!s.s(i.props,a)&&!f){var d=c.reduce(function(v,h){var g=h.d;return v[0]?v[0].d===g&&v.push(h):g>l&&v.push(h),v},[]);return d.forEach(function(v){ga(v,v._ps,[v.o],r,n,!0)}),!1}s.o=i,s.ss(a);var p=s.ps;return Ce(i)||(s.ps=i.props,s.ref=i.ref),vu(this),s.r(r,n,s.b?p:{},a),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var r=this,n=r.ref,i=r.fr;n&&n(i?i.current:r.b)},e}();function op(){return Object.__CROACT_CURRENT_INSTNACE__}function am(){return pu}function om(e){pu=e}function vu(e){return Object.__CROACT_CURRENT_INSTNACE__=e,pu=0,e}var hu=function(){function e(r,n){r===void 0&&(r={}),this.props=r,this.context=n,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(r,n){return this.props!==r||this.state!==n},t.setState=function(r,n,i){var a=this;a.$_timer||(a.$_state={}),clearTimeout(a.$_timer),a.$_timer=0,a.$_state=ar(ar({},a.$_state),r),i?a.$_setState(n,i):a.$_timer=window.setTimeout(function(){a.$_timer=0,a.$_setState(n,i)})},t.forceUpdate=function(r){this.setState({},r,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(r,n){},t.componentWillUnmount=function(){},t.$_setState=function(r,n){var i=[],a=this.$_p,o=ga(a.c,[a],[a.o],i,a._cs,ar(ar({},this.state),this.$_state),n);o&&(r&&i.push(r),ap(i),vu(null))},e}(),sp=function(e){ha(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var r=t.prototype;return r.shouldComponentUpdate=function(n,i){return so(this.props,n)||so(this.state,i)},t}(hu);function lp(e){var t=function(r){t.current=r};return t.current=e,t}function sm(e){return e._fr=!0,e}function lm(e,t,r,n){var i,a;return!((i=e==null?void 0:e.prototype)===null||i===void 0)&&i.render?a=new e(t,r):(a=new hu(t,r),a.constructor=e,e._fr?(n.fr=lp(),a.render=function(){return this.constructor(this.props,n.fr)}):a.render=im),a.$_p=n,a}var um=function(e){ha(t,e);function t(n,i,a,o,s,l,u){u===void 0&&(u={});var c=e.call(this,n,i,a,o,s,l,As(u,n.defaultProps))||this;return c.typ="comp",c._usefs=[],c._uefs=[],c._defs=[],c}var r=t.prototype;return r.s=function(n,i){var a=this.b;return a.shouldComponentUpdate(As(n,this.t.defaultProps),i||a.state)!==!1},r.r=function(n,i,a){var o,s,l=this,u=l.t;l.ps=As(l.ps,l.t.defaultProps);var c=l.ps,f=!l.b,d=u.contextType,p=l.b,v=d==null?void 0:d.get(l);l._cs=i,f?(p=lm(u,c,v,l),l.b=p):(p.props=c,p.context=v);var h=p.state;l._usefs=[],l._uefs=[];var g=p.render();((s=(o=g==null?void 0:g.props)===null||o===void 0?void 0:o.children)===null||s===void 0?void 0:s.length)===0&&(g.props.children=l.ps.children);var m=ar(ar({},i),p.$_cs);ga(l,l._ps,g?[g]:[],n,m),f?l._uefs.push(function(){d==null||d.register(l),p.componentDidMount()}):l._uefs.push(function(){p.componentDidUpdate(a,h)}),n.push(function(){l._usefs.forEach(function(y){y()}),f?l.md():l.ud(),l._defs=l._uefs.map(function(y){return y()})})},r.ss=function(n){var i=this.b;!i||!n||(i.state=n)},r.un=function(){var n,i=this;i._ps.forEach(function(o){o.un()});var a=i.t;(n=a.contextType)===null||n===void 0||n.unregister(i),clearTimeout(i.b.$_timer),i._defs.forEach(function(o){o&&o()}),i.b.componentWillUnmount()},t}(ss);function cm(e,t,r){var n=gu(Pc(e),Pc(t)),i=n.added,a=n.removed,o=n.changed;for(var s in i)r.setAttribute(s,i[s]);for(var l in o)r.setAttribute(l,o[l][1]);for(var u in a)r.removeAttribute(u)}function fm(e,t,r){var n=gu(e,t),i=n.added,a=n.removed;for(var o in a)r.e(o,!0);for(var s in i)r.e(s)}function gu(e,t){var r=Er(e),n=Er(t),i=va(r,n,function(l){return l}),a={},o={},s={};return i.added.forEach(function(l){var u=n[l];a[u]=t[u]}),i.removed.forEach(function(l){var u=r[l];o[u]=e[u]}),i.maintained.forEach(function(l){var u=l[0],c=r[u],f=[e[c],t[c]];e[c]!==t[c]&&(s[c]=f)}),{added:a,removed:o,changed:s}}function dm(e,t,r){var n=r.style,i=gu(e,t),a=i.added,o=i.removed,s=i.changed;for(var l in a){var u=Qa(l,"-");n.setProperty(u,a[l])}for(var l in s){var c=Qa(l,"-");n.setProperty(c,s[l][1])}for(var l in o){var f=Qa(l,"-");n.removeProperty(f)}}function pm(e){return e.replace(/^on/g,"").toLowerCase()}var vm=function(e){ha(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.typ="elem",n._es={},n._svg=!1,n}var r=t.prototype;return r.e=function(n,i){var a=this,o=a._es,s=a.b,l=pm(n);i?(fe(s,l,o[n]),delete o[n]):(o[n]=function(u){var c,f;(f=(c=a.ps)[n])===null||f===void 0||f.call(c,u)},ve(s,l,o[n]))},r.s=function(n){return so(this.ps,n)},r.r=function(n,i,a){var o,s=this,l=!s.b,u=s.ps;if(l){var c=os(s.c),f=!1;s._svg||s.t==="svg"?f=!0:f=c&&c.ownerSVGElement,s._svg=f;var d=(o=s._hyd)===null||o===void 0?void 0:o.splice(0,1)[0],p=s.t;if(d)s._hyd=[].slice.call(d.children||[]);else{var v=ri(c);f?d=v.createElementNS("http://www.w3.org/2000/svg",p):d=v.createElement(p)}s.b=d}ga(s,s._ps,u.children,n,i);var h=s.b,g=Ic(a),m=g[0],y=g[1],E=Ic(u),b=E[0],_=E[1];return cm(m,b,h),fm(y,_,s),dm(a.style||{},u.style||{},h),n.push(function(){l?s.md():s.ud()}),!0},r.un=function(){var n=this,i=n._es,a=n.b;for(var o in i)fe(a,o,i[o]);n._ps.forEach(function(s){s.un()}),n._es={},n._sel||ip(a)},t}(ss);function Qi(e){if(!e||ni(e))return e;var t=e.$_p._ps;return t.length?Qi(t[0].b):null}function up(e){if(e){if(e.b&&ni(e.b))return e;var t=e._ps;return t.length?up(t[0]):null}}function Xe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=t||{},a=i.key,o=i.ref,s=rp(i,["key","ref"]);return{type:e,key:a,ref:o,props:ar(ar({},s),{children:K0(r).filter(function(l){return l!=null&&l!==!1})})}}var cp=function(e){ha(t,e);function t(n,i){i===void 0&&(i=0);var a=e.call(this,"container",i,"container",0,null)||this;return a.typ="container",a.b=n,a}var r=t.prototype;return r.r=function(){return!0},r.un=function(){},t}(ss),hm=function(e){ha(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.typ="text",n}var r=t.prototype;return r.r=function(n){var i,a=this,o=!a.b;if(o){var s=os(a.c),l=(i=a._hyd)===null||i===void 0?void 0:i.splice(0,1)[0];a.b=l||ri(s).createTextNode(a.t.replace("text_",""))}return n.push(function(){o?a.md():a.ud()}),!0},r.un=function(){ip(this.b)},t}(ss);function gm(e,t,r){var n=r.map(function(l){return Ce(l)?null:l.key}),i=Rc(t.map(function(l){return l.k})),a=Rc(n),o=va(i,a,function(l){return l});o.removed.forEach(function(l){t.splice(l,1)[0].un()}),o.ordered.forEach(function(l){var u=l[0],c=l[1],f=t.splice(u,1)[0];t.splice(c,0,f);var d=Qi(f.b),p=Qi(t[c+1]&&t[c+1].b);d&&d.parentNode.insertBefore(d,p)}),o.added.forEach(function(l){t.splice(l,0,Lc(r[l],n[l],l,e))});var s=o.maintained.filter(function(l){l[0];var u=l[1],c=r[u],f=t[u],d=Ce(c)?"text_".concat(c):c.type;return d!==f.t?(f.un(),t.splice(u,1,Lc(c,n[u],u,e)),!0):(f.i=u,!1)});return kc(kc([],o.added,!0),s.map(function(l){l[0];var u=l[1];return u}),!0)}function mm(e,t){for(var r=e._ps,n=r.length,i=t.i+1;i<n;++i){var a=Qi(r[i].b);if(a)return a}return null}function Lc(e,t,r,n){var i=n.d+1;if(Ce(e)||$n(e))return new hm("text_".concat(e),i,t,r,n,null,{});var a=e.type,o=typeof a=="string"?vm:um;return new o(a,i,t,r,n,e.ref,e.props)}function ga(e,t,r,n,i,a,o){var s=gm(e,t,r),l=e._hyd,u=t.filter(function(f,d){return f._hyd=l,f.u(n,i,r[d],a,o)});e.typ==="container"&&e._sel&&t.forEach(function(f){var d=up(f);d&&(d._sel=!0)}),e._hyd=null;var c=os(e);return c&&s.reverse().forEach(function(f){var d=t[f],p=Qi(d.b);if(p&&c!==p&&!p.parentNode){var v=mm(e,d);c.insertBefore(p,v)}}),u.length>0}function bm(e,t,r,n){r===void 0&&(r=t.__CROACT__),n===void 0&&(n={});var i=!!r;r||(r=new cp(t));var a=[];return ga(r,r._ps,e?[e]:[],a,n,void 0,void 0),ap(a),vu(null),i||(t.__CROACT__=r),r}function Nc(e,t,r){return!r&&e&&(r=new cp(t.parentElement),r._hyd=[t],r._sel=!0),bm(e,t,r),r}function fp(e){var t=op(),r=t._hs||(t._hs=[]),n=am(),i=r[n];if(om(n+1),i){if(!so(i.deps,e.deps))return i.updated=!1,i;r[n]=e}else r.push(e);return e.value=e.func(),e.updated=!0,e}function ym(e,t){var r=fp({func:e,deps:t});return r.value}function wm(e){return ym(function(){return lp(e)},[])}function dp(e,t,r){var n=op(),i=fp({func:function(){return e},deps:t}),a=r?n._usefs:n._uefs;i.updated?a.push(function(){return i.effect&&i.effect(),i.effect=e(),i.effect}):a.push(function(){return i.effect})}function xm(e,t,r){dp(function(){e==null||e(t())},r,!0)}function mu(e,t){for(var r=e.length,n=0;n<r;++n)if(t(e[n],n))return!0;return!1}function pp(e,t){for(var r=e.length,n=0;n<r;++n)if(t(e[n],n))return e[n];return null}function vp(e){var t=e;if(typeof t>"u"){if(typeof navigator>"u"||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function bu(e,t){try{return new RegExp(e,"g").exec(t)}catch{return null}}function Em(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,t=e.brands||e.uaList;return!!(t&&t.length)}function _m(e,t){var r=bu("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return r?r[3]:""}function pl(e){return e.replace(/_/g,".")}function wi(e,t){var r=null,n="-1";return mu(e,function(i){var a=bu("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!a||i.brand?!1:(r=i,n=a[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=_m(i.versionTest.toLowerCase(),t)||n),n=pl(n),!0)}),{preset:r,version:n}}function gi(e,t){var r={brand:"",version:"-1"};return mu(e,function(n){var i=hp(t,n);return i?(r.brand=n.id,r.version=n.versionAlias||i.version,r.version!=="-1"):!1}),r}function hp(e,t){return pp(e,function(r){var n=r.brand;return bu(""+t.test,n.toLowerCase())})}var vl=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],gp=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],hl=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],mp=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],bp=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function yp(e){return!!wi(mp,e).preset}function Sm(e){var t=vp(e),r=!!/mobi/g.exec(t),n={name:"unknown",version:"-1",majorVersion:-1,webview:yp(t),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},a=wi(vl,t),o=a.preset,s=a.version,l=wi(bp,t),u=l.preset,c=l.version,f=wi(gp,t);if(n.chromium=!!f.preset,n.chromiumVersion=f.version,!n.chromium){var d=wi(hl,t);n.webkit=!!d.preset,n.webkitVersion=d.version}return u&&(i.name=u.id,i.version=c,i.majorVersion=parseInt(c,10)),o&&(n.name=o.id,n.version=s,n.webview&&i.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:r,isHints:!1}}function Cm(e){var t=navigator.userAgentData,r=(t.uaList||t.brands).slice(),n=e&&e.fullVersionList,i=t.mobile||!1,a=r[0],o=(e&&e.platform||t.platform||navigator.platform).toLowerCase(),s={name:a.brand,version:a.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!gi(mp,r).brand||yp(vp())},l={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&mu(hl,function(v){return hp(r,v)});var u=gi(gp,r);if(s.chromium=!!u.brand,s.chromiumVersion=u.version||"-1",!s.chromium){var c=gi(hl,r);s.webkit=!!c.brand,s.webkitVersion=c.version||"-1"}var f=pp(bp,function(v){return new RegExp(""+v.test,"g").exec(o)});if(l.name=f?f.id:"",e&&(l.version=e.platformVersion||"-1"),n&&n.length){var d=gi(vl,n);s.name=d.brand||s.name,s.version=d.version||s.version}else{var p=gi(vl,r);s.name=p.brand||s.name,s.version=p.brand&&e?e.uaFullVersion:p.version}return s.webkit&&(l.name=i?"ios":"mac"),l.name==="ios"&&s.webview&&(s.version="-1"),l.version=pl(l.version),s.version=pl(s.version),l.majorVersion=parseInt(l.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:l,isMobile:i,isHints:!0}}function Dm(e){return typeof e>"u"&&Em()?Cm():Sm(e)}function Tm(e,t,r,n,i,a){for(var o=0;o<i;++o){var s=r+o*i,l=n+o*i;e[s]+=e[l]*a,t[s]+=t[l]*a}}function Om(e,t,r,n,i){for(var a=0;a<i;++a){var o=r+a*i,s=n+a*i,l=e[o],u=t[o];e[o]=e[s],e[s]=l,t[o]=t[s],t[s]=u}}function Mm(e,t,r,n,i){for(var a=0;a<n;++a){var o=r+a*n;e[o]/=i,t[o]/=i}}function wp(e,t,r){r===void 0&&(r=Math.sqrt(e.length));for(var n=e.slice(),i=0;i<r;++i)n[i*r+t-1]=0,n[(t-1)*r+i]=0;return n[(t-1)*(r+1)]=1,n}function ur(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var r=e.slice(),n=Vt(t),i=0;i<t;++i){var a=t*i+i;if(!mt(r[a],ie)){for(var o=i+1;o<t;++o)if(r[t*i+o]){Om(r,n,i,o,t);break}}if(!mt(r[a],ie))return[];Mm(r,n,i,t,r[a]);for(var o=0;o<t;++o){var s=o,l=o+i*t,u=r[l];!mt(u,ie)||i===o||Tm(r,n,s,i,t,-u)}}return n}function Am(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var r=[],n=0;n<t;++n)for(var i=0;i<t;++i)r[i*t+n]=e[t*n+i];return r}function xp(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var r=[],n=e[t*t-1],i=0;i<t-1;++i)r[i]=e[t*(t-1)+i]/n;return r[t-1]=0,r}function km(e,t){for(var r=Vt(t),n=0;n<t-1;++n)r[t*(t-1)+n]=e[n]||0;return r}function fn(e,t){for(var r=e.slice(),n=e.length;n<t-1;++n)r[n]=0;return r[t-1]=1,r}function Je(e,t,r){if(t===void 0&&(t=Math.sqrt(e.length)),t===r)return e;for(var n=Vt(r),i=Math.min(t,r),a=0;a<i-1;++a){for(var o=0;o<i-1;++o)n[a*r+o]=e[a*t+o];n[(a+1)*r-1]=e[(a+1)*t-1],n[(r-1)*r+a]=e[(t-1)*t+a]}return n[r*r-1]=e[t*t-1],n}function lo(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Vt(e);return t.forEach(function(i){n=Bt(n,i,e)}),n}function Bt(e,t,r){r===void 0&&(r=Math.sqrt(e.length));var n=[],i=e.length/r,a=t.length/i;if(i){if(!a)return e}else return t;for(var o=0;o<r;++o)for(var s=0;s<a;++s){n[s*r+o]=0;for(var l=0;l<i;++l)n[s*r+o]+=e[l*r+o]*t[s*i+l]}return n}function Ot(e,t){for(var r=Math.min(e.length,t.length),n=e.slice(),i=0;i<r;++i)n[i]=n[i]+t[i];return n}function lt(e,t){for(var r=Math.min(e.length,t.length),n=e.slice(),i=0;i<r;++i)n[i]=n[i]-t[i];return n}function Rm(e,t){return t===void 0&&(t=e.length===6),t?[e[0],e[1],0,e[2],e[3],0,e[4],e[5],1]:e}function Ep(e,t){return t===void 0&&(t=e.length===9),t?[e[0],e[1],e[3],e[4],e[6],e[7]]:e}function he(e,t,r){r===void 0&&(r=t.length);var n=Bt(e,t,r),i=n[r-1];return n.map(function(a){return a/i})}function Pm(e,t){return Bt(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function Im(e,t){return Bt(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function Lm(e,t){return Bt(e,ba(t,4))}function Aa(e,t){var r=t[0],n=r===void 0?1:r,i=t[1],a=i===void 0?1:i,o=t[2],s=o===void 0?1:o;return Bt(e,[n,0,0,0,0,a,0,0,0,0,s,0,0,0,0,1],4)}function ma(e,t){return he(ba(t,3),fn(e,3))}function ks(e,t){var r=t[0],n=r===void 0?0:r,i=t[1],a=i===void 0?0:i,o=t[2],s=o===void 0?0:o;return Bt(e,[1,0,0,0,0,1,0,0,0,0,1,0,n,a,s,1],4)}function Bc(e,t){return Bt(e,t,4)}function ba(e,t){var r=Math.cos(e),n=Math.sin(e),i=Vt(t);return i[0]=r,i[1]=n,i[t]=-n,i[t+1]=r,i}function Vt(e){for(var t=e*e,r=[],n=0;n<t;++n)r[n]=n%(e+1)?0:1;return r}function yu(e,t){for(var r=Vt(t),n=Math.min(e.length,t-1),i=0;i<n;++i)r[(t+1)*i]=e[i];return r}function dn(e,t){for(var r=Vt(t),n=Math.min(e.length,t-1),i=0;i<n;++i)r[t*(t-1)+i]=e[i];return r}function wu(e,t,r,n,i,a,o,s){var l=e[0],u=e[1],c=t[0],f=t[1],d=r[0],p=r[1],v=n[0],h=n[1],g=i[0],m=i[1],y=a[0],E=a[1],b=o[0],_=o[1],w=s[0],x=s[1],S=[l,0,c,0,d,0,v,0,u,0,f,0,p,0,h,0,1,0,1,0,1,0,1,0,0,l,0,c,0,d,0,v,0,u,0,f,0,p,0,h,0,1,0,1,0,1,0,1,-g*l,-m*l,-y*c,-E*c,-b*d,-_*d,-w*v,-x*v,-g*u,-m*u,-y*f,-E*f,-b*p,-_*p,-w*h,-x*h],T=ur(S,8);if(!T.length)return[];var O=Bt(T,[g,m,y,E,b,_,w,x],8);return O[8]=1,Je(Am(O),3,4)}var Ci=function(){return Ci=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ci.apply(this,arguments)};function Nm(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function ta(e,t){return t===void 0&&(t=0),On(Wn(e,t))}function Bm(e,t){var r=he(e,[t[0],t[1]||0,t[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function On(e){var t=Nm();return e.forEach(function(r){var n=r.matrixFunction,i=r.functionValue;n&&(t=n(t,i))}),t}function Wn(e,t){t===void 0&&(t=0);var r=se(e)?e:Hr(e);return r.map(function(n){var i=Yd(n),a=i.prefix,o=i.value,s=null,l=a,u="";if(a==="translate"||a==="translateX"||a==="translate3d"){var c=Ze(t)?Ci(Ci({},t),{"o%":t["%"]}):{"%":t,"o%":t},f=on(o).map(function(C,D){return D===0&&"x%"in c?c["%"]=t["x%"]:D===1&&"y%"in c?c["%"]=t["y%"]:c["%"]=t["o%"],Nt(C,c)}),d=f[0],p=f[1],v=p===void 0?0:p,h=f[2],g=h===void 0?0:h;s=ks,u=[d,v,g]}else if(a==="translateY"){var m=Ze(t)?Ci({"%":t["y%"]},t):{"%":t},v=Nt(o,m);s=ks,u=[0,v,0]}else if(a==="translateZ"){var g=parseFloat(o);s=ks,u=[0,0,g]}else if(a==="scale"||a==="scale3d"){var y=on(o).map(function(C){return parseFloat(C)}),E=y[0],b=y[1],_=b===void 0?E:b,w=y[2],x=w===void 0?1:w;s=Aa,u=[E,_,x]}else if(a==="scaleX"){var E=parseFloat(o);s=Aa,u=[E,1,1]}else if(a==="scaleY"){var _=parseFloat(o);s=Aa,u=[1,_,1]}else if(a==="scaleZ"){var x=parseFloat(o);s=Aa,u=[1,1,x]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var S=pa(o),T=S.unit,O=S.value,R=T==="rad"?O:O*Math.PI/180;a==="rotate"||a==="rotateZ"?(l="rotateZ",s=Lm):a==="rotateX"?s=Pm:a==="rotateY"&&(s=Im),u=R}else if(a==="matrix3d")s=Bc,u=on(o).map(function(C){return parseFloat(C)});else if(a==="matrix"){var M=on(o).map(function(C){return parseFloat(C)});s=Bc,u=[M[0],M[1],0,0,M[2],M[3],0,0,0,0,1,0,M[4],M[5],0,1]}else l="";return{name:a,functionName:l,value:o,matrixFunction:s,functionValue:u}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gl=function(e,t){return gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gl(e,t)};function zm(e,t){gl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _p=typeof Map=="function"?void 0:function(){var e=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++e)}}(),Sp=function(e){zm(t,e);function t(r){return r===void 0&&(r=[]),e.call(this,r,_p)||this}return t}(nm);function Fm(e,t){return va(e,t,_p)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ml=function(){return ml=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ml.apply(this,arguments)};function Hm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}var Gm=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(r,n){if(Ze(r))for(var i in r)this.on(i,r[i]);else this._addEvent(r,n,{});return this},t.off=function(r,n){if(!r)this._events={};else if(Ze(r))for(var i in r)this.off(i);else if(!n)this._events[r]=[];else{var a=this._events[r];if(a){var o=xr(a,function(s){return s.listener===n});o>-1&&a.splice(o,1)}}return this},t.once=function(r,n){var i=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(a){i._addEvent(r,a,{once:!0})})},t.emit=function(r,n){var i=this;n===void 0&&(n={});var a=this._events[r];if(!r||!a)return!0;var o=!1;return n.eventType=r,n.stop=function(){o=!0},n.currentTarget=this,Hm(a).forEach(function(s){s.listener(n),s.once&&i.off(r,s.listener)}),!o},t.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},t._addEvent=function(r,n,i){var a=this._events;a[r]=a[r]||[];var o=a[r];o.push(ml({listener:n},i))},e}();const ls=Gm;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bl=function(e,t){return bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bl(e,t)};function $m(e,t){bl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var kn=function(){return kn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},kn.apply(this,arguments)};function Wm(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function zc(e,t){return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}function ka(e){if(e){if(Ce(e))return document.querySelector(e)}else return null;if(uu(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var jm=function(e){$m(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var i=n._currentOptions;n._lock||!i||n.emit("scrollDrag",{next:function(a){n.checkScroll({container:i.container,inputEvent:a})}})},n}var r=t.prototype;return r.dragStart=function(n,i){var a=ka(i.container);if(!a){this._flag=!1;return}var o=0,s=0,l=0,u=0;if(a===document.body)l=window.innerWidth,u=window.innerHeight;else{var c=a.getBoundingClientRect();o=c.top,s=c.left,l=c.width,u=c.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:o,left:s,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],i),this._currentOptions=i,this._registerScrollEvent(i)},r.drag=function(n,i){if(clearTimeout(this._timer),!!this._flag){var a=n.clientX,o=n.clientY,s=i.threshold,l=s===void 0?0:s,u=this,c=u._startRect,f=u._startPos;this._currentOptions=i;var d=[0,0];return c.top>o-l?(f[1]>c.top||o<f[1])&&(d[1]=-1):c.top+c.height<o+l&&(f[1]<c.top+c.height||o>f[1])&&(d[1]=1),c.left>a-l?(f[0]>c.left||a<f[0])&&(d[0]=-1):c.left+c.width<a+l&&(f[0]<c.left+c.width||a>f[0])&&(d[0]=1),!d[0]&&!d[1]?!1:this._continueDrag(kn(kn({},i),{direction:d,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var i=this;if(this._isWait)return!1;var a=n.prevScrollPos,o=a===void 0?this._prevScrollPos:a,s=n.direction,l=n.throttleTime,u=l===void 0?0:l,c=n.inputEvent,f=n.isDrag,d=this._getScrollPosition(s||[0,0],n),p=d[0]-o[0],v=d[1]-o[1],h=s||[p?Math.abs(p)/p:0,v?Math.abs(v)/v:0];return this._prevScrollPos=d,this._lock=!1,!p&&!v?!1:(this.emit("move",{offsetX:h[0]?p:0,offsetY:h[1]?v:0,inputEvent:c}),u&&f&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},u)),!0)},r.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},r._getScrollPosition=function(n,i){var a=i.container,o=i.getScrollPosition,s=o===void 0?Wm:o;return s({container:ka(a),direction:n})},r._continueDrag=function(n){var i=this,a,o=n.container,s=n.direction,l=n.throttleTime,u=n.useScroll,c=n.isDrag,f=n.inputEvent;if(!(!this._flag||c&&this._isWait)){var d=Ji(),p=Math.max(l+this._prevTime-d,0);if(p>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(n)},p),!1;this._prevTime=d;var v=this._getScrollPosition(s,n);this._prevScrollPos=v,c&&(this._isWait=!0),u||(this._lock=!0);var h={container:ka(o),direction:s,inputEvent:f};return(a=n.requestScroll)===null||a===void 0||a.call(n,h),this.emit("scroll",h),this._isWait=!1,u||this.checkScroll(kn(kn({},n),{prevScrollPos:v,direction:s,inputEvent:f}))}},r._registerScrollEvent=function(n){this._unregisterScrollEvent();var i=n.checkScrollEvent;if(i){var a=i===!0?zc:i,o=ka(n.container);i===!0&&(o===document.body||o===document.documentElement)?this._unregister=zc(window,this._onScroll):this._unregister=a(o,this._onScroll)}},r._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},t}(ls);const Vm=jm;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function ye(e){return mt(e,ie)}function Um(e,t){return e.every(function(r,n){return ye(r-t[n])===0})}function Ym(e,t){return!ye(e[0]-t[0])&&!ye(e[1]-t[1])}function Cp(e){return e.length<3?0:Math.abs(U0(e.map(function(t,r){var n=e[r+1]||e[0];return t[0]*n[1]-n[0]*t[1]})))/2}function Fc(e,t){var r=t.width,n=t.height,i=t.left,a=t.top,o=pn(e),s=o.minX,l=o.minY,u=o.maxX,c=o.maxY,f=r/(u-s),d=n/(c-l);return e.map(function(p){return[i+(p[0]-s)*f,a+(p[1]-l)*d]})}function pn(e){var t=e.map(function(n){return n[0]}),r=e.map(function(n){return n[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,r)}}function yl(e,t,r){var n=e[0],i=e[1],a=pn(t),o=a.minX,s=a.maxX,l=[[o,i],[s,i]],u=uo(l[0],l[1]),c=wl(t),f=[];if(c.forEach(function(v){var h=uo(v[0],v[1]),g=v[0];if(Um(u,h))f.push({pos:e,line:v,type:"line"});else{var m=Dp(xu(u,h),[l,v]);m.forEach(function(y){v.some(function(E){return Ym(E,y)})?f.push({pos:y,line:v,type:"point"}):ye(g[1]-i)!==0&&f.push({pos:y,line:v,type:"intersection"})})}}),!r&&De(f,function(v){return v[0]===n}))return!0;var d=0,p={};return f.forEach(function(v){var h=v.pos,g=v.type,m=v.line;if(!(h[0]>n))if(g==="intersection")++d;else{if(g==="line")return;if(g==="point"){var y=De(m,function(_){return _[1]!==i}),E=p[h[0]],b=y[1]>i?1:-1;E?E!==b&&++d:p[h[0]]=b}}}),d%2===1}function uo(e,t){var r=e[0],n=e[1],i=t[0],a=t[1],o=i-r,s=a-n;Math.abs(o)<ie&&(o=0),Math.abs(s)<ie&&(s=0);var l=0,u=0,c=0;return o?s?(l=-s/o,u=1,c=-l*r-n):(u=1,c=-n):s&&(l=-1,c=r),[l,u,c]}function xu(e,t){var r=e[0],n=e[1],i=e[2],a=t[0],o=t[1],s=t[2],l=r===0&&a===0,u=n===0&&o===0,c=[];if(l&&u)return[];if(l){var f=-i/n,d=-s/o;return f!==d?[]:[[-1/0,f],[1/0,f]]}else if(u){var p=-i/r,v=-s/a;return p!==v?[]:[[p,-1/0],[p,1/0]]}else if(r===0){var h=-i/n,g=-(o*h+s)/a;c=[[g,h]]}else if(a===0){var h=-s/o,g=-(n*h+i)/r;c=[[g,h]]}else if(n===0){var g=-i/r,h=-(a*g+s)/o;c=[[g,h]]}else if(o===0){var g=-s/a,h=-(r*g+i)/n;c=[[g,h]]}else{var g=(n*s-o*i)/(o*r-n*a),h=-(r*g+i)/n;c=[[g,h]]}return c.map(function(m){return[m[0],m[1]]})}function Dp(e,t){var r=t.map(function(f){return[0,1].map(function(d){return[Math.min(f[0][d],f[1][d]),Math.max(f[0][d],f[1][d])]})}),n=[];if(e.length===2){var i=e[0],a=i[0],o=i[1];if(ye(a-e[1][0])){if(!ye(o-e[1][1])){var u=Math.max.apply(Math,r.map(function(f){return f[0][0]})),c=Math.min.apply(Math,r.map(function(f){return f[0][1]}));if(ye(u-c)>0)return[];n=[[u,o],[c,o]]}}else{var s=Math.max.apply(Math,r.map(function(f){return f[1][0]})),l=Math.min.apply(Math,r.map(function(f){return f[1][1]}));if(ye(s-l)>0)return[];n=[[a,s],[a,l]]}}return n.length||(n=e.filter(function(f){var d=f[0],p=f[1];return r.every(function(v){return 0<=ye(d-v[0][0])&&0<=ye(v[0][1]-d)&&0<=ye(p-v[1][0])&&0<=ye(v[1][1]-p)})})),n.map(function(f){return[ye(f[0]),ye(f[1])]})}function wl(e){return qm(e.slice(1),[e[0]]).map(function(t,r){return[e[r],t]})}function Xm(e,t){var r=e.slice(),n=t.slice();Mc(r)===-1&&r.reverse(),Mc(n)===-1&&n.reverse();var i=wl(r),a=wl(n),o=i.map(function(c){return uo(c[0],c[1])}),s=a.map(function(c){return uo(c[0],c[1])}),l=[];o.forEach(function(c,f){var d=i[f],p=[];s.forEach(function(v,h){var g=xu(c,v),m=Dp(g,[d,a[h]]);p.push.apply(p,m.map(function(y){return{index1:f,index2:h,pos:y,type:"intersection"}}))}),p.sort(function(v,h){return yr(d[0],v.pos)-yr(d[0],h.pos)}),l.push.apply(l,p),yl(d[1],n)&&l.push({index1:f,index2:-1,pos:d[1],type:"inside"})}),a.forEach(function(c,f){if(yl(c[1],r)){var d=!1,p=xr(l,function(v){var h=v.index2;return h===f?(d=!0,!1):!!d});p===-1&&(d=!1,p=xr(l,function(v){var h=v.index1,g=v.index2;return h===-1&&g+1===f?(d=!0,!1):!!d})),p===-1?l.push({index1:-1,index2:f,pos:c[1],type:"inside"}):l.splice(p,0,{index1:-1,index2:f,pos:c[1],type:"inside"})}});var u={};return l.filter(function(c){var f=c.pos,d=f[0]+"x"+f[1];return u[d]?!1:(u[d]=!0,!0)})}function Km(e,t){var r=Xm(e,t);return r.map(function(n){var i=n.pos;return i})}function Zm(e,t){var r=Km(e,t);return Cp(r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xl=function(e,t){return xl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xl(e,t)};function Jm(e,t){xl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ne=function(){return ne=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ne.apply(this,arguments)};function Qm(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function Rs(e){return Qm([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function t1(e){return e.touches&&e.touches.length>=2}function Ra(e){return e?e.touches?r1(e.touches):[Tp(e)]:[]}function e1(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function Hc(e,t,r){var n=r.length,i=Di(e,n),a=i.clientX,o=i.clientY,s=i.originalClientX,l=i.originalClientY,u=Di(t,n),c=u.clientX,f=u.clientY,d=Di(r,n),p=d.clientX,v=d.clientY,h=a-c,g=o-f,m=a-p,y=o-v;return{clientX:s,clientY:l,deltaX:h,deltaY:g,distX:m,distY:y}}function Ps(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function r1(e){for(var t=Math.min(e.length,2),r=[],n=0;n<t;++n)r.push(Tp(e[n]));return r}function Tp(e){return{clientX:e.clientX,clientY:e.clientY}}function Di(e,t){t===void 0&&(t=e.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(e.length,t),i=0;i<n;++i){var a=e[i];r.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,r.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,r.clientX+=a.clientX,r.clientY+=a.clientY}return t?{clientX:r.clientX/t,clientY:r.clientY/t,originalClientX:r.originalClientX/t,originalClientY:r.originalClientY/t}:r}var Is=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),Rs(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),Rs(t)-Rs(this.startClients)},e.prototype.getPosition=function(t,r){t===void 0&&(t=this.prevClients);var n=Hc(t||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,a=n.deltaY;return this.movement+=Math.sqrt(i*i+a*a),this.prevClients=t,n},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var r=this.prevClients,n=this.startClients,i=Math.min(this.length,r.length),a=[],o=0;o<i;++o)a[o]=Hc([t[o]],[r[o]],[n[o]]);return a},e.prototype.getMovement=function(t){var r=this.movement;if(!t)return r;var n=Di(t,this.length),i=Di(this.prevClients,this.length),a=n.clientX-i.clientX,o=n.clientY-i.clientY;return Math.sqrt(a*a+o*o)+r},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),Ps(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),Ps(t)/Ps(this.startClients)},e.prototype.move=function(t,r){this.startClients.forEach(function(n){n.clientX-=t,n.clientY-=r}),this.prevClients.forEach(function(n){n.clientX-=t,n.clientY-=r})},e}(),Gc=["textarea","input"],n1=function(e){Jm(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._preventMouseEventId=0,i._window=window,i.onDragStart=function(d,p){if(p===void 0&&(p=!0),!(!i.flag&&d.cancelable===!1)){var v=d.type.indexOf("drag")>=-1;if(!(i.flag&&v)){i._isDragAPI=!0;var h=i.options,g=h.container,m=h.pinchOutside,y=h.preventWheelClick,E=h.preventRightClick,b=h.preventDefault,_=h.checkInput,w=h.dragFocusedInput,x=h.preventClickEventOnDragStart,S=h.preventClickEventOnDrag,T=h.preventClickEventByCondition,O=i._useTouch,R=!i.flag;if(i._isSecondaryButton=d.which===3||d.button===2,y&&(d.which===2||d.button===1)||E&&(d.which===3||d.button===2))return i.stop(),!1;if(R){var M=i._window.document.activeElement,C=d.target;if(C){var D=C.tagName.toLowerCase(),A=Gc.indexOf(D)>-1,k=C.isContentEditable;if(A||k){if(_||!w&&M===C)return!1;if(M&&(M===C||k&&M.isContentEditable&&M.contains(C)))if(w)C.blur();else return!1}else if((b||d.type==="touchstart")&&M){var L=M.tagName.toLowerCase();(M.isContentEditable||Gc.indexOf(L)>-1)&&M.blur()}(x||S||T)&&ve(i._window,"click",i._onClick,!0)}i.clientStores=[new Is(Ra(d))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=p,i._dragFlag=!0,i._prevInputEvent=d,i.data={},i.doubleFlag=Ji()-i.prevTime<200,i._isMouseEvent=e1(d),!i._isMouseEvent&&i._preventMouseEvent&&i._allowMouseEvent();var N=i._preventMouseEvent||i.emit("dragStart",ne(ne({data:i.data,datas:i.data,inputEvent:d,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:p,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));N===!1&&i.stop(),i._isMouseEvent&&i.flag&&b&&d.preventDefault()}if(!i.flag)return!1;var B=0;if(R?(i._attchDragEvent(),O&&m&&(B=setTimeout(function(){ve(g,"touchstart",i.onDragStart,{passive:!1})}))):O&&m&&fe(g,"touchstart",i.onDragStart),i.flag&&t1(d)){if(clearTimeout(B),R&&d.touches.length!==d.changedTouches.length)return;i.pinchFlag||i.onPinchStart(d)}}}},i.onDrag=function(d,p){if(i.flag){var v=i.options.preventDefault;!i._isMouseEvent&&v&&d.preventDefault(),i._prevInputEvent=d;var h=Ra(d),g=i.moveClients(h,d,!1);if(i._dragFlag){if(i.pinchFlag||g.deltaX||g.deltaY){var m=i._preventMouseEvent||i.emit("drag",ne(ne({},g),{isScroll:!!p,inputEvent:d}));if(m===!1){i.stop();return}}i.pinchFlag&&i.onPinch(d,h)}i.getCurrentStore().getPosition(h,!0)}},i.onDragEnd=function(d){if(i.flag){var p=i.options,v=p.pinchOutside,h=p.container,g=p.preventClickEventOnDrag,m=p.preventClickEventOnDragStart,y=p.preventClickEventByCondition,E=i.isDrag;(g||m||y)&&requestAnimationFrame(function(){i._allowClickEvent()}),!y&&!m&&g&&!E&&i._allowClickEvent(),i._useTouch&&v&&fe(h,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(d);var b=d!=null&&d.touches?Ra(d):[],_=b.length;_===0||!i.options.keepDragging?i.flag=!1:i._addStore(new Is(b));var w=i._getPosition(),x=Ji(),S=!E&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=E||S?0:x,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",ne({data:i.data,datas:i.data,isDouble:S,isDrag:E,isClick:!E,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:d,isTrusted:i._isTrusted},w)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,clearTimeout(i._preventMouseEventId),i._preventMouseEventId=setTimeout(function(){i._preventMouseEvent=!1},200)),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){fe(i._window,"click",i._onClick,!0)},i._onClick=function(d){i._allowClickEvent(),i._allowMouseEvent();var p=i.options.preventClickEventByCondition;p!=null&&p(d)||(d.stopPropagation(),d.preventDefault())},i._onContextMenu=function(d){var p=i.options;p.preventRightClick?i.onDragEnd(d):d.preventDefault()},i._passCallback=function(){};var a=[].concat(r),o=a[0];i._window=ep(o)?o:Nr(o),i.options=ne({checkInput:!1,container:o&&!("document"in o)?Nr(o):o,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var s=i.options,l=s.container,u=s.events,c=s.checkWindowBlur;if(i._useDrag=u.indexOf("drag")>-1,i._useTouch=u.indexOf("touch")>-1,i._useMouse=u.indexOf("mouse")>-1,i.targets=a,i._useDrag&&a.forEach(function(d){ve(d,"dragstart",i.onDragStart)}),i._useMouse&&(a.forEach(function(d){ve(d,"mousedown",i.onDragStart),ve(d,"mousemove",i._passCallback)}),ve(l,"contextmenu",i._onContextMenu)),c&&ve(Nr(),"blur",i.onBlur),i._useTouch){var f={passive:!1};a.forEach(function(d){ve(d,"touchstart",i.onDragStart,f),ve(d,"touchmove",i._passCallback,f)})}return i}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(n,i){return n+i.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(r,n,i,a){a===void 0&&(a=!0),this.flag&&(this.clientStores[0].move(r,n),a&&this.onDrag(i,!0))},t.prototype.move=function(r,n){var i=r[0],a=r[1],o=this.getCurrentStore(),s=o.prevClients;return this.moveClients(s.map(function(l){var u=l.clientX,c=l.clientY;return{clientX:u+i,clientY:c+a,originalClientX:u,originalClientY:c}}),n,!0)},t.prototype.triggerDragStart=function(r){this.onDragStart(r,!1)},t.prototype.setEventData=function(r){var n=this.data;for(var i in r)n[i]=r[i];return this},t.prototype.setEventDatas=function(r){return this.setEventData(r)},t.prototype.getCurrentEvent=function(r){return r===void 0&&(r=this._prevInputEvent),ne(ne({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var r=this,n=this.targets,i=this.options.container;this.off(),fe(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(a){fe(a,"dragstart",r.onDragStart)}),this._useMouse&&(n.forEach(function(a){fe(a,"mousedown",r.onDragStart)}),fe(i,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(a){fe(a,"touchstart",r.onDragStart)}),fe(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(r){var n=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var a=new Is(Ra(r));this.pinchFlag=!0,this._addStore(a);var o=this.emit("pinchStart",ne(ne({data:this.data,datas:this.data,angle:a.getAngle(),touches:this.getCurrentStore().getPositions()},a.getPosition()),{inputEvent:r,isTrusted:this._isTrusted,preventDefault:function(){r.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));o===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(r,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",ne(ne({data:this.data,datas:this.data,movement:this.getMovement(n),angle:i.getAngle(n),rotation:i.getRotation(n),touches:i.getPositions(n),scale:i.getScale(n),distance:i.getDistance(n)},i.getPosition(n)),{inputEvent:r,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(r){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",ne(ne({data:this.data,datas:this.data,isPinch:n,touches:i.getPositions()},i.getPosition()),{inputEvent:r}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(r,n,i){var a=this._getPosition(r,i),o=this.isDrag;(a.deltaX||a.deltaY)&&(this.isDrag=!0);var s=!1;return!o&&this.isDrag&&(s=!0),ne(ne({data:this.data,datas:this.data},a),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},t.prototype._addStore=function(r){this.clientStores.splice(0,0,r)},t.prototype._getPosition=function(r,n){var i=this.getCurrentStore(),a=i.getPosition(r,n),o=this.clientStores.slice(1).reduce(function(u,c){var f=c.getPosition();return u.distX+=f.distX,u.distY+=f.distY,u},a),s=o.distX,l=o.distY;return ne(ne({},a),{distX:s,distY:l})},t.prototype._attchDragEvent=function(){var r=this._window,n=this.options.container,i={passive:!1};this._isDragAPI&&(ve(n,"dragover",this.onDrag,i),ve(r,"dragend",this.onDragEnd)),this._useMouse&&(ve(n,"mousemove",this.onDrag),ve(r,"mouseup",this.onDragEnd)),this._useTouch&&(ve(n,"touchmove",this.onDrag,i),ve(r,"touchend",this.onDragEnd,i),ve(r,"touchcancel",this.onDragEnd,i))},t.prototype._dettachDragEvent=function(){var r=this._window,n=this.options.container;this._isDragAPI&&(fe(n,"dragover",this.onDrag),fe(r,"dragend",this.onDragEnd)),this._useMouse&&(fe(n,"mousemove",this.onDrag),fe(r,"mouseup",this.onDragEnd)),this._useTouch&&(fe(n,"touchstart",this.onDragStart),fe(n,"touchmove",this.onDrag),fe(r,"touchend",this.onDragEnd),fe(r,"touchcancel",this.onDragEnd))},t.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},t}(ls);function i1(e){for(var t=5381,r=e.length;r;)t=t*33^e.charCodeAt(--r);return t>>>0}var a1=i1;function o1(e){return a1(e).toString(36)}function s1(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function l1(e,t,r){return r.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,i){var a=i.trim();return(a?on(a):[""]).map(function(o){var s=o.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(e))):s?".".concat(e," ").concat(s):".".concat(e)}).join(", ")+" {"})}function u1(e,t,r,n,i){var a=ri(n),o=a.createElement("style");return o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",e),o.setAttribute("data-styled-count","1"),r.nonce&&o.setAttribute("nonce",r.nonce),o.innerHTML=l1(e,t,r),(i||a.head||a.body).appendChild(o),o}function c1(e){var t="rCS"+o1(e);return{className:t,inject:function(r,n){n===void 0&&(n={});var i=s1(r),a=(i||r.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!a)a=u1(t,e,n,r,i);else{var o=parseFloat(a.getAttribute("data-styled-count"))||0;a.setAttribute("data-styled-count","".concat(o+1))}return{destroy:function(){var s,l=parseFloat(a.getAttribute("data-styled-count"))||0;l<=1?(a.remove?a.remove():(s=a.parentNode)===null||s===void 0||s.removeChild(a),a=null):a.setAttribute("data-styled-count","".concat(l-1))}}}}}var El=function(){return El=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},El.apply(this,arguments)};function f1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Op(e,t){var r=c1(t),n=r.className;return sm(function(i,a){var o=i.className,s=o===void 0?"":o;i.cspNonce;var l=f1(i,["className","cspNonce"]),u=wm();return xm(a,function(){return u.current},[]),dp(function(){var c=r.inject(u.current,{nonce:i.cspNonce});return function(){c.destroy()}},[]),Xe(e,El({ref:u,"data-styled-id":n,className:"".concat(s," ").concat(n)},l))})}var _l=function(e,t){return _l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_l(e,t)};function ya(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_l(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var P=function(){return P=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},P.apply(this,arguments)};function d1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function p1(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function v1(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function U(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function wa(e,t){return P({events:[],props:[],name:e},t)}var h1=["n","w","s","e"],Eu=["n","w","s","e","nw","ne","sw","se"];function g1(e,t){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*e,'px" height="').concat(32*e,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(t,'deg);transform-origin: 16px 16px"></path></svg>')}function m1(e){var t=g1(1,e),r=Math.round(e/45)*45%180,n="ns-resize";return r===135?n="nwse-resize":r===45?n="nesw-resize":r===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(t,"') 16 16, ").concat(n,";")}var ii=Dm(),Mp=ii.browser.webkit,Ap=Mp&&function(){var e=typeof window>"u"?{userAgent:""}:window.navigator,t=/applewebkit\/([^\s]+)/g.exec(e.userAgent.toLowerCase());return t?parseFloat(t[1])<605:!1}(),kp=ii.browser.name,Rp=parseInt(ii.browser.version,10),b1=kp==="chrome",y1=ii.browser.chromium,w1=parseInt(ii.browser.chromiumVersion,10)||0,x1=b1&&Rp>=109||y1&&w1>=109,E1=kp==="firefox",_1=parseInt(ii.browser.webkitVersion,10)>=612||Rp>=15,_u="moveable-",S1=Eu.map(function(e){var t="",r="",n="center",i="center",a="calc(var(--moveable-control-padding, 20) * -1px)";return e.indexOf("n")>-1&&(t="top: ".concat(a,";"),i="bottom"),e.indexOf("s")>-1&&(t="top: 0px;",i="top"),e.indexOf("w")>-1&&(r="left: ".concat(a,";"),n="right"),e.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(e,`"] {
        `).concat(r).concat(t,`
        transform-origin: `).concat(n," ").concat(i,`;
    }`)}).join(`
`),C1=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(S1,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(e){return`
.direction[data-rotation="`.concat(e,'"], :global .view-control-rotation').concat(e,` {
`).concat(m1(e),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(Ap?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),D1=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Sl=1e-4,be=1e-7,Pa=1e-9,Cl=Math.pow(10,10),$c=-Cl,T1={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},Su={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},Pp={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},Ip=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function xa(e,t,r,n,i,a){var o,s;a===void 0&&(a="draggable");var l=(s=(o=t.gestos[a])===null||o===void 0?void 0:o.move(r,e.inputEvent))!==null&&s!==void 0?s:{},u=l.originalDatas||l.datas,c=u[a]||(u[a]={});return P(P({},i?wv(t,l):l),{isPinch:!!n,parentEvent:!0,datas:c,originalDatas:e.originalDatas})}var jn=function(){function e(t){var r;t===void 0&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(r={},r[t]={},r)}return e.prototype.dragStart=function(t,r){this.isDrag=!1,this.isFlag=!1;var n=r.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),P(P({},this.move(t,r.inputEvent)),{type:"dragstart"})},e.prototype.drag=function(t,r){return this.move([t[0]-this.prevX,t[1]-this.prevY],r)},e.prototype.move=function(t,r){var n,i,a=!1;if(!this.isFlag)this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],i=t[1],this.isFlag=!0;else{var o=this.isDrag;n=this.prevX+t[0],i=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0),!o&&this.isDrag&&(a=!0)}return this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:r,isFirstDrag:a,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},e}();function Bn(e,t,r,n){var i=e.length===16,a=i?4:3,o=En(e,r,n,a),s=I(o,4),l=I(s[0],2),u=l[0],c=l[1],f=I(s[1],2),d=f[0],p=f[1],v=I(s[2],2),h=v[0],g=v[1],m=I(s[3],2),y=m[0],E=m[1],b=I(Yt(e,t,a),2),_=b[0],w=b[1],x=Math.min(u,d,h,y),S=Math.min(c,p,g,E),T=Math.max(u,d,h,y),O=Math.max(c,p,g,E);u=u-x||0,d=d-x||0,h=h-x||0,y=y-x||0,c=c-S||0,p=p-S||0,g=g-S||0,E=E-S||0,_=_-x||0,w=w-S||0;var R=e[0],M=e[a+1],C=ze(R*M);return{left:x,top:S,right:T,bottom:O,origin:[_,w],pos1:[u,c],pos2:[d,p],pos3:[h,g],pos4:[y,E],direction:C}}function Lp(e,t){var r=t.clientX,n=t.clientY,i=t.datas,a=e.state,o=a.moveableClientRect,s=a.rootMatrix,l=a.is3d,u=a.pos1,c=o.left,f=o.top,d=l?4:3,p=I(lt(Un(s,[r-c,n-f],d),u),2),v=p[0],h=p[1],g=I(dr({datas:i,distX:v,distY:h}),2),m=g[0],y=g[1];return[m,y]}function xn(e,t){var r=t.datas,n=e.state,i=n.allMatrix,a=n.beforeMatrix,o=n.is3d,s=n.left,l=n.top,u=n.origin,c=n.offsetMatrix,f=n.targetMatrix,d=n.transformOrigin,p=o?4:3;r.is3d=o,r.matrix=i,r.targetMatrix=f,r.beforeMatrix=a,r.offsetMatrix=c,r.transformOrigin=d,r.inverseMatrix=ur(i,p),r.inverseBeforeMatrix=ur(a,p),r.absoluteOrigin=fn(Ot([s,l],u),p),r.startDragBeforeDist=he(r.inverseBeforeMatrix,r.absoluteOrigin,p),r.startDragDist=he(r.inverseMatrix,r.absoluteOrigin,p)}function O1(e){return Bn(e.datas.beforeTransform,[50,50],100,100).direction}function us(e,t,r){var n=t.datas,i=t.originalDatas.beforeRenderable,a=n.transformIndex,o=i.nextTransforms,s=o.length,l=i.nextTransformAppendedIndexes,u=-1;a===-1?(r==="translate"?u=0:r==="rotate"&&(u=xr(o,function(p){return p.match(/scale\(/g)})),u===-1&&(u=o.length),n.transformIndex=u):De(l,function(p){return p.index===a&&p.functionName===r})?u=a:u=a+l.filter(function(p){return p.index<a}).length;var c=Qb(o,e.state,u),f=c.targetFunction,d=r==="rotate"?"rotateZ":r;n.beforeFunctionTexts=c.beforeFunctionTexts,n.afterFunctionTexts=c.afterFunctionTexts,n.beforeTransform=c.beforeFunctionMatrix,n.beforeTransform2=c.beforeFunctionMatrix2,n.targetTansform=c.targetFunctionMatrix,n.afterTransform=c.afterFunctionMatrix,n.afterTransform2=c.afterFunctionMatrix2,n.targetAllTransform=c.allFunctionMatrix,f.functionName===d?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):s>u&&(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=U(U([],I(l),!1),[{functionName:r,index:u,isAppend:!0}],!1))}function cs(e,t,r){return"".concat(e.beforeFunctionTexts.join(" ")," ").concat(e.isAppendTransform?r:t," ").concat(e.afterFunctionTexts.join(" "))}function M1(e){var t=e.datas,r=e.distX,n=e.distY,i=I(Bp({datas:t,distX:r,distY:n}),2),a=i[0],o=i[1],s=Np(t,km([a,o],4));return he(s,fn([0,0,0],4),4)}function Np(e,t,r){var n=e.beforeTransform,i=e.afterTransform,a=e.beforeTransform2,o=e.afterTransform2,s=e.targetAllTransform,l=r?Bt(s,t,4):Bt(t,s,4),u=Bt(ur(r?a:n,4),l,4),c=Bt(u,ur(r?o:i,4),4);return c}function Bp(e){var t=e.datas,r=e.distX,n=e.distY,i=t.inverseBeforeMatrix,a=t.is3d,o=t.startDragBeforeDist,s=t.absoluteOrigin,l=a?4:3;return lt(he(i,Ot(s,[r,n]),l),o)}function dr(e,t){var r=e.datas,n=e.distX,i=e.distY,a=r.inverseBeforeMatrix,o=r.inverseMatrix,s=r.is3d,l=r.startDragBeforeDist,u=r.startDragDist,c=r.absoluteOrigin,f=s?4:3;return lt(he(t?a:o,Ot(c,[n,i]),f),t?l:u)}function A1(e,t){var r=e.datas,n=e.distX,i=e.distY,a=r.beforeMatrix,o=r.matrix,s=r.is3d,l=r.startDragBeforeDist,u=r.startDragDist,c=r.absoluteOrigin,f=s?4:3;return lt(he(t?a:o,Ot(t?l:u,[n,i]),f),c)}function k1(e,t,r,n,i,a){return n===void 0&&(n=t),i===void 0&&(i=r),a===void 0&&(a=[0,0]),e?e.map(function(o,s){var l=pa(o),u=l.value,c=l.unit,f=s?i:n,d=s?r:t;if(o==="%"||isNaN(u)){var p=f?a[s]/f:0;return d*p}else if(c!=="%")return u;return d*u/100}):a}function zp(e){var t=[];return e[1]>=0&&(e[0]>=0&&t.push(3),e[0]<=0&&t.push(2)),e[1]<=0&&(e[0]>=0&&t.push(1),e[0]<=0&&t.push(0)),t}function R1(e,t){return zp(t).map(function(r){return e[r]})}function pe(e,t){var r=(t[0]+1)/2,n=(t[1]+1)/2,i=[Zr(e[0][0],e[1][0],r,1-r),Zr(e[0][1],e[1][1],r,1-r)],a=[Zr(e[2][0],e[3][0],r,1-r),Zr(e[2][1],e[3][1],r,1-r)];return[Zr(i[0],a[0],n,1-n),Zr(i[1],a[1],n,1-n)]}function P1(e,t,r,n,i,a){var o=En(t,r,n,i),s=pe(o,a),l=e[0]-s[0],u=e[1]-s[1];return[l,u]}function Ea(e,t,r,n){return Bt(e,Oi(t,n,r),n)}function I1(e,t,r,n){var i=e.transformOrigin,a=e.offsetMatrix,o=e.is3d,s=o?4:3,l;if(Ce(r)){var u=t.beforeTransform,c=t.afterTransform;n?l=Je(ta(r),4,s):l=Je(Bt(Bt(u,ta([r]),4),c,4),4,s)}else l=r;return Ea(a,l,i,s)}function L1(e,t){var r=e.transformOrigin,n=e.offsetMatrix,i=e.is3d,a=e.targetMatrix,o=e.targetAllTransform,s=i?4:3;return Ea(n,Bt(o||a,yu(t,s),s),r,s)}function fs(e,t){var r=ai(t);return{setTransform:function(n,i){i===void 0&&(i=-1),r.startTransforms=se(n)?n:Hr(n),Dl(e,t,i)},setTransformIndex:function(n){Dl(e,t,n)}}}function ds(e,t,r){var n=ai(t),i=n.startTransforms;Dl(e,t,xr(i,function(a){return a.indexOf("".concat(r,"("))===0}))}function Dl(e,t,r){var n=ai(t),i=t.datas;if(i.transformIndex=r,r!==-1){var a=n.startTransforms[r];if(a){var o=e.state,s=Wn([a],{"x%":function(l){return l/100*o.offsetWidth},"y%":function(l){return l/100*o.offsetHeight}});i.startValue=s[0].functionValue}}}function Cu(e,t){var r=ai(e);r.nextTransforms=Hr(t)}function ai(e){return e.originalDatas.beforeRenderable}function co(e){var t=e.originalDatas.beforeRenderable;return t.nextTransforms}function Ia(e){return(co(e)||[]).join(" ")}function La(e){return ai(e).nextStyle}function Fp(e,t,r,n,i){Cu(i,t);var a=ge.drag(e,xa(i,e.state,r,n,!1)),o=a?a.transform:t;return P(P({transform:t,drag:a},me({transform:o},i)),{afterTransform:o})}function Du(e,t,r,n,i,a){var o=I1(e.state,i,t,a),s=z1(e,r,n,o);return s}function Hp(e,t,r,n,i,a,o){var s=Du(e,t,r,i,a,o),l=e.state,u=l.left,c=l.top,f=e.props.groupable,d=f?u:0,p=f?c:0,v=lt(n,s);return lt(v,[d,p])}function N1(e,t,r,n,i,a,o){var s=Hp(e,t,r,n,i,a,o);return s}function B1(e,t,r){return[t?-1+e[0]/(t/2):0,r?-1+e[1]/(r/2):0]}function z1(e,t,r,n){n===void 0&&(n=e.state.allMatrix);var i=e.state,a=i.width,o=i.height,s=i.is3d,l=s?4:3,u=[a/2*(1+t[0])+r[0],o/2*(1+t[1])+r[1]];return Yt(n,u,l)}function F1(e,t,r){var n=r.fixedDirection,i=r.fixedPosition,a=r.fixedOffset;return Hp(e,"rotate(".concat(t,"deg)"),n,i,a,r)}function H1(e,t,r,n,i,a){var o=e.props.groupable,s=e.state,l=s.transformOrigin,u=s.offsetMatrix,c=s.is3d,f=s.width,d=s.height,p=s.left,v=s.top,h=a.fixedDirection,g=a.nextTargetMatrix||s.targetMatrix,m=c?4:3,y=k1(i,t,r,f,d,l),E=o?p:0,b=o?v:0,_=Ea(u,g,y,m),w=P1(n,_,t,r,m,h);return lt(w,[E,b])}function G1(e,t){return pe($e(e.state),t)}function $1(e,t){var r=e.targetGesto,n=e.controlGesto,i;return r!=null&&r.isFlag()&&(i=r.getEventData()[t]),!i&&(n!=null&&n.isFlag())&&(i=n.getEventData()[t]),i||{}}function W1(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function j1(e){var t=e("scale"),r=e("rotate"),n=e("translate"),i=[];return n&&n!=="0px"&&n!=="none"&&i.push("translate(".concat(n.split(/\s+/).join(","),")")),r&&r!=="1"&&r!=="none"&&i.push("rotate(".concat(r,")")),t&&t!=="1"&&t!=="none"&&i.push("scale(".concat(t.split(/\s+/).join(","),")")),i}function Gp(e,t,r){for(var n=e,i=[],a=du(e)||Ur(e),o=!r&&e===t||e===a,s=o,l=!1,u=3,c,f,d,p=!1,v=ra(t,t,!0).offsetParent,h=1;n&&!s;){s=o;var g=Te(n),m=g("position"),y=uv(n),E=m==="fixed",b=j1(g),_=Rm(Hb(y)),w=void 0,x=!1,S=!1,T=0,O=0,R=0,M=0,C={hasTransform:!1,fixedContainer:null};E&&(p=!0,C=Vb(n),v=C.fixedContainer);var D=_.length;!l&&(D===16||b.length)&&(l=!0,u=4,Rl(i),d&&(d=Je(d,3,4))),l&&D===9&&(_=Je(_,3,4));var A=jb(n,e),k=A.tagName,L=A.hasOffset,N=A.isSVG,B=A.origin,H=A.targetOrigin,z=A.offset,X=I(z,2),j=X[0],$=X[1];k==="svg"&&d&&(i.push({type:"target",target:n,matrix:qb(n,u)}),i.push({type:"offset",target:n,matrix:Vt(u)}));var K=parseFloat(g("zoom"))||1;if(E)w=C.fixedContainer,x=!0;else{var V=ra(n,t,!1,!0,g),Z=V.offsetZoom;if(w=V.offsetParent,x=V.isEnd,S=V.isStatic,h*=Z,(V.isCustomElement||Z!==1)&&S)j-=w.offsetLeft,$-=w.offsetTop;else if(E1||x1){var Q=V.parentSlotElement;if(Q){for(var ut=w,at=0,rt=0;ut&&W1(ut);)at+=ut.offsetLeft,rt+=ut.offsetTop,ut=ut.offsetParent;j-=at,$-=rt}}}if(Mp&&!_1&&L&&!N&&S&&(m==="relative"||m==="static")&&(j-=w.offsetLeft,$-=w.offsetTop,o=o||x),E)L&&C.hasTransform&&(R=w.clientLeft,M=w.clientTop);else if(L&&v!==w&&(T=w.clientLeft,O=w.clientTop),L&&w===a){var nt=cv(n,!1);j+=nt[0],$+=nt[1]}if(i.push({type:"target",target:n,matrix:Oi(_,u,B)}),b.length&&(i.push({type:"offset",target:n,matrix:Vt(u)}),i.push({type:"target",target:n,matrix:Oi(ta(b),u,B)})),L){var Ct=n===e,ft=Ct?0:n.scrollLeft,dt=Ct?0:n.scrollTop;i.push({type:"offset",target:n,matrix:dn([j-ft+T-R,$-dt+O-M],u)})}else i.push({type:"offset",target:n,origin:B});if(K!==1&&i.push({type:"zoom",target:n,matrix:Oi(yu([K,K],u),u,[0,0])}),d||(d=_),c||(c=B),f||(f=H),s||E)break;n=w,o=x,(!r||n===a)&&(s=o)}return d||(d=Vt(u)),c||(c=[0,0]),f||(f=[0,0]),{zoom:h,offsetContainer:v,matrixes:i,targetMatrix:d,transformOrigin:c,targetOrigin:f,is3d:l,hasFixed:p}}var Qr=null,tn=null,Rn=null;function Vn(e){e?(window.Map&&(Qr=new Map,tn=new Map),Rn=[]):(Qr=null,Rn=null,tn=null)}function V1(e){var t=tn==null?void 0:tn.get(e);if(t)return t;var r=Mi(e,!0);return tn&&tn.set(e,r),r}function q1(e,t){if(Rn){var r=De(Rn,function(i){return i[0][0]==e&&i[0][1]==t});if(r)return r[1]}var n=Gp(e,t,!0);return Rn&&Rn.push([[e,t],n]),n}function Te(e){var t=Qr==null?void 0:Qr.get(e);if(!t){var r=Nr(e).getComputedStyle(e);if(!Qr)return function(a){return r[a]};t={style:r,cached:{}},Qr.set(e,t)}var n=t.cached,i=t.style;return function(a){return a in n||(n[a]=i[a]),n[a]}}function Ke(e,t,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var a=i.childDatas;return e.moveables.map(function(o,s){return a[s]=a[s]||{},a[s][t]=a[s][t]||{},P(P({},r),{isRequestChild:!0,datas:a[s][t],originalDatas:a[s]})})}function Ls(e,t,r,n,i,a,o){var s=!!r.match(/Start$/g),l=!!r.match(/End$/g),u=i.isPinch,c=i.datas,f=Ke(e,t.name,i),d=e.moveables,p=f.map(function(v,h){var g=d[h],m=g.state,y=m.gestos,E=v;if(s)E=new jn(o).dragStart(n,v);else{if(y[o]||(y[o]=c.childGestos[h]),!y[o])return;E=xa(v,m,n,u,a,o)}var b=t[r](g,P(P({},E),{parentFlag:!0}));return l&&(y[o]=null),b});return s&&(c.childGestos=d.map(function(v){return v.state.gestos[o]})),p}function wr(e,t,r,n,i,a){i===void 0&&(i=function(c,f){return f});var o=!!r.match(/End$/g),s=Ke(e,t.name,n),l=e.moveables,u=s.map(function(c,f){var d=l[f],p=c;p=i(d,c);var v=t[r](d,P(P({},p),{parentFlag:!0}));return v&&a&&a(d,c,v,f),o&&(d.state.gestos={}),v});return u}function fo(e,t,r,n){var i=r.fixedDirection,a=r.fixedPosition,o=n.datas.startPositions||$e(t.state),s=pe(o,i),l=I(he(ba(-e.rotation/180*Math.PI,3),[s[0]-a[0],s[1]-a[1],1],3),2),u=l[0],c=l[1];return n.datas.originalX=u,n.datas.originalY=c,n}function $p(e,t,r,n){var i=e.getState(),a=i.renderPoses,o=i.rotation,s=i.direction,l=vn(e.props,t).zoom,u=Ti(o/Math.PI*180),c={},f=e.renderState;f.renderDirectionMap||(f.renderDirectionMap={});var d=f.renderDirectionMap;r.forEach(function(v){var h=v.dir;c[h]=!0});var p=ze(s);return r.map(function(v){var h=v.data,g=v.classNames,m=v.dir,y=Su[m];if(!y||!c[m])return null;d[m]=!0;var E=(mt(u,15)+p*Pp[m]+720)%180,b={};return Er(h).forEach(function(_){b["data-".concat(_)]=h[_]}),n.createElement("div",P({className:st.apply(void 0,U(["control","direction",m,t],I(g),!1)),"data-rotation":E,"data-direction":m},b,{key:"direction-".concat(m),style:go.apply(void 0,U([o,l],I(y.map(function(_){return a[_]})),!1))}))})}function Wp(e,t,r,n){var i=vn(e.props,r),a=i.renderDirections,o=a===void 0?t:a,s=i.displayAroundControls;if(!o)return[];var l=o===!0?Eu:o;return U(U([],I(s?Up(e,n,r,l):[]),!1),I($p(e,r,l.map(function(u){return{data:{},classNames:[],dir:u}}),n)),!1)}function ea(e,t,r,n,i,a){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var l=re(r,n),u=t?mt(l/Math.PI*180,15)%180:-1;return e.createElement("div",{key:"line-".concat(a),className:st.apply(void 0,U(["line","direction",t?"edge":"",t],I(o),!1)),"data-rotation":u,"data-line-key":a,"data-direction":t,style:Ei(r,n,i,l)})}function jp(e,t,r,n,i){var a=r===!0?h1:r;return a.map(function(o,s){var l=I(Su[o],2),u=l[0],c=l[1];if(c!=null)return ea(e,o,n[u],n[c],i,"".concat(t,"Edge").concat(s),t)}).filter(Boolean)}function Vp(e){return function(t,r){var n=vn(t.props,e).edge;return n&&(n===!0||n.length)?U(U([],I(jp(r,e,n,t.getState().renderPoses,t.props.zoom)),!1),I(U1(t,e,r)),!1):qp(t,e,r)}}function qp(e,t,r){return Wp(e,Eu,t,r)}function U1(e,t,r){return Wp(e,["nw","ne","sw","se"],t,r)}function Up(e,t,r,n){var i=e.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var a=e.getState(),o=a.renderPoses,s=a.rotation,l=a.direction,u=i.renderDirectionMap,c=e.props.zoom,f=ze(l),d=s/Math.PI*180;return(n||Er(u)).map(function(p){var v=Su[p];if(!v)return null;var h=(mt(d,15)+f*Pp[p]+720)%180,g=["around-control"];return r&&g.push("direction",r),t.createElement("div",{className:st.apply(void 0,U([],I(g),!1)),"data-rotation":h,"data-direction":p,key:"direction-around-".concat(p),style:go.apply(void 0,U([s,c],I(v.map(function(m){return o[m]})),!1))})})}function Tu(e,t,r){var n=e||{},i=n.position,a=i===void 0?"client":i,o=n.left,s=o===void 0?-1/0:o,l=n.top,u=l===void 0?-1/0:l,c=n.right,f=c===void 0?1/0:c,d=n.bottom,p=d===void 0?1/0:d,v={position:a,left:s,top:u,right:f,bottom:p};return{vertical:Wc(v,t,!0),horizontal:Wc(v,r,!1)}}function ps(e,t){var r=e.state,n=r.containerClientRect,i=n.clientHeight,a=n.clientWidth,o=n.clientLeft,s=n.clientTop,l=r.snapOffset,u=l.left,c=l.top,f=l.right,d=l.bottom,p=t||e.props.bounds||{},v=p.position||"client",h=v==="css",g=p.left,m=g===void 0?-1/0:g,y=p.top,E=y===void 0?-1/0:y,b=p.right,_=b===void 0?h?-1/0:1/0:b,w=p.bottom,x=w===void 0?h?-1/0:1/0:w;return h&&(_=a+f-u-_,x=i+d-c-x),{left:m+u-o,right:_+u-o,top:E+c-s,bottom:x+c-s}}function Y1(e,t,r){var n=ps(e),i=n.left,a=n.top,o=n.right,s=n.bottom,l=I(r,2),u=l[0],c=l[1],f=I(lt(r,t),2),d=f[0],p=f[1];G(d)<be&&(d=0),G(p)<be&&(p=0);var v=p>0,h=d>0,g={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(d===0&&p===0)return{vertical:g,horizontal:m};if(d===0)v?s<c&&(m.pos=s,m.offset=c-s):a>c&&(m.pos=a,m.offset=c-a);else if(p===0)h?o<u&&(g.pos=o,g.offset=u-o):i>u&&(g.pos=i,g.offset=u-i);else{var y=p/d,E=r[1]-y*u,b=0,_=0,w=!1;h&&o<=u?(b=y*o+E,_=o,w=!0):!h&&u<=i&&(b=y*i+E,_=i,w=!0),w&&(b<a||b>s)&&(w=!1),w||(v&&s<=c?(b=s,_=(b-E)/y,w=!0):!v&&c<=a&&(b=a,_=(b-E)/y,w=!0)),w&&(g.isBound=!0,g.pos=_,g.offset=u-_,m.isBound=!0,m.pos=b,m.offset=c-b)}return{vertical:g,horizontal:m}}function Wc(e,t,r){var n=e[r?"left":"top"],i=e[r?"right":"bottom"],a=Math.min.apply(Math,U([],I(t),!1)),o=Math.max.apply(Math,U([],I(t),!1)),s=[];return n+1>a&&s.push({direction:"start",isBound:!0,offset:a-n,pos:n}),i-1<o&&s.push({direction:"end",isBound:!0,offset:o-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(l,u){return G(u.offset)-G(l.offset)})}function jc(e,t,r){var n=r?e.map(function(i){return ma(i,r)}):e;return n.some(function(i){return i[0]<t.left&&G(i[0]-t.left)>.1||i[0]>t.right&&G(i[0]-t.right)>.1||i[1]<t.top&&G(i[1]-t.top)>.1||i[1]>t.bottom&&G(i[1]-t.bottom)>.1})}function X1(e,t,r){var n=Ge(e),i=Math.sqrt(n*n-t*t)||0;return[i,-i].sort(function(a,o){return G(a-e[r?0:1])-G(o-e[r?0:1])}).map(function(a){return re([0,0],r?[a,t]:[t,a])})}function K1(e,t,r,n,i){if(!e.props.bounds)return[];var a=i*Math.PI/180,o=ps(e),s=o.left,l=o.top,u=o.right,c=o.bottom,f=s-n[0],d=u-n[0],p=l-n[1],v=c-n[1],h={left:f,top:p,right:d,bottom:v};if(!jc(r,h,0))return[];var g=[];return[[f,0],[d,0],[p,1],[v,1]].forEach(function(m){var y=I(m,2),E=y[0],b=y[1];r.forEach(function(_){var w=re([0,0],_);g.push.apply(g,U([],I(X1(_,E,b).map(function(x){return a+x-w}).filter(function(x){return!jc(t,h,x)}).map(function(x){return mt(x*180/Math.PI,be)})),!1))})}),g}var Z1=["left","right","center"],J1=["top","bottom","middle"],Vc={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},Gr={start:"left",end:"right",center:"center"},$r={start:"top",end:"bottom",center:"middle"};function Pn(){return{left:!1,top:!1,right:!1,bottom:!1}}function oi(e,t){var r=e.props,n=r.snappable,i=r.bounds,a=r.innerBounds,o=r.verticalGuidelines,s=r.horizontalGuidelines,l=r.snapGridWidth,u=r.snapGridHeight,c=e.state,f=c.guidelines,d=c.enableSnap;return!n||!d||t&&n!==!0&&n.indexOf(t)<0?!1:!!(l||u||i||a||f&&f.length||o&&o.length||s&&s.length)}function Ou(e){return e===!1?{}:e===!0||!e?{left:!0,right:!0,top:!0,bottom:!0}:e}function Q1(e,t){var r=Ou(e),n={};for(var i in r)i in t&&r[i]&&(n[i]=t[i]);return n}function Mu(e,t){var r=Q1(e,t),n=J1.filter(function(a){return a in r}),i=Z1.filter(function(a){return a in r});return{horizontalNames:n,verticalNames:i,horizontal:n.map(function(a){return r[a]}),vertical:i.map(function(a){return r[a]})}}function tb(e,t,r){var n=Yt(e,[t.clientLeft,t.clientTop],r);return[t.left+n[0],t.top+n[1]]}function eb(e){var t=I(e,2),r=t[0],n=t[1],i=n[0]-r[0],a=n[1]-r[1];Math.abs(i)<ie&&(i=0),Math.abs(a)<ie&&(a=0);var o=0,s=0,l=0;return i?a?(o=-a/i,s=1,l=o*r[0]-r[1]):(s=1,l=-r[1]):(o=-1,l=r[0]),[o,s,l].map(function(u){return mt(u,ie)})}function vs(e,t,r,n,i,a){n===void 0&&(n=[]),i===void 0&&(i=[]);var o=e.props,s=Zb(a,o.snapThreshold,5);return Yp(e.state.guidelines,t,r,n,i,s)}function Yp(e,t,r,n,i,a){return{vertical:Uc(e,"vertical",t,a,n),horizontal:Uc(e,"horizontal",r,a,i)}}function rb(e,t,r){var n=I(r,2),i=n[0],a=n[1],o=I(t,2),s=o[0],l=o[1],u=I(lt(r,t),2),c=u[0],f=u[1],d=f>0,p=c>0;c=mo(c),f=mo(f);var v={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(c===0&&f===0)return{vertical:v,horizontal:h};var g=vs(e,c?[i]:[],f?[a]:[]),m=g.vertical,y=g.horizontal;m.posInfos.filter(function(k){var L=k.pos;return p?L>=s:L<=s}),y.posInfos.filter(function(k){var L=k.pos;return d?L>=l:L<=l}),m.isSnap=m.posInfos.length>0,y.isSnap=y.posInfos.length>0;var E=Tl(m),b=E.isSnap,_=E.guideline,w=Tl(y),x=w.isSnap,S=w.guideline,T=x?S.pos[1]:0,O=b?_.pos[0]:0;if(c===0)x&&(h.isSnap=!0,h.pos=S.pos[1],h.offset=a-h.pos);else if(f===0)b&&(v.isSnap=!0,v.pos=O,v.offset=i-O);else{var R=f/c,M=r[1]-R*i,C=0,D=0,A=!1;b?(D=O,C=R*D+M,A=!0):x&&(C=T,D=(C-M)/R,A=!0),A&&(v.isSnap=!0,v.pos=D,v.offset=i-D,h.isSnap=!0,h.pos=C,h.offset=a-C)}return{vertical:v,horizontal:h}}function kr(e){var t="";return e===-1||e==="top"||e==="left"?t="start":e===0||e==="center"||e==="middle"?t="center":(e===1||e==="right"||e==="bottom")&&(t="end"),t}function qc(e,t,r){var n=Mu(e.props.snapDirections,t),i=vs(e,n.vertical,n.horizontal,n.verticalNames.map(function(s){return kr(s)}),n.horizontalNames.map(function(s){return kr(s)}),r),a=kr(n.horizontalNames[i.horizontal.index]),o=kr(n.verticalNames[i.vertical.index]);return{vertical:P(P({},i.vertical),{direction:o}),horizontal:P(P({},i.horizontal),{direction:a})}}function Tl(e){var t=e.isSnap;if(!t)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=e.posInfos[0],n=r.guidelineInfos[0],i=n.offset,a=n.dist,o=n.guideline;return{isSnap:t,offset:i,dist:a,pos:r.pos,guideline:o}}function Uc(e,t,r,n,i){var a,o;if(i===void 0&&(i=[]),!e||!e.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s=t==="vertical",l=s?0:1,u=r.map(function(f,d){var p=i[d]||"",v=e.map(function(h){var g=h.pos,m=f-g[l];return{offset:m,dist:G(m),guideline:h,direction:p}}).filter(function(h){var g=h.guideline,m=h.dist,y=g.type;return!(y!==t||m>n)}).sort(function(h,g){return h.dist-g.dist});return{pos:f,index:d,guidelineInfos:v,direction:p}}).filter(function(f){return f.guidelineInfos.length>0}).sort(function(f,d){return f.guidelineInfos[0].dist-d.guidelineInfos[0].dist}),c=u.length>0;return{isSnap:c,index:c?u[0].index:-1,direction:(o=(a=u[0])===null||a===void 0?void 0:a.direction)!==null&&o!==void 0?o:"",posInfos:u}}function nb(e,t,r,n){n===void 0&&(n=1);var i=[];r[0]&&r[1]?i=[r,[-r[0],r[1]],[r[0],-r[1]]]:!r[0]&&!r[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(f,d,p){var v=p[d+1]||p[0];i.push(f),i.push([(f[0]+v[0])/2,(f[1]+v[1])/2])}):e.props.keepRatio?i.push([-1,-1],[-1,1],[1,-1],[1,1],r):(i.push.apply(i,U([],I(R1([[-1,-1],[1,-1],[-1,-1],[1,1]],r)),!1)),i.length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));var a=i.map(function(f){return pe(t,f)}),o=a.map(function(f){return f[0]}),s=a.map(function(f){return f[1]}),l=vs(e,o,s,i.map(function(f){return kr(f[0])}),i.map(function(f){return kr(f[1])}),n),u=kr(i.map(function(f){return f[0]})[l.vertical.index]),c=kr(i.map(function(f){return f[1]})[l.horizontal.index]);return{vertical:P(P({},l.vertical),{direction:u}),horizontal:P(P({},l.horizontal),{direction:c})}}function Xp(e,t){var r=G(e.offset),n=G(t.offset);return e.isBound&&t.isBound?n-r:e.isBound?-1:t.isBound?1:e.isSnap&&t.isSnap?n-r:e.isSnap?-1:t.isSnap||r<be?1:n<be?-1:r-n}function po(e,t){return e.slice().sort(function(r,n){var i=r.sign[t],a=n.sign[t],o=r.offset[t],s=n.offset[t];if(i){if(!a)return-1}else return 1;return Xp({isBound:r.isBound,isSnap:r.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function ib(e,t,r){var n=[];if(r)G(t[0])!==1||G(t[1])!==1?n.push([t,[-1,-1]],[t,[-1,1]],[t,[1,-1]],[t,[1,1]]):n.push([t,[e[0],-e[1]]],[t,[-e[0],e[1]]]),n.push([t,e]);else if(e[0]&&e[1]||!e[0]&&!e[1]){var i=e[0]?e:[1,1];[1,-1].forEach(function(o){[1,-1].forEach(function(s){var l=[o*i[0],s*i[1]];t[0]===l[0]&&t[1]===l[1]||n.push([t,l])})})}else if(e[0]){var a=G(t[0])===1?[1]:[1,-1];a.forEach(function(o){n.push([[t[0],-1],[o*e[0],-1]],[[t[0],0],[o*e[0],0]],[[t[0],1],[o*e[0],1]])})}else if(e[1]){var a=G(t[1])===1?[1]:[1,-1];a.forEach(function(s){n.push([[-1,t[1]],[-1,s*e[1]]],[[0,t[1]],[0,s*e[1]]],[[1,t[1]],[1,s*e[1]]])})}return n}function Kp(e,t){var r=fl([t[0][0],t[1][0]]),n=fl([t[0][1],t[1][1]]);return{vertical:r<=e[0],horizontal:n<=e[1]}}function Au(e,t){var r=I(t,2),n=r[0],i=r[1],a=i[0]-n[0],o=i[1]-n[1];G(a)<be&&(a=0),G(o)<be&&(o=0);var s,l;if(!a)s=n[0],l=e[0];else if(!o)s=n[1],l=e[1];else{var u=o/a;s=u*(e[0]-n[0])+n[1],l=e[1]}return s-l}function Zp(e,t,r,n){return n===void 0&&(n=be),e.every(function(i){var a=Au(i,t),o=a<=0;return o===r||G(a)<=n})}function Yc(e,t,r,n,i){return i===void 0&&(i=0),n&&t-i<=e||!n&&e<=r+i?{isBound:!0,offset:n?t-e:r-e}:{isBound:!1,offset:0}}function ab(e,t){var r=t.line,n=t.centerSign,i=t.verticalSign,a=t.horizontalSign,o=t.lineConstants,s=e.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=s.left,u=s.top,c=s.width,f=s.height,d=[[l,u],[l,u+f]],p=[[l,u],[l+c,u]],v=[[l+c,u],[l+c,u+f]],h=[[l,u+f],[l+c,u+f]];if(Zp([[l,u],[l+c,u],[l,u+f],[l+c,u+f]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=Rr(r,o,p,i),m=Rr(r,o,h,i),y=Rr(r,o,d,a),E=Rr(r,o,v,a),b=g.isBound&&m.isBound,_=g.isBound||m.isBound,w=y.isBound&&E.isBound,x=y.isBound||E.isBound,S=qn(g.offset,m.offset),T=qn(y.offset,E.offset),O=[0,0],R=!1,M=!1;return G(T)<G(S)?(O=[S,0],R=_,M=b):(O=[0,T],R=x,M=w),{isAllBound:M,isVerticalBound:_,isHorizontalBound:x,isBound:R,offset:O}}function Rr(e,t,r,n,i,a){var o=I(t,2),s=o[0],l=o[1],u=e[0],c=r[0],f=r[1],d=mo(f[1]-c[1]),p=mo(f[0]-c[0]),v=l,h=s,g=-s/l;if(p){if(!d){if(a&&!v)return{isBound:!1,offset:0};if(h){var b=(c[1]-u[1])/g+u[0];return Yc(b,c[0],f[0],n,i)}else{var y=c[1]-u[1],E=G(y)<=(i||0);return{isBound:E,offset:E?y:0}}}}else{if(a&&!h)return{isBound:!1,offset:0};if(v){var m=g*(c[0]-u[0])+u[1];return Yc(m,c[1],f[1],n,i)}else{var y=c[0]-u[0],E=G(y)<=(i||0);return{isBound:E,offset:E?y:0}}}return{isBound:!1,offset:0}}function Jp(e,t,r){return t.map(function(n){var i=ab(e,n),a=i.isBound,o=i.offset,s=i.isVerticalBound,l=i.isHorizontalBound,u=n.multiple,c=dr({datas:r,distX:o[0],distY:o[1]}).map(function(f,d){return f*(u[d]?2/u[d]:0)});return{sign:u,isBound:a,isVerticalBound:s,isHorizontalBound:l,isSnap:!1,offset:c}})}function ob(e,t,r){var n,i=ku(e,t,[0,0],!1).map(function(d){return P(P({},d),{multiple:d.multiple.map(function(p){return G(p)*2})})}),a=Jp(e,i,r),o=po(a,0),s=po(a,1),l=0,u=0,c=o.isVerticalBound||s.isVerticalBound,f=o.isHorizontalBound||s.isHorizontalBound;return(c||f)&&(n=I(A1({datas:r,distX:-o.offset[0],distY:-s.offset[1]}),2),l=n[0],u=n[1]),{vertical:{isBound:c,offset:l},horizontal:{isBound:f,offset:u}}}function sb(e,t){var r=[],n=e[0],i=e[1];return n&&i?r.push([[0,i*2],e,[-n,i]],[[n*2,0],e,[n,-i]]):n?(r.push([[n*2,0],[n,1],[n,-1]]),t&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(r.push([[0,i*2],[1,i],[-1,i]]),t&&r.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function ku(e,t,r,n){var i=e.state,a=i.allMatrix,o=i.is3d,s=En(a,100,100,o?4:3),l=pe(s,[0,0]);return sb(r,n).map(function(u){var c=I(u,3),f=c[0],d=c[1],p=c[2],v=[pe(s,d),pe(s,p)],h=eb(v),g=Kp(l,v),m=g.vertical,y=g.horizontal,E=Au(l,v)<=0;return{multiple:f,centerSign:E,verticalSign:m,horizontalSign:y,lineConstants:h,line:[pe(t,d),pe(t,p)]}})}function Xc(e,t,r,n){var i=n?e.map(function(a){return ma(a,n)}):e;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(a){var o=Au(r,a)<=0;return!Zp(t,a,o)})}function lb(e){var t=I(e,2),r=t[0],n=t[1],i=n[0]-r[0],a=n[1]-r[1];if(!i)return G(r[0]);if(!a)return G(r[1]);var o=a/i;return G((-o*r[0]+r[1])/Math.sqrt(Math.pow(o,2)+1))}function ub(e){var t=I(e,2),r=t[0],n=t[1],i=n[0]-r[0],a=n[1]-r[1];if(!i)return[r[0],0];if(!a)return[0,r[1]];var o=a/i,s=-o*r[0]+r[1];return[-s/(o+1/o),s/(o*o+1)]}function cb(e,t,r,n,i){var a=e.props.innerBounds,o=i*Math.PI/180;if(!a)return[];var s=a.left,l=a.top,u=a.width,c=a.height,f=s-n[0],d=s+u-n[0],p=l-n[1],v=l+c-n[1],h=[[f,p],[d,p],[f,v],[d,v]],g=pe(r,[0,0]);if(!Xc(r,h,g,0))return[];var m=[],y=h.map(function(E){return[Ge(E),re([0,0],E)]});return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach(function(E){var b=re([0,0],ub(E)),_=lb(E);m.push.apply(m,U([],I(y.filter(function(w){var x=I(w,1),S=x[0];return S&&_<=S}).map(function(w){var x=I(w,2),S=x[0],T=x[1],O=Math.acos(S?_/S:0),R=T+O,M=T-O;return[o+R-b,o+M-b]}).reduce(function(w,x){return w.push.apply(w,U([],I(x),!1)),w},[]).filter(function(w){return!Xc(t,h,g,w)}).map(function(w){return mt(w*180/Math.PI,be)})),!1))}),m}function fb(e){var t=e.props.innerBounds,r=Pn();if(!t)return{boundMap:r,vertical:[],horizontal:[]};var n=e.getRect(),i=n.pos1,a=n.pos2,o=n.pos3,s=n.pos4,l=[i,a,o,s],u=pe(l,[0,0]),c=t.left,f=t.top,d=t.width,p=t.height,v=[[c,f],[c,f+p]],h=[[c,f],[c+d,f]],g=[[c+d,f],[c+d,f+p]],m=[[c,f+p],[c+d,f+p]],y=ku(e,l,[0,0],!1),E=[],b=[];return y.forEach(function(_){var w=_.line,x=_.lineConstants,S=Kp(u,w),T=S.horizontal,O=S.vertical,R=Rr(w,x,h,O,1,!0),M=Rr(w,x,m,O,1,!0),C=Rr(w,x,v,T,1,!0),D=Rr(w,x,g,T,1,!0);R.isBound&&!r.top&&(E.push(f),r.top=!0),M.isBound&&!r.bottom&&(E.push(f+p),r.bottom=!0),C.isBound&&!r.left&&(b.push(c),r.left=!0),D.isBound&&!r.right&&(b.push(c+d),r.right=!0)}),{boundMap:r,horizontal:E,vertical:b}}function db(e,t,r,n){var i=t[0]-e[0],a=t[1]-e[1];if(G(i)<ie&&(i=0),G(a)<ie&&(a=0),!i)return n?[0,0]:[0,r];if(!a)return n?[r,0]:[0,0];var o=a/i,s=e[1]-o*e[0];if(n){var l=o*(t[0]+r)+s;return[r,l-t[1]]}else{var u=(t[1]+r-s)/o;return[u-t[0],r]}}function Ol(e,t,r,n,i){var a=db(e,t,r,n);if(!a)return{isOutside:!1,offset:[0,0]};var o=yr(e,t),s=yr(a,e),l=yr(a,t),u=s>o||l>o,c=I(dr({datas:i,distX:a[0],distY:a[1]}),2),f=c[0],d=c[1];return{offset:[f,d],isOutside:u}}function vo(e,t){return e.isBound?e.offset:t.isSnap?Tl(t).offset:0}function pb(e,t,r,n,i){var a=I(t,2),o=a[0],s=a[1],l=I(r,2),u=l[0],c=l[1],f=I(n,2),d=f[0],p=f[1],v=I(i,2),h=v[0],g=v[1],m=-h,y=-g;if(e&&o&&s){m=0,y=0;var E=[];if(u&&c?E.push([0,g],[h,0]):u?E.push([h,0]):c?E.push([0,g]):d&&p?E.push([0,g],[h,0]):d?E.push([h,0]):p&&E.push([0,g]),E.length){E.sort(function(x,S){return Ge(lt([o,s],x))-Ge(lt([o,s],S))});var b=E[0];if(b[0]&&G(o)>ie)m=-b[0],y=s*G(o+m)/G(o)-s;else if(b[1]&&G(s)>ie){var _=s;y=-b[1],m=o*G(s+y)/G(_)-o}if(e&&c&&u)if(G(m)>ie&&G(m)<G(h)){var w=G(h)/G(m);m*=w,y*=w}else if(G(y)>ie&&G(y)<G(g)){var w=G(g)/G(y);m*=w,y*=w}else m=qn(-h,m),y=qn(-g,y)}}else m=o||u?-h:0,y=s||c?-g:0;return[m,y]}function vb(e,t,r,n,i,a){if(!oi(e,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=Iu(a.absolutePoses,[t,r]),s=Fe(o),l=s.left,u=s.right,c=s.top,f=s.bottom,d={horizontal:o.map(function(D){return D[1]}),vertical:o.map(function(D){return D[0]})},p=Ou(e.props.snapDirections),v=Mu(p,{left:l,right:u,top:c,bottom:f,center:(l+u)/2,middle:(c+f)/2}),h=hs(e,i,v,d),g=h.vertical,m=h.horizontal,y=ob(e,o,a),E=y.vertical,b=y.horizontal,_=g.isSnap,w=m.isSnap,x=g.isBound||E.isBound,S=m.isBound||b.isBound,T=qn(g.offset,E.offset),O=qn(m.offset,b.offset),R=I(pb(n,[t,r],[x,S],[_,w],[T,O]),2),M=R[0],C=R[1];return[{isBound:x,isSnap:_,offset:M},{isBound:S,isSnap:w,offset:C}]}function hs(e,t,r,n){n===void 0&&(n=r);var i=Tu(ps(e),n.vertical,n.horizontal),a=i.horizontal,o=i.vertical,s=t?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:vs(e,r.vertical,r.horizontal),l=s.horizontal,u=s.vertical,c=vo(a[0],l),f=vo(o[0],u),d=G(c),p=G(f);return{horizontal:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:d,bounds:a,snap:l},vertical:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:p,bounds:o,snap:u}}}function Kc(e,t,r,n,i){var a=Tu(t,r,n),o=a.horizontal,s=a.vertical,l=Yp(e,r,n,[],[],i),u=l.horizontal,c=l.vertical,f=vo(o[0],u),d=vo(s[0],c),p=G(f),v=G(d);return{horizontal:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:p,bounds:o,snap:u},vertical:{isBound:s[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:d,dist:v,bounds:s,snap:c}}}function hb(e,t,r,n){var i=re(e,t)/Math.PI*180,a=r.vertical,o=a.isBound,s=a.isSnap,l=a.dist,u=r.horizontal,c=u.isBound,f=u.isSnap,d=u.dist,p=i%180,v=p<3||p>177,h=p>87&&p<93;return d<l&&(o||s&&!h&&(!n||!v))?"vertical":c||f&&!v&&(!n||!h)?"horizontal":""}function gb(e,t,r,n,i,a){return r.map(function(o){var s=I(o,2),l=s[0],u=s[1],c=pe(t,l),f=pe(t,u),d=n?mb(e,c,f,i):hs(e,i,{vertical:[f[0]],horizontal:[f[1]]}),p=d.horizontal,v=p.offset,h=p.isBound,g=p.isSnap,m=d.vertical,y=m.offset,E=m.isBound,b=m.isSnap,_=lt(u,l);if(!y&&!v)return{isBound:E||h,isSnap:b||g,sign:_,offset:[0,0]};var w=hb(c,f,d,n);if(!w)return{sign:_,isBound:!1,isSnap:!1,offset:[0,0]};var x=w==="vertical",S=[0,0];return!n&&G(u[0])===1&&G(u[1])===1&&l[0]!==u[0]&&l[1]!==u[1]?S=dr({datas:a,distX:-y,distY:-v}):S=Ol(c,f,-(x?y:v),x,a).offset,S=S.map(function(T,O){return T*(_[O]?2/_[O]:0)}),{sign:_,isBound:x?E:h,isSnap:x?b:g,offset:S}})}function Zc(e,t){return e.isBound?e.offset:t.isSnap?t.offset:0}function mb(e,t,r,n){var i=Y1(e,t,r),a=i.horizontal,o=i.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:rb(e,t,r),l=s.horizontal,u=s.vertical,c=Zc(a,l),f=Zc(o,u),d=G(c),p=G(f);return{horizontal:{isBound:a.isBound,isSnap:l.isSnap,offset:c,dist:d},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:f,dist:p}}}function bb(e,t,r,n,i){var a=[-r[0],-r[1]],o=e.state,s=o.width,l=o.height,u=e.props.bounds,c=1/0,f=1/0;if(u){var d=[[r[0],-r[1]],[-r[0],r[1]]],p=u.left,v=p===void 0?-1/0:p,h=u.top,g=h===void 0?-1/0:h,m=u.right,y=m===void 0?1/0:m,E=u.bottom,b=E===void 0?1/0:E;d.forEach(function(_){var w=_[0]!==a[0],x=_[1]!==a[1],S=pe(t,_),T=re(n,S)*360/Math.PI;if(x){var O=S.slice();(G(T-360)<2||G(T-180)<2)&&(O[1]=n[1]);var R=Ol(n,O,(n[1]<S[1]?b:g)-S[1],!1,i),M=I(R.offset,2),C=M[1],D=R.isOutside;isNaN(C)||(f=l+(D?1:-1)*G(C))}if(w){var O=S.slice();(G(T-90)<2||G(T-270)<2)&&(O[0]=n[0]);var A=Ol(n,O,(n[0]<S[0]?y:v)-S[0],!0,i),k=I(A.offset,1),L=k[0],N=A.isOutside;isNaN(L)||(c=s+(N?1:-1)*G(L))}})}return{maxWidth:c,maxHeight:f}}var ge={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(e,t){var r=e.props,n=r.hideThrottleDragRotateLine,i=r.throttleDragRotate,a=r.zoom,o=e.getState(),s=o.dragInfo,l=o.beforeOrigin;if(n||!i||!s)return[];var u=s.dist;if(!u[0]&&!u[1])return[];var c=Ge(u),f=re(u,[0,0]);return[t.createElement("div",{className:st("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(c,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(f,"rad) scaleY(").concat(a,")")}})]},dragStart:function(e,t){var r=t.datas,n=t.parentEvent,i=t.parentGesto,a=e.state,o=a.gestos,s=a.style;if(o.draggable)return!1;o.draggable=i||e.targetGesto,r.datas={},r.left=parseFloat(s.left||"")||0,r.top=parseFloat(s.top||"")||0,r.bottom=parseFloat(s.bottom||"")||0,r.right=parseFloat(s.right||"")||0,r.startValue=[0,0],xn(e,t),ds(e,t,"translate"),Nb(e,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var l=xt(e,t,P({set:function(c){r.startValue=c}},fs(e,t))),u=n||et(e,"onDragStart",l);return u!==!1?(r.isDrag=!0,e.state.dragInfo={startRect:e.getRect(),dist:[0,0]}):(o.draggable=null,r.isPinch=!1),r.isDrag?l:!1},drag:function(e,t){if(t){us(e,t,"translate");var r=t.datas,n=t.parentEvent,i=t.parentFlag,a=t.isPinch,o=t.deltaOffset,s=t.useSnap,l=t.isRequest,u=t.distX,c=t.distY,f=r.isDrag,d=r.prevDist,p=r.prevBeforeDist,v=r.startValue;if(f){o&&(u+=o[0],c+=o[1]);var h=e.props,g=h.parentMoveable,m=n?0:h.throttleDrag||0,y=n?0:h.throttleDragRotate||0,E=0,b=!1,_=!1,w=!1,x=!1;if(!n&&y>0&&(u||c)){var S=h.startDragRotate||0,T=mt(S+re([0,0],[u,c])*180/Math.PI,y)-S,O=c*Math.abs(Math.cos((T-90)/180*Math.PI)),R=u*Math.abs(Math.cos(T/180*Math.PI)),M=Ge([R,O]);E=T*Math.PI/180,u=M*Math.cos(E),c=M*Math.sin(E)}if(!a&&!n&&!i){var C=I(vb(e,u,c,y,!s&&l||o,r),2),D=C[0],A=C[1];b=D.isSnap,_=D.isBound,w=A.isSnap,x=A.isBound;var k=D.offset,L=A.offset;u+=k,c+=L}var N=Ot(Bp({datas:r,distX:u,distY:c}),v),B=Ot(M1({datas:r,distX:u,distY:c}),v);Ac(B,be),Ac(N,be),y||(!b&&!_&&(B[0]=mt(B[0],m),N[0]=mt(N[0],m)),!w&&!x&&(B[1]=mt(B[1],m),N[1]=mt(N[1],m)));var H=lt(N,v),z=lt(B,v),X=lt(z,d),j=lt(H,p);r.prevDist=z,r.prevBeforeDist=H,r.passDelta=X,r.passDist=z;var $=r.left+H[0],K=r.top+H[1],V=r.right-H[0],Z=r.bottom-H[1],Q=cs(r,"translate(".concat(B[0],"px, ").concat(B[1],"px)"),"translate(".concat(z[0],"px, ").concat(z[1],"px)"));if(Cu(t,Q),e.state.dragInfo.dist=n?[0,0]:z,!(!n&&!g&&X.every(function(Ct){return!Ct})&&j.some(function(Ct){return!Ct}))){var ut=e.state,at=ut.width,rt=ut.height,nt=xt(e,t,P({transform:Q,dist:z,delta:X,translate:B,beforeDist:H,beforeDelta:j,beforeTranslate:N,left:$,top:K,right:V,bottom:Z,width:at,height:rt,isPinch:a},me({transform:Q},t)));return!n&&et(e,"onDrag",nt),nt}}}},dragAfter:function(e,t){var r=t.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(e,P(P({},t),{deltaOffset:n}))):!1},dragEnd:function(e,t){var r=t.parentEvent,n=t.datas;if(e.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var i=Re(e,t,{});return!r&&et(e,"onDragEnd",i),i}},dragGroupStart:function(e,t){var r=t.datas,n=t.clientX,i=t.clientY,a=this.dragStart(e,t);if(!a)return!1;var o=Ls(e,this,"dragStart",[n||0,i||0],t,!1,"draggable"),s=P(P({},a),{targets:e.props.targets,events:o}),l=et(e,"onDragGroupStart",s);return r.isDrag=l!==!1,r.isDrag?a:!1},dragGroup:function(e,t){var r=t.datas;if(r.isDrag){var n=this.drag(e,t),i=t.datas.passDelta,a=Ls(e,this,"drag",i,t,!1,"draggable");if(n){var o=P({targets:e.props.targets,events:a},n);return et(e,"onDragGroup",o),o}}},dragGroupEnd:function(e,t){var r=t.isDrag,n=t.datas;if(n.isDrag){this.dragEnd(e,t);var i=Ls(e,this,"dragEnd",[0,0],t,!1,"draggable");return et(e,"onDragGroupEnd",Re(e,t,{targets:e.props.targets,events:i})),r}},request:function(e){var t={},r=e.getRect(),n=0,i=0,a=!1;return{isControl:!1,requestStart:function(o){return a=o.useSnap,{datas:t,useSnap:a}},request:function(o){return"x"in o?n=o.x-r.left:"deltaX"in o&&(n+=o.deltaX),"y"in o?i=o.y-r.top:"deltaY"in o&&(i+=o.deltaY),{datas:t,distX:n,distY:i,useSnap:a}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:a}}}},unset:function(e){e.state.gestos.draggable=null,e.state.dragInfo=null}};function Qp(e,t){var r=pe(e,t),n=[0,0];return{fixedPosition:r,fixedDirection:t,fixedOffset:n}}function yb(e,t){var r=e.allMatrix,n=e.is3d,i=e.width,a=e.height,o=n?4:3,s=[i/2*(1+t[0]),a/2*(1+t[1])],l=Yt(r,s,o),u=[0,0];return{fixedPosition:l,fixedDirection:t,fixedOffset:u}}function tv(e,t){var r=e.allMatrix,n=e.is3d,i=e.width,a=e.height,o=n?4:3,s=B1(t,i,a),l=Yt(r,t,o),u=[i?0:t[0],a?0:t[1]];return{fixedPosition:l,fixedDirection:s,fixedOffset:u}}var Jc=Bu("resizable"),Ml={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:Vp("resizable"),dragControlCondition:Jc,viewClassName:Nu("resizable"),dragControlStart:function(e,t){var r,n=t.inputEvent,i=t.isPinch,a=t.isGroup,o=t.parentDirection,s=t.parentGesto,l=t.datas,u=t.parentFixedDirection,c=t.parentEvent,f=hv(o,i,n,l),d=e.state,p=d.target,v=d.width,h=d.height,g=d.gestos;if(!f||!p||g.resizable)return!1;g.resizable=s||e.controlGesto,!i&&xn(e,t),l.datas={},l.direction=f,l.startOffsetWidth=v,l.startOffsetHeight=h,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=d.inlineCSSWidth||d.cssWidth,l.startHeight=d.inlineCSSHeight||d.cssHeight,l.maxSize=[1/0,1/0],a||(l.minSize=[d.minOffsetWidth,d.minOffsetHeight],l.maxSize=[d.maxOffsetWidth,d.maxOffsetHeight]);var m=e.props.transformOrigin||"% %";l.transformOrigin=m&&Ce(m)?m.split(" "):m,l.startOffsetMatrix=d.offsetMatrix,l.startTransformOrigin=d.transformOrigin,l.isWidth=(r=t==null?void 0:t.parentIsWidth)!==null&&r!==void 0?r:!f[0]&&!f[1]||f[0]||!f[1];function y(T){l.ratio=T&&isFinite(T)?T:0}l.startPositions=$e(e.state);function E(T){var O=Qp(l.startPositions,T);l.fixedDirection=O.fixedDirection,l.fixedPosition=O.fixedPosition,l.fixedOffset=O.fixedOffset}function b(T){var O=tv(e.state,T);l.fixedDirection=O.fixedDirection,l.fixedPosition=O.fixedPosition,l.fixedOffset=O.fixedOffset}function _(T){l.minSize=[Nt("".concat(T[0]),0)||0,Nt("".concat(T[1]),0)||0]}function w(T){var O=[T[0]||1/0,T[1]||1/0];(!$n(O[0])||isFinite(O[0]))&&(O[0]=Nt("".concat(O[0]),0)||1/0),(!$n(O[1])||isFinite(O[1]))&&(O[1]=Nt("".concat(O[1]),0)||1/0),l.maxSize=O}y(v/h),E(u||[-f[0],-f[1]]),l.setFixedDirection=E,l.setFixedPosition=b,l.setMin=_,l.setMax=w;var x=xt(e,t,{direction:f,startRatio:l.ratio,set:function(T){var O=I(T,2),R=O[0],M=O[1];l.startWidth=R,l.startHeight=M},setMin:_,setMax:w,setRatio:y,setFixedDirection:E,setFixedPosition:b,setOrigin:function(T){l.transformOrigin=T},dragStart:ge.dragStart(e,new jn().dragStart([0,0],t))}),S=c||et(e,"onResizeStart",x);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,S!==!1&&(l.isResize=!0,e.state.snapRenderInfo={request:t.isRequest,direction:f}),l.isResize?x:!1},dragControl:function(e,t){var r,n=t.datas,i=t.parentFlag,a=t.isPinch,o=t.parentKeepRatio,s=t.dragClient,l=t.parentDist,u=t.useSnap,c=t.isRequest,f=t.isGroup,d=t.parentEvent,p=t.resolveMatrix,v=n.isResize,h=n.transformOrigin,g=n.startWidth,m=n.startHeight,y=n.prevWidth,E=n.prevHeight,b=n.minSize,_=n.maxSize,w=n.ratio,x=n.startOffsetWidth,S=n.startOffsetHeight,T=n.isWidth;if(!v)return;if(p){var O=e.state.is3d,R=n.startOffsetMatrix,M=n.startTransformOrigin,C=O?4:3,D=ta(co(t)),A=Math.sqrt(D.length);C!==A&&(D=Je(D,A,C));var k=Ea(R,D,M,C),L=En(k,x,S,C);n.startPositions=L,n.nextTargetMatrix=D,n.nextAllMatrix=k}var N=vn(e.props,"resizable"),B=N.resizeFormat,H=N.throttleResize,z=H===void 0?i?0:1:H,X=N.parentMoveable,j=N.keepRatioFinally,$=n.direction,K=$,V=0,Z=0;!$[0]&&!$[1]&&(K=[1,1]);var Q=w&&(o??N.keepRatio)||!1;function ut(){var Ht=n.fixedDirection,Ut=Ev(K,Q,n,t);V=Ut.distWidth,Z=Ut.distHeight;var Oe=K[0]-Ht[0]||Q?Math.max(x+V,be):x,Me=K[1]-Ht[1]||Q?Math.max(S+Z,be):S;return Q&&x&&S&&(T?Me=Oe/w:Oe=Me*w),[Oe,Me]}var at=I(ut(),2),rt=at[0],nt=at[1];d||(n.setFixedDirection(n.fixedDirection),et(e,"onBeforeResize",xt(e,t,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(Ht){var Ut;return n.setFixedDirection(Ht),Ut=I(ut(),2),rt=Ut[0],nt=Ut[1],[rt,nt]},setFixedPosition:function(Ht){var Ut;return n.setFixedPosition(Ht),Ut=I(ut(),2),rt=Ut[0],nt=Ut[1],[rt,nt]},boundingWidth:rt,boundingHeight:nt,setSize:function(Ht){var Ut;Ut=I(Ht,2),rt=Ut[0],nt=Ut[1]}},!0)));var Ct=s;s||(!i&&a?Ct=G1(e,[0,0]):Ct=n.fixedPosition);var ft=[0,0];a||(ft=Ib(e,rt,nt,$,Ct,!u&&c,n)),l&&(!l[0]&&(ft[0]=0),!l[1]&&(ft[1]=0));function dt(){var Ht;B&&(Ht=I(B([rt,nt]),2),rt=Ht[0],nt=Ht[1]),rt=mt(rt,z),nt=mt(nt,z)}if(Q){K[0]&&K[1]&&ft[0]&&ft[1]&&(G(ft[0])>G(ft[1])?ft[1]=0:ft[0]=0);var vt=!ft[0]&&!ft[1];vt&&dt(),K[0]&&!K[1]||ft[0]&&!ft[1]||vt&&T?(rt+=ft[0],nt=rt/w):(!K[0]&&K[1]||!ft[0]&&ft[1]||vt&&!T)&&(nt+=ft[1],rt=nt*w)}else rt+=ft[0],nt+=ft[1],rt=Math.max(0,rt),nt=Math.max(0,nt);r=I(Zd([rt,nt],b,_,Q?w:!1),2),rt=r[0],nt=r[1],dt(),Q&&(f||j)&&(T?nt=rt/w:rt=nt*w),V=rt-x,Z=nt-S;var It=[V-y,Z-E];n.prevWidth=V,n.prevHeight=Z;var At=H1(e,rt,nt,Ct,h,n);if(!(!X&&It.every(function(Ht){return!Ht})&&At.every(function(Ht){return!Ht}))){var ht=ge.drag(e,xa(t,e.state,At,!!a,!1,"draggable")),Et=ht.transform,Ft=g+V,ee=m+Z,qt=xt(e,t,P({width:Ft,height:ee,offsetWidth:Math.round(rt),offsetHeight:Math.round(nt),startRatio:w,boundingWidth:rt,boundingHeight:nt,direction:$,dist:[V,Z],delta:It,isPinch:!!a,drag:ht},mv({style:{width:"".concat(Ft,"px"),height:"".concat(ee,"px")},transform:Et},ht,t)));return!d&&et(e,"onResize",qt),qt}},dragControlAfter:function(e,t){var r=t.datas,n=r.isResize,i=r.startOffsetWidth,a=r.startOffsetHeight,o=r.prevWidth,s=r.prevHeight;if(!(!n||e.props.checkResizableError===!1)){var l=e.state,u=l.width,c=l.height,f=u-(i+o),d=c-(a+s),p=G(f)>3,v=G(d)>3;if(p&&(r.startWidth+=f,r.startOffsetWidth+=f,r.prevWidth+=f),v&&(r.startHeight+=d,r.startOffsetHeight+=d,r.prevHeight+=d),p||v)return this.dragControl(e,t)}},dragControlEnd:function(e,t){var r=t.datas,n=t.parentEvent;if(r.isResize){r.isResize=!1;var i=Re(e,t,{});return!n&&et(e,"onResizeEnd",i),i}},dragGroupControlCondition:Jc,dragGroupControlStart:function(e,t){var r=t.datas,n=this.dragControlStart(e,P(P({},t),{isGroup:!0}));if(!n)return!1;var i=Ke(e,"resizable",t),a=r.startOffsetWidth,o=r.startOffsetHeight;function s(){var p=r.minSize;i.forEach(function(v){var h=v.datas,g=h.minSize,m=h.startOffsetWidth,y=h.startOffsetHeight,E=a*(m?g[0]/m:0),b=o*(y?g[1]/y:0);p[0]=Math.max(p[0],E),p[1]=Math.max(p[1],b)})}function l(){var p=r.maxSize;i.forEach(function(v){var h=v.datas,g=h.maxSize,m=h.startOffsetWidth,y=h.startOffsetHeight,E=a*(m?g[0]/m:0),b=o*(y?g[1]/y:0);p[0]=Math.min(p[0],E),p[1]=Math.min(p[1],b)})}var u=wr(e,this,"dragControlStart",t,function(p,v){return fo(e,p,r,v)});s(),l();var c=function(p){n.setFixedDirection(p),u.forEach(function(v,h){v.setFixedDirection(p),fo(e,v.moveable,r,i[h])})};r.setFixedDirection=c;var f=P(P({},n),{targets:e.props.targets,events:u.map(function(p){return P(P({},p),{setMin:function(v){p.setMin(v),s()},setMax:function(v){p.setMax(v),l()}})}),setFixedDirection:c,setMin:function(p){n.setMin(p),s()},setMax:function(p){n.setMax(p),l()}}),d=et(e,"onResizeGroupStart",f);return r.isResize=d!==!1,r.isResize?n:!1},dragGroupControl:function(e,t){var r=t.datas;if(r.isResize){var n=vn(e.props,"resizable");ms(e,"onBeforeResize",function(p){et(e,"onBeforeResizeGroup",xt(e,t,P(P({},p),{targets:n.targets}),!0))});var i=this.dragControl(e,P(P({},t),{isGroup:!0}));if(i){var a=i.boundingWidth,o=i.boundingHeight,s=i.dist,l=n.keepRatio,u=[a/(a-s[0]),o/(o-s[1])],c=r.fixedPosition,f=wr(e,this,"dragControl",t,function(p,v){var h=I(he(ba(e.rotation/180*Math.PI,3),[v.datas.originalX*u[0],v.datas.originalY*u[1],1],3),2),g=h[0],m=h[1];return P(P({},v),{parentDist:null,parentScale:u,dragClient:Ot(c,[g,m]),parentKeepRatio:l})}),d=P({targets:n.targets,events:f},i);return et(e,"onResizeGroup",d),d}}},dragGroupControlEnd:function(e,t){var r=t.isDrag,n=t.datas;if(n.isResize){this.dragControlEnd(e,t);var i=wr(e,this,"dragControlEnd",t),a=Re(e,t,{targets:e.props.targets,events:i});return et(e,"onResizeGroupEnd",a),r}},request:function(e){var t={},r=0,n=0,i=!1,a=e.getRect();return{isControl:!0,requestStart:function(o){var s;return i=o.useSnap,{datas:t,parentDirection:o.direction||[1,1],parentIsWidth:(s=o==null?void 0:o.horizontal)!==null&&s!==void 0?s:!0,useSnap:i}},request:function(o){return"offsetWidth"in o?r=o.offsetWidth-a.offsetWidth:"deltaWidth"in o&&(r+=o.deltaWidth),"offsetHeight"in o?n=o.offsetHeight-a.offsetHeight:"deltaHeight"in o&&(n+=o.deltaHeight),{datas:t,parentDist:[r,n],parentKeepRatio:o.keepRatio,useSnap:i}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:i}}}},unset:function(e){e.state.gestos.resizable=null}};function Ns(e,t,r,n,i){var a=e.props.groupable,o=e.state,s=o.is3d?4:3,l=t.origin,u=Yt(e.state.rootMatrix,lt([l[0],l[1]],a?[0,0]:[o.left,o.top]),s),c=Ot([i.left,i.top],u);t.startAbsoluteOrigin=c,t.prevDeg=re(c,[r,n])/Math.PI*180,t.defaultDeg=t.prevDeg,t.prevSnapDeg=0,t.loop=0,t.startDist=yr(c,[r,n])}function to(e,t,r){var n=r.defaultDeg,i=r.prevDeg,a=i%360,o=Math.floor(i/360);a<0&&(a+=360),a>e&&a>270&&e<90?++o:a<e&&a<90&&e>270&&--o;var s=t*(o*360+e-n);return r.prevDeg=n+s,s}function Bs(e,t,r,n){return to(re(n.startAbsoluteOrigin,[e,t])/Math.PI*180,r,n)}function zs(e,t,r,n,i,a){var o=e.props.throttleRotate,s=o===void 0?0:o,l=r.prevSnapDeg,u=0,c=!1;if(a){var f=Pb(e,t,n,i+n);c=f.isSnap,u=i+f.dist}c||(u=mt(i+n,s));var d=u-i;return r.prevSnapDeg=d,[d-l,d,u]}function ev(e,t,r){var n=I(t,4),i=n[0],a=n[1],o=n[2],s=n[3];if(e==="none")return[];if(se(e))return e.map(function(g){return ev(g,[i,a,o,s],r)[0]});var l=I((e||"top").split("-"),2),u=l[0],c=l[1],f=[i,a];u==="left"?f=[o,i]:u==="right"?f=[a,s]:u==="bottom"&&(f=[s,o]);var d=[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2],p=pv(f,r);if(c){var v=c==="top"||c==="left",h=u==="bottom"||u==="left";d=f[v&&!h||!v&&h?0:1]}return[[d,p]]}function Al(e,t){if(t.isRequest)return t.requestAble==="rotatable";var r=t.inputEvent.target;if(de(r,st("rotation-control"))||e.props.rotateAroundControls&&de(r,st("around-control"))||de(r,st("control"))&&de(r,st("rotatable")))return!0;var n=e.props.rotationTarget;return n?zu(n,!0).some(function(i){return i?r===i||r.contains(i):!1}):!1}var wb=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,xb={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[wb],viewClassName:function(e){return e.isDragging("rotatable")?st("view-rotation-dragging"):""},render:function(e,t){var r=vn(e.props,"rotatable"),n=r.rotatable,i=r.rotationPosition,a=r.zoom,o=r.renderDirections,s=r.rotateAroundControls,l=r.resolveAblesWithRotatable,u=e.getState(),c=u.renderPoses,f=u.direction;if(!n)return null;var d=ev(i,c,f),p=[];if(d.forEach(function(m,y){var E=I(m,2),b=E[0],_=E[1];p.push(t.createElement("div",{key:"rotation".concat(y),className:st("rotation"),style:{transform:"translate(-50%) translate(".concat(b[0],"px, ").concat(b[1],"px) rotate(").concat(_,"rad)")}},t.createElement("div",{className:st("line rotation-line"),style:{transform:"scaleX(".concat(a,")")}}),t.createElement("div",{className:st("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(a,")")}})))}),o){var v=Er(l||{}),h={};v.forEach(function(m){l[m].forEach(function(y){h[y]=m})});var g=[];se(o)&&(g=o.map(function(m){var y=h[m];return{data:y?{resolve:y}:{},classNames:y?["move"]:[],dir:m}})),p.push.apply(p,U([],I($p(e,"rotatable",g,t)),!1))}return s&&p.push.apply(p,U([],I(Up(e,t)),!1)),p},dragControlCondition:Al,dragControlStart:function(e,t){var r,n,i=t.datas,a=t.clientX,o=t.clientY,s=t.parentRotate,l=t.parentFlag,u=t.isPinch,c=t.isRequest,f=e.state,d=f.target,p=f.left,v=f.top,h=f.direction,g=f.beforeDirection,m=f.targetTransform,y=f.moveableClientRect,E=f.offsetMatrix,b=f.targetMatrix,_=f.allMatrix,w=f.width,x=f.height;if(!c&&!d)return!1;var S=e.getRect();i.rect=S,i.transform=m,i.left=p,i.top=v;var T=function(K){var V=tv(e.state,K);i.fixedDirection=V.fixedDirection,i.fixedOffset=V.fixedOffset,i.fixedPosition=V.fixedPosition,z&&z.setFixedPosition(K)},O=function(K){var V=yb(e.state,K);i.fixedDirection=V.fixedDirection,i.fixedOffset=V.fixedOffset,i.fixedPosition=V.fixedPosition,z&&z.setFixedDirection(K)},R=a,M=o;if(c||u||l){var C=s||0;i.beforeInfo={origin:S.beforeOrigin,prevDeg:C,defaultDeg:C,prevSnapDeg:0,startDist:0},i.afterInfo=P(P({},i.beforeInfo),{origin:S.origin}),i.absoluteInfo=P(P({},i.beforeInfo),{origin:S.origin,startValue:C})}else{var D=(n=t.inputEvent)===null||n===void 0?void 0:n.target;if(D){var A=D.getAttribute("data-direction")||"",k=T1[A];if(k){i.isControl=!0,i.isAroundControl=de(D,st("around-control")),i.controlDirection=k;var L=D.getAttribute("data-resolve");L&&(i.resolveAble=L);var N=Xb(f.rootMatrix,f.renderPoses,y);r=I(pe(N,k),2),R=r[0],M=r[1]}}i.beforeInfo={origin:S.beforeOrigin},i.afterInfo={origin:S.origin},i.absoluteInfo={origin:S.origin,startValue:S.rotation};var B=T;T=function(K){var V=f.is3d?4:3,Z=I(Ot(xp(b,V),K),2),Q=Z[0],ut=Z[1],at=he(E,fn([Q,ut],V)),rt=he(_,fn([K[0],K[1]],V));B(K);var nt=f.posDelta;i.beforeInfo.origin=lt(at,nt),i.afterInfo.origin=lt(rt,nt),i.absoluteInfo.origin=lt(rt,nt),Ns(e,i.beforeInfo,R,M,y),Ns(e,i.afterInfo,R,M,y),Ns(e,i.absoluteInfo,R,M,y)},O=function(K){var V=pe([[0,0],[w,0],[0,x],[w,x]],K);T(V)}}i.startClientX=R,i.startClientY=M,i.direction=h,i.beforeDirection=g,i.startValue=0,i.datas={},ds(e,t,"rotate");var H=!1,z=!1;if(i.isControl&&i.resolveAble){var X=i.resolveAble;X==="resizable"&&(z=Ml.dragControlStart(e,P(P({},new jn("resizable").dragStart([0,0],t)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition})))}z||(H=ge.dragStart(e,new jn().dragStart([0,0],t))),T(Kb(e));var j=xt(e,t,P(P({set:function(K){i.startValue=K*Math.PI/180},setFixedDirection:O,setFixedPosition:T},fs(e,t)),{dragStart:H,resizeStart:z})),$=et(e,"onRotateStart",j);return i.isRotate=$!==!1,f.snapRenderInfo={request:t.isRequest},i.isRotate?j:!1},dragControl:function(e,t){var r,n,i,a=t.datas,o=t.clientDistX,s=t.clientDistY,l=t.parentRotate,u=t.parentFlag,c=t.isPinch,f=t.groupDelta,d=t.resolveMatrix,p=a.beforeDirection,v=a.beforeInfo,h=a.afterInfo,g=a.absoluteInfo,m=a.isRotate,y=a.startValue,E=a.rect,b=a.startClientX,_=a.startClientY;if(m){us(e,t,"rotate");var w=O1(t),x=p*w,S=e.props.parentMoveable,T=0,O,R,M=0,C,D,A=0,k,L,N=180/Math.PI*y,B=g.startValue,H=!1,z=b+o,X=_+s;if(!u&&"parentDist"in t){var j=t.parentDist;O=j,C=j,k=j}else c||u?(O=to(l,p,v),C=to(l,x,h),k=to(l,x,g)):(O=Bs(z,X,p,v),C=Bs(z,X,x,h),k=Bs(z,X,x,g),H=!0);if(R=N+O,D=N+C,L=B+k,et(e,"onBeforeRotate",xt(e,t,{beforeRotation:R,rotation:D,absoluteRotation:L,setRotation:function(Ct){C=Ct-N,O=C,k=C}},!0)),r=I(zs(e,E,v,O,N,H),3),T=r[0],O=r[1],R=r[2],n=I(zs(e,E,h,C,N,H),3),M=n[0],C=n[1],D=n[2],i=I(zs(e,E,g,k,B,H),3),A=i[0],k=i[1],L=i[2],!(!A&&!M&&!T&&!S&&!d)){var $=cs(a,"rotate(".concat(D,"deg)"),"rotate(".concat(C,"deg)"));d&&(a.fixedPosition=Du(e,a.targetAllTransform,a.fixedDirection,a.fixedOffset,a));var K=F1(e,C,a),V=lt(Ot(f||[0,0],K),a.prevInverseDist||[0,0]);a.prevInverseDist=K,a.requestValue=null;var Z=Fp(e,$,V,c,t),Q=Z,ut=yr([z,X],g.startAbsoluteOrigin)-g.startDist,at=void 0;if(a.resolveAble==="resizable"){var rt=Ml.dragControl(e,P(P({},xa(t,e.state,[t.deltaX,t.deltaY],!!c,!1,"resizable")),{resolveMatrix:!0,parentDistance:ut}));rt&&(at=rt,Q=mv(Q,rt,t))}var nt=xt(e,t,P(P({delta:M,dist:C,rotate:D,rotation:D,beforeDist:O,beforeDelta:T,beforeRotate:R,beforeRotation:R,absoluteDist:k,absoluteDelta:A,absoluteRotate:L,absoluteRotation:L,isPinch:!!c,resize:at},Z),Q));return et(e,"onRotate",nt),nt}}},dragControlEnd:function(e,t){var r=t.datas;if(r.isRotate){r.isRotate=!1;var n=Re(e,t,{});return et(e,"onRotateEnd",n),n}},dragGroupControlCondition:Al,dragGroupControlStart:function(e,t){var r=t.datas,n=e.state,i=n.left,a=n.top,o=n.beforeOrigin,s=this.dragControlStart(e,t);if(!s)return!1;s.set(r.beforeDirection*e.rotation);var l=wr(e,this,"dragControlStart",t,function(f,d){var p=f.state,v=p.left,h=p.top,g=p.beforeOrigin,m=Ot(lt([v,h],[i,a]),lt(g,o));return d.datas.startGroupClient=m,d.datas.groupClient=m,P(P({},d),{parentRotate:0})}),u=P(P({},s),{targets:e.props.targets,events:l}),c=et(e,"onRotateGroupStart",u);return r.isRotate=c!==!1,r.isRotate?s:!1},dragGroupControl:function(e,t){var r=t.datas;if(r.isRotate){ms(e,"onBeforeRotate",function(u){et(e,"onBeforeRotateGroup",xt(e,t,P(P({},u),{targets:e.props.targets}),!0))});var n=this.dragControl(e,t);if(n){var i=r.beforeDirection,a=n.beforeDist,o=a/180*Math.PI,s=wr(e,this,"dragControl",t,function(u,c){var f=c.datas.startGroupClient,d=I(c.datas.groupClient,2),p=d[0],v=d[1],h=I(ma(f,o*i),2),g=h[0],m=h[1],y=[g-p,m-v];return c.datas.groupClient=[g,m],P(P({},c),{parentRotate:a,groupDelta:y})});e.rotation=i*n.beforeRotation;var l=P({targets:e.props.targets,events:s,set:function(u){e.rotation=u},setGroupRotation:function(u){e.rotation=u}},n);return et(e,"onRotateGroup",l),l}}},dragGroupControlEnd:function(e,t){var r=t.isDrag,n=t.datas;if(n.isRotate){this.dragControlEnd(e,t);var i=wr(e,this,"dragControlEnd",t),a=Re(e,t,{targets:e.props.targets,events:i});return et(e,"onRotateGroupEnd",a),r}},request:function(e){var t={},r=0,n=e.getRotation();return{isControl:!0,requestStart:function(){return{datas:t}},request:function(i){return"deltaRotate"in i?r+=i.deltaRotate:"rotate"in i&&(r=i.rotate-n),{datas:t,parentDist:r}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Eb(e,t){var r,n=e.direction,i=e.classNames,a=e.size,o=e.pos,s=e.zoom,l=e.key,u=n==="horizontal",c=u?"Y":"X";return t.createElement("div",{key:l,className:i.join(" "),style:(r={},r[u?"width":"height"]="".concat(a),r.transform="translate(".concat(o[0],", ").concat(o[1],") translate").concat(c,"(-50%) scale").concat(c,"(").concat(s,")"),r)})}function Ru(e,t){return Eb(P(P({},e),{classNames:U([st("line","guideline",e.direction)],I(e.classNames),!1).filter(function(r){return r}),size:e.size||"".concat(e.sizeValue,"px"),pos:e.pos||e.posValue.map(function(r){return"".concat(mt(r,.1),"px")})}),t)}function Qc(e,t,r,n,i,a,o,s){var l=e.props.zoom;return r.map(function(u,c){var f=u.type,d=u.pos,p=[0,0];return p[o]=n,p[o?0:1]=-i+d,Ru({key:"".concat(t,"TargetGuideline").concat(c),classNames:[st("target","bold",f)],posValue:p,sizeValue:a,zoom:l,direction:t},s)})}function tf(e,t,r,n,i,a){var o=e.props,s=o.zoom,l=o.isDisplayInnerSnapDigit,u=t==="horizontal"?Gr:$r,c=i[u.start],f=i[u.end];return r.filter(function(d){var p=d.hide,v=d.elementRect;if(p)return!1;if(l&&v){var h=v.rect;if(h[u.start]<=c&&f<=h[u.end])return!1}return!0}).map(function(d,p){var v=d.pos,h=d.size,g=d.element,m=d.className,y=[-n[0]+v[0],-n[1]+v[1]];return Ru({key:"".concat(t,"-default-guideline-").concat(p),classNames:g?[st("bold"),m]:[st("normal"),m],direction:t,posValue:y,sizeValue:h,zoom:s},a)})}function xi(e,t,r,n,i,a,o,s){var l,u=e.props,c=u.snapDigit,f=c===void 0?0:c,d=u.isDisplaySnapDigit,p=d===void 0?!0:d,v=u.snapDistFormat,h=v===void 0?function(_,w){return _}:v,g=u.zoom,m=t==="horizontal"?"X":"Y",y=t==="vertical"?"height":"width",E=Math.abs(i),b=p?parseFloat(E.toFixed(f)):0;return s.createElement("div",{key:"".concat(t,"-").concat(r,"-guideline-").concat(n),className:st("guideline-group",t),style:(l={left:"".concat(a[0],"px"),top:"".concat(a[1],"px")},l[y]="".concat(E,"px"),l)},Ru({direction:t,classNames:[st(r),o],size:"100%",posValue:[0,0],sizeValue:E,zoom:g},s),s.createElement("div",{className:st("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},b>0?h(b,t):""))}function _b(e,t,r,n){var i=e==="vertical"?0:1,a=e==="vertical"?1:0,o=i?Gr:$r,s=r[o.start],l=r[o.end];return bv(t,function(u){return u.pos[i]}).map(function(u){var c=[],f=[],d=[];return u.forEach(function(p){var v,h,g=p.element,m=p.elementRect.rect;if(m[o.end]<s)c.push(p);else if(l<m[o.start])f.push(p);else if(m[o.start]<=s&&l<=m[o.end]&&n){var y=p.pos,E={element:g,rect:P(P({},m),(v={},v[o.end]=m[o.start],v))},b={element:g,rect:P(P({},m),(h={},h[o.start]=m[o.end],h))},_=[0,0],w=[0,0];_[i]=y[i],_[a]=y[a],w[i]=y[i],w[a]=y[a]+p.size,c.push({type:e,pos:_,size:0,elementRect:E,direction:"",elementDirection:"end"}),f.push({type:e,pos:w,size:0,elementRect:b,direction:"",elementDirection:"start"})}}),c.sort(function(p,v){return v.pos[a]-p.pos[a]}),f.sort(function(p,v){return p.pos[a]-v.pos[a]}),{total:u,start:c,end:f,inner:d}})}function Sb(e,t,r,n,i){var a=e.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach(function(s){var l=t.filter(function(g){return g.type===s}),u=s==="vertical"?1:0,c=u?0:1,f=_b(s,l,n,a),d=u?$r:Gr,p=u?Gr:$r,v=n[d.start],h=n[d.end];f.forEach(function(g){var m=g.total,y=g.start,E=g.end,b=g.inner,_=r[c]+m[0].pos[c]-n[p.start],w=n;y.forEach(function(x){var S=x.elementRect.rect,T=w[d.start]-S[d.end];if(T>0){var O=[0,0];O[u]=r[u]+w[d.start]-v-T,O[c]=_,o.push(xi(e,s,"dashed",o.length,T,O,x.className,i))}w=S}),w=n,E.forEach(function(x){var S=x.elementRect.rect,T=S[d.start]-w[d.end];if(T>0){var O=[0,0];O[u]=r[u]+w[d.end]-v,O[c]=_,o.push(xi(e,s,"dashed",o.length,T,O,x.className,i))}w=S}),b.forEach(function(x){var S=x.elementRect.rect,T=v-S[d.start],O=S[d.end]-h,R=[0,0],M=[0,0];R[u]=r[u]-T,R[c]=_,M[u]=r[u]+h-v,M[c]=_,o.push(xi(e,s,"dashed",o.length,T,R,x.className,i)),o.push(xi(e,s,"dashed",o.length,O,M,x.className,i))})})}),o}function Cb(e,t,r,n,i){var a=[];return["horizontal","vertical"].forEach(function(o){var s=t.filter(function(g){return g.type===o}).slice(0,1),l=o==="vertical"?0:1,u=l?0:1,c=l?$r:Gr,f=l?Gr:$r,d=n[c.start],p=n[c.end],v=n[f.start],h=n[f.end];s.forEach(function(g){var m=g.gap,y=g.gapRects,E=Math.max.apply(Math,U([v],I(y.map(function(w){var x=w.rect;return x[f.start]})),!1)),b=Math.min.apply(Math,U([h],I(y.map(function(w){var x=w.rect;return x[f.end]})),!1)),_=(E+b)/2;E===b||_===(v+h)/2||y.forEach(function(w){var x=w.rect,S=w.className,T=[r[0],r[1]];if(x[c.end]<d)T[l]+=x[c.end]-d;else if(p<x[c.start])T[l]+=x[c.start]-d-m;else return;T[u]+=_-v,a.push(xi(e,l?"vertical":"horizontal","gap",a.length,m,T,S,i))})})}),a}function kl(e){var t=e.state,r=t.containerClientRect,n=t.hasFixed,i=r.overflow,a=r.scrollHeight,o=r.scrollWidth,s=r.clientHeight,l=r.clientWidth,u=r.clientLeft,c=r.clientTop,f=e.props,d=f.snapGap,p=d===void 0?!0:d,v=f.verticalGuidelines,h=f.horizontalGuidelines,g=f.snapThreshold,m=g===void 0?5:g,y=f.snapGridWidth,E=y===void 0?0:y,b=f.snapGridHeight,_=b===void 0?0:b,w=f.maxSnapElementGuidelineDistance,x=w===void 0?1/0:w,S=f.isDisplayGridGuidelines,T=Fe($e(e.state)),O=T.top,R=T.left,M=T.bottom,C=T.right,D={top:O,left:R,bottom:M,right:C,center:(R+C)/2,middle:(O+M)/2},A=Ob(e),k=U([],I(A),!1);p&&k.push.apply(k,U([],I(Db(e,D,m)),!1));var L=P({},t.snapOffset||{left:0,top:0,bottom:0,right:0});if(k.push.apply(k,U([],I(Tb(E,_,i?o:l,i?a:s,u,c,L,S)),!1)),n){var N=r.left,B=r.top;L.left+=N,L.top+=B,L.right+=N,L.bottom+=B}return k.push.apply(k,U([],I(nv(h||!1,v||!1,i?o:l,i?a:s,u,c,L)),!1)),k=k.filter(function(H){var z=H.element,X=H.elementRect,j=H.type;if(!z||!X)return!0;var $=X.rect;return rv(D,$,j,x)}),k}function Db(e,t,r){var n=e.props,i=n.maxSnapElementGuidelineDistance,a=i===void 0?1/0:i,o=n.maxSnapElementGapDistance,s=o===void 0?1/0:o,l=e.state.elementRects,u=[];return[["vertical",Gr,$r],["horizontal",$r,Gr]].forEach(function(c){var f=I(c,3),d=f[0],p=f[1],v=f[2],h=t[p.start],g=t[p.end],m=t[p.center],y=t[v.start],E=t[v.end];function b(x){var S=x.rect;return S[p.end]<h+r?h-S[p.end]:g-r<S[p.start]?S[p.start]-g:-1}var _=l.filter(function(x){var S=x.rect;return S[v.start]>E||S[v.end]<y?!1:b(x)>0}).sort(function(x,S){return b(x)-b(S)}),w=[];_.forEach(function(x){_.forEach(function(S){if(x!==S){var T=x.rect,O=S.rect,R=T[v.start],M=T[v.end],C=O[v.start],D=O[v.end];R>D||C>M||w.push([x,S])}})}),w.forEach(function(x){var S=I(x,2),T=S[0],O=S[1],R=T.rect,M=O.rect,C=R[p.start],D=R[p.end],A=M[p.start],k=M[p.end],L=0,N=0,B=!1,H=!1,z=!1;if(D<=h&&g<=A){if(H=!0,L=(A-D-(g-h))/2,N=D+L+(g-h)/2,G(N-m)>r)return}else if(D<A&&k<h+r){if(B=!0,L=A-D,N=k+L,G(N-h)>r)return}else if(D<A&&g-r<C){if(z=!0,L=A-D,N=C-L,G(N-g)>r)return}else return;L&&rv(t,M,d,a)&&(L>s||u.push({type:d,pos:d==="vertical"?[N,0]:[0,N],element:O.element,size:0,className:O.className,isStart:B,isCenter:H,isEnd:z,gap:L,hide:!0,gapRects:[T,O],direction:"",elementDirection:""}))})}),u}function Tb(e,t,r,n,i,a,o,s){i===void 0&&(i=0),a===void 0&&(a=0);var l=[],u=o.left,c=o.top;if(t)for(var f=0;f<=n;f+=t)l.push({type:"horizontal",pos:[u,mt(f-a+c,.1)],className:st("grid-guideline"),size:r,hide:!s,direction:""});if(e)for(var f=0;f<=r;f+=e)l.push({type:"vertical",pos:[mt(f-i+u,.1),c],className:st("grid-guideline"),size:n,hide:!s,direction:""});return l}function rv(e,t,r,n){return r==="horizontal"?G(e.right-t.left)<=n||G(e.left-t.right)<=n||e.left<=t.right&&t.left<=e.right:r==="vertical"?G(e.bottom-t.top)<=n||G(e.top-t.bottom)<=n||e.top<=t.bottom&&t.top<=e.bottom:!0}function Ob(e){var t=e.state,r=e.props.elementGuidelines,n=r===void 0?[]:r;if(!n.length)return t.elementRects=[],[];var i=(t.elementRects||[]).filter(function(d){return!d.refresh}),a=n.map(function(d){return Ze(d)&&"element"in d?P(P({},d),{element:or(d.element,!0)}):{element:or(d,!0)}}).filter(function(d){return d.element}),o=Fm(i.map(function(d){return d.element}),a.map(function(d){return d.element})),s=o.maintained,l=o.added,u=[];s.forEach(function(d){var p=I(d,2),v=p[0],h=p[1];u[h]=i[v]}),Mb(e,l.map(function(d){return a[d]})).map(function(d,p){u[l[p]]=d}),t.elementRects=u;var c=Ou(e.props.elementSnapDirections),f=[];return u.forEach(function(d){var p=d.element,v=d.top,h=v===void 0?c.top:v,g=d.left,m=g===void 0?c.left:g,y=d.right,E=y===void 0?c.right:y,b=d.bottom,_=b===void 0?c.bottom:b,w=d.center,x=w===void 0?c.center:w,S=d.middle,T=S===void 0?c.middle:S,O=d.className,R=d.rect,M=Mu({top:h,right:E,left:m,bottom:_,center:x,middle:T},R),C=M.horizontal,D=M.vertical,A=M.horizontalNames,k=M.verticalNames,L=R.top,N=R.left,B=R.right-N,H=R.bottom-L,z=[B,H];D.forEach(function(X,j){f.push({type:"vertical",element:p,pos:[mt(X,.1),L],size:H,sizes:z,className:O,elementRect:d,elementDirection:Vc[k[j]]||k[j],direction:""})}),C.forEach(function(X,j){f.push({type:"horizontal",element:p,pos:[N,mt(X,.1)],size:B,sizes:z,className:O,elementRect:d,elementDirection:Vc[A[j]]||A[j],direction:""})})}),f}function ef(e,t){return e?e.map(function(r){var n=Ze(r)?r:{pos:r},i=n.pos;return $n(i)?n:P(P({},n),{pos:Nt(i,t)})}):[]}function nv(e,t,r,n,i,a,o){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var s=[],l=o.left,u=o.top,c=o.bottom,f=o.right,d=r+f-l,p=n+c-u;return ef(e,p).forEach(function(v){s.push({type:"horizontal",pos:[l,mt(v.pos-a+u,.1)],size:d,className:v.className,direction:""})}),ef(t,d).forEach(function(v){s.push({type:"vertical",pos:[mt(v.pos-i+l,.1),u],size:p,className:v.className,direction:""})}),s}function Mb(e,t){if(!t.length)return[];var r=e.props.groupable,n=e.state,i=n.containerClientRect,a=n.rootMatrix,o=n.is3d,s=n.offsetDelta,l=o?4:3,u=I(tb(a,i,l),2),c=u[0],f=u[1],d=r?0:s[0],p=r?0:s[1];return t.map(function(v){var h=v.element.getBoundingClientRect(),g=h.left-c-d,m=h.top-f-p,y=m+h.height,E=g+h.width,b=I(Un(a,[g,m],l),2),_=b[0],w=b[1],x=I(Un(a,[E,y],l),2),S=x[0],T=x[1];return P(P({},v),{rect:{left:_,right:S,top:w,bottom:T,center:(_+S)/2,middle:(w+T)/2}})})}function Na(e){var t=e.state,r=t.container,n=e.props.snapContainer||r;if(t.snapContainer===n&&t.guidelines&&t.guidelines.length)return!1;var i=t.containerClientRect,a={left:0,top:0,bottom:0,right:0};if(r!==n){var o=or(n,!0);if(o){var s=Mi(o),l=sf(t,[s.left-i.left,s.top-i.top]),u=sf(t,[s.right-i.right,s.bottom-i.bottom]);a.left=mt(l[0],1e-5),a.top=mt(l[1],1e-5),a.right=mt(u[0],1e-5),a.bottom=mt(u[1],1e-5)}}return t.snapContainer=n,t.snapOffset=a,t.guidelines=kl(e),t.enableSnap=!0,!0}function iv(e,t,r,n,i,a){var o=En(e,t,r,a?4:3),s=pe(o,n);return Iu(o,lt(i,s))}function rf(e){return e?e/G(e):0}function Ab(e,t,r,n,i,a){var o=a.fixedDirection,s=ib(r,o,n),l=ku(e,t,r,n),u=U(U([],I(gb(e,t,s,n,i,a)),!1),I(Jp(e,l,a)),!1),c=po(u,0),f=po(u,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:f.isBound,offset:f.offset[1]}}}function kb(e,t,r,n,i,a,o,s,l){var u=pe(t,o),c=hs(e,s,{vertical:[u[0]],horizontal:[u[1]]}),f=c.horizontal.offset,d=c.vertical.offset;if(mt(d,Sl)||mt(f,Sl)){var p=I(dr({datas:l,distX:-d,distY:-f}),2),v=p[0],h=p[1],g=Math.min(i||1/0,r+o[0]*v),m=Math.min(a||1/0,n+o[1]*h);return[g-r,m-n]}return[0,0]}function av(e,t,r,n,i,a,o,s){for(var l=$e(e.state),u=e.props.keepRatio,c=0,f=0,d=0;d<2;++d){var p=t(c,f),v=Ab(e,p,i,u,o,s),h=v.width,g=v.height,m=h.isBound,y=g.isBound,E=h.offset,b=g.offset;if(d===1&&(m||(E=0),y||(b=0)),d===0&&o&&!m&&!y)return[0,0];if(u){var _=G(E)*(r?1/r:1),w=G(b)*(n?1/n:1),x=m&&y?_<w:y||!m&&_<w;x?E=r*b/n:b=n*E/r}c+=E,f+=b}if(!u&&i[0]&&i[1]){var S=bb(e,l,i,a,s),T=S.maxWidth,O=S.maxHeight,R=I(kb(e,t(c,f).map(function(D){return D.map(function(A){return mt(A,Sl)})}),r+c,n+f,T,O,i,o,s),2),E=R[0],b=R[1];c+=E,f+=b}return[c,f]}function Ti(e){return e<0&&(e=e%360+360),e%=360,e}function Rb(e,t){t=Ti(t);var r=Math.floor(e/360),n=r*360+360-t,i=r*360+t;return G(e-n)<G(e-i)?n:i}function Fs(e,t){e=Ti(e),t=Ti(t);var r=Ti(e-t);return Math.min(r,360-r)}function Pb(e,t,r,n){var i,a=e.props,o=(i=a[ov])!==null&&i!==void 0?i:5,s=a[sv];if(oi(e,"rotatable")){var l=t.pos1,u=t.pos2,c=t.pos3,f=t.pos4,d=t.origin,p=r*Math.PI/180,v=[l,u,c,f].map(function(b){return lt(b,d)}),h=v.map(function(b){return ma(b,p)}),g=U(U([],I(K1(e,v,h,d,r)),!1),I(cb(e,v,h,d,r)),!1);g.sort(function(b,_){return G(b-r)-G(_-r)});var m=g.length>0;if(m)return{isSnap:m,dist:m?g[0]:r}}if(s!=null&&s.length&&o){var y=s.slice().sort(function(b,_){return Fs(b,n)-Fs(_,n)}),E=y[0];if(Fs(E,n)<=o)return{isSnap:!0,dist:r+Rb(n,E)-n}}return{isSnap:!1,dist:r}}function Ib(e,t,r,n,i,a,o){if(!oi(e,"resizable"))return[0,0];var s=o.fixedDirection,l=o.nextAllMatrix,u=e.state,c=u.allMatrix,f=u.is3d;return av(e,function(d,p){return iv(l||c,t+d,r+p,s,i,f)},t,r,n,i,a,o)}function Lb(e,t,r,n,i){if(!oi(e,"scalable"))return[0,0];var a=i.startOffsetWidth,o=i.startOffsetHeight,s=i.fixedPosition,l=i.fixedDirection,u=i.is3d,c=av(e,function(f,d){return iv(L1(i,Ot(t,[f/a,d/o])),a,o,l,s,u)},a,o,r,s,n,i);return[c[0]/a,c[1]/o]}function Nb(e,t){t.absolutePoses=$e(e.state)}function nf(e){var t=[];return e.forEach(function(r){r.guidelineInfos.forEach(function(n){var i=n.guideline;De(t,function(a){return a.guideline===i})||(i.direction="",t.push({guideline:i,posInfo:r}))})}),t.map(function(r){var n=r.guideline,i=r.posInfo;return P(P({},n),{direction:i.direction})})}function af(e,t,r,n,i,a){var o=Tu(ps(e,a),t,r),s=o.vertical,l=o.horizontal,u=Pn();s.forEach(function(v){v.isBound&&(v.direction==="start"&&(u.left=!0),v.direction==="end"&&(u.right=!0),n.push({type:"bounds",pos:v.pos}))}),l.forEach(function(v){v.isBound&&(v.direction==="start"&&(u.top=!0),v.direction==="end"&&(u.bottom=!0),i.push({type:"bounds",pos:v.pos}))});var c=fb(e),f=c.boundMap,d=c.vertical,p=c.horizontal;return d.forEach(function(v){xr(n,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===v})>=0||n.push({type:"bounds",pos:v})}),p.forEach(function(v){xr(i,function(h){var g=h.type,m=h.pos;return g==="bounds"&&m===v})>=0||i.push({type:"bounds",pos:v})}),{boundMap:u,innerBoundMap:f}}var Bb=Bu("",["resizable","scalable"]),ov="snapRotationThreshold",sv="snapRotationDegrees",zb={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold",ov,sv,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(e,t){var r=e.state,n=r.top,i=r.left,a=r.pos1,o=r.pos2,s=r.pos3,l=r.pos4,u=r.snapRenderInfo,c=e.props.snapRenderThreshold,f=c===void 0?1:c;if(!u||!u.render||!oi(e,""))return Ln(e,"boundMap",Pn(),function($){return JSON.stringify($)}),Ln(e,"innerBoundMap",Pn(),function($){return JSON.stringify($)}),[];r.guidelines=kl(e);var d=Math.min(a[0],o[0],s[0],l[0]),p=Math.min(a[1],o[1],s[1],l[1]),v=u.externalPoses||[],h=$e(e.state),g=[],m=[],y=[],E=[],b=[],_=Fe(h),w=_.width,x=_.height,S=_.top,T=_.left,O=_.bottom,R=_.right,M={left:T,right:R,top:S,bottom:O,center:(T+R)/2,middle:(S+O)/2},C=v.length>0,D=C?Fe(v):{};if(!u.request){if(u.direction&&b.push(nb(e,h,u.direction,f)),u.snap){var A=Fe(h);u.center&&(A.middle=(A.top+A.bottom)/2,A.center=(A.left+A.right)/2),b.push(qc(e,A,f))}C&&(u.center&&(D.middle=(D.top+D.bottom)/2,D.center=(D.left+D.right)/2),b.push(qc(e,D,f))),b.forEach(function($){var K=$.vertical.posInfos,V=$.horizontal.posInfos;g.push.apply(g,U([],I(K.filter(function(Z){var Q=Z.guidelineInfos;return Q.some(function(ut){var at=ut.guideline;return!at.hide})}).map(function(Z){return{type:"snap",pos:Z.pos}})),!1)),m.push.apply(m,U([],I(V.filter(function(Z){var Q=Z.guidelineInfos;return Q.some(function(ut){var at=ut.guideline;return!at.hide})}).map(function(Z){return{type:"snap",pos:Z.pos}})),!1)),y.push.apply(y,U([],I(nf(K)),!1)),E.push.apply(E,U([],I(nf(V)),!1))})}var k=af(e,[T,R],[S,O],g,m),L=k.boundMap,N=k.innerBoundMap;C&&af(e,[D.left,D.right],[D.top,D.bottom],g,m,u.externalBounds);var B=U(U([],I(y),!1),I(E),!1),H=B.filter(function($){return $.element&&!$.gapRects}),z=B.filter(function($){return $.gapRects}).sort(function($,K){return $.gap-K.gap});et(e,"onSnap",{guidelines:B.filter(function($){var K=$.element;return!K}),elements:H,gaps:z},!0);var X=Ln(e,"boundMap",L,function($){return JSON.stringify($)},Pn()),j=Ln(e,"innerBoundMap",N,function($){return JSON.stringify($)},Pn());return(L===X||N===j)&&et(e,"onBound",{bounds:L,innerBounds:N},!0),U(U(U(U(U(U([],I(Sb(e,H,[d,p],M,t)),!1),I(Cb(e,z,[d,p],M,t)),!1),I(tf(e,"horizontal",E,[i,n],M,t)),!1),I(tf(e,"vertical",y,[i,n],M,t)),!1),I(Qc(e,"horizontal",m,d,n,w,0,t)),!1),I(Qc(e,"vertical",g,p,i,x,1,t)),!1)},dragStart:function(e,t){e.state.snapRenderInfo={request:t.isRequest,snap:!0,center:!0},Na(e)},drag:function(e){var t=e.state;Na(e)||(t.guidelines=kl(e)),t.snapRenderInfo&&(t.snapRenderInfo.render=!0)},pinchStart:function(e){this.unset(e)},dragEnd:function(e){this.unset(e)},dragControlCondition:function(e,t){if(Bb(e,t)||Al(e,t))return!0;if(!t.isRequest&&t.inputEvent)return de(t.inputEvent.target,st("snap-control"))},dragControlStart:function(e){e.state.snapRenderInfo=null,Na(e)},dragControl:function(e){this.drag(e)},dragControlEnd:function(e){this.unset(e)},dragGroupStart:function(e,t){this.dragStart(e,t)},dragGroup:function(e){this.drag(e)},dragGroupEnd:function(e){this.unset(e)},dragGroupControlStart:function(e){e.state.snapRenderInfo=null,Na(e)},dragGroupControl:function(e){this.drag(e)},dragGroupControlEnd:function(e){this.unset(e)},unset:function(e){var t=e.state;t.enableSnap=!1,t.guidelines=[],t.snapRenderInfo=null,t.elementRects=[]}};function Fb(e,t){return[e[0]*t[0],e[1]*t[1]]}function st(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return P0.apply(void 0,U([_u],I(e),!1))}function lv(e){e()}function Hb(e){return!e||e==="none"?[1,0,0,1,0,0]:Ze(e)?e:ta(e)}function Oi(e,t,r){return lo(t,dn(r,t),e,dn(r.map(function(n){return-n}),t))}function Gb(e,t,r){if(t==="%"){var n=Pu(e.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function $b(e){var t=Wb(Lu(e,":before"));return t.map(function(r,n){var i=pa(r),a=i.value,o=i.unit;return a*Gb(e,o,n===0)})}function ho(e){return e?e.split(" "):["0","0"]}function Wb(e){return ho(e.transformOrigin)}function uv(e){var t=Te(e),r=t("transform");if(r&&r!=="none")return r;if("transform"in e){var n=e.transform,i=n.baseVal;if(!i)return"";var a=i.length;if(!a)return"";for(var o=[],s=function(u){var c=i[u].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map(function(f){return c[f]}).join(", "),")"))},l=0;l<a;++l)s(l);return o.join(" ")}return""}function ra(e,t,r,n,i){var a,o,s=du(e)||Ur(e),l=!1,u,c;if(!e||r)u=e;else{var f=(a=e==null?void 0:e.assignedSlot)===null||a===void 0?void 0:a.parentElement,d=e.parentElement;f?(l=!0,c=d,u=f):u=d}for(var p=!1,v=e===t||u===t,h="relative",g=1,m=parseFloat(i==null?void 0:i("zoom"))||1,y=i==null?void 0:i("position");u&&u!==s;){t===u&&(v=!0);var E=Te(u),b=u.tagName.toLowerCase(),_=uv(u),w=E("willChange"),x=parseFloat(E("zoom"))||1;if(h=E("position"),n&&x!==1){g=x;break}if(!r&&n&&m!==1&&y&&y!=="absolute"||b==="svg"||h!=="static"||_&&_!=="none"||w==="transform")break;var S=(o=e==null?void 0:e.assignedSlot)===null||o===void 0?void 0:o.parentNode,T=u.parentNode;S&&(l=!0,c=T);var O=T;if(O&&O.nodeType===11){u=O.host,p=!0,h=Te(u)("position");break}u=O,h="relative"}return{offsetZoom:g,hasSlot:l,parentSlotElement:c,isCustomElement:p,isStatic:h==="static",isEnd:v||!u||u===s,offsetParent:u||s}}function jb(e,t){var r,n=e.tagName.toLowerCase(),i=e.offsetLeft,a=e.offsetTop,o=Te(e),s=as(i),l=!s,u,c;return!l&&n!=="svg"?(u=Ap?$b(e):ho(o("transformOrigin")).map(function(f){return parseFloat(f)}),c=u.slice(),l=!0,r=I(Ub(e,u,e===t&&t.tagName.toLowerCase()==="g"),4),i=r[0],a=r[1],u[0]=r[2],u[1]=r[3]):(u=ho(o("transformOrigin")).map(function(f){return parseFloat(f)}),c=u.slice()),{tagName:n,isSVG:s,hasOffset:l,offset:[i||0,a||0],origin:u,targetOrigin:c}}function cv(e,t){var r=Te(e),n=Te(Ur(e)),i=n("position");if(!t&&(!i||i==="static"))return[0,0];var a=parseInt(n("marginLeft"),10),o=parseInt(n("marginTop"),10);return r("position")==="absolute"&&((r("top")!=="auto"||r("bottom")!=="auto")&&(o=0),(r("left")!=="auto"||r("right")!=="auto")&&(a=0)),[a,o]}function Rl(e){e.forEach(function(t){var r=t.matrix;r&&(t.matrix=Je(r,3,4))})}function Vb(e){for(var t=e.parentElement,r=!1,n=Ur(e);t;){var i=Lu(t).transform;if(i&&i!=="none"){r=!0;break}if(t===n)break;t=t.parentElement}return{fixedContainer:t||n,hasTransform:r}}function gs(e,t){return t===void 0&&(t=e.length>9),"".concat(t?"matrix3d":"matrix","(").concat(Ep(e,!t).join(","),")")}function Pu(e){var t=e.clientWidth,r=e.clientHeight;if(!e)return{x:0,y:0,width:0,height:0,clientWidth:t,clientHeight:r};var n=e.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||t,height:i.height||r,clientWidth:t,clientHeight:r}}function qb(e,t){var r,n=Pu(e),i=n.width,a=n.height,o=n.clientWidth,s=n.clientHeight,l=o/i,u=s/a,c=e.preserveAspectRatio.baseVal,f=c.align,d=c.meetOrSlice,p=[0,0],v=[l,u],h=[0,0];if(f!==1){var g=(f-2)%3,m=Math.floor((f-2)/3);p[0]=i*g/2,p[1]=a*m/2;var y=d===2?Math.max(u,l):Math.min(l,u);v[0]=y,v[1]=y,h[0]=(o-i)/2*g,h[1]=(s-a)/2*m}var E=yu(v,t);return r=I(h,2),E[t*(t-1)]=r[0],E[t*(t-1)+1]=r[1],Oi(E,t,p)}function Ub(e,t,r){if(!e.getBBox||!r&&e.tagName.toLowerCase()==="g")return[0,0,0,0];var n=Te(e),i=n("transform-box")==="fill-box",a=e.getBBox(),o=Pu(e.ownerSVGElement),s=a.x-o.x,l=a.y-o.y,u=i?t[0]:t[0]-s,c=i?t[1]:t[1]-l;return[s,l,u,c]}function Yt(e,t,r){return he(e,fn(t,r),r)}function En(e,t,r,n){return[[0,0],[t,0],[0,r],[t,r]].map(function(i){return Yt(e,i,n)})}function Fe(e){var t=e.map(function(u){return u[0]}),r=e.map(function(u){return u[1]}),n=Math.min.apply(Math,U([],I(t),!1)),i=Math.min.apply(Math,U([],I(r),!1)),a=Math.max.apply(Math,U([],I(t),!1)),o=Math.max.apply(Math,U([],I(r),!1)),s=a-n,l=o-i;return{left:n,top:i,right:a,bottom:o,width:s,height:l}}function of(e,t,r,n){var i=En(e,t,r,n);return Fe(i)}function Yb(e,t,r,n,i){var a,o=e.target,s=e.origin,l=t.matrix,u=dv(o),c=u.offsetWidth,f=u.offsetHeight,d=r.getBoundingClientRect(),p=[0,0];r===Ur(r)&&(p=cv(o,!0));for(var v=o.getBoundingClientRect(),h=v.left-d.left+r.scrollLeft-(r.clientLeft||0)+p[0],g=v.top-d.top+r.scrollTop-(r.clientTop||0)+p[1],m=v.width,y=v.height,E=lo(n,i,l),b=of(E,c,f,n),_=b.left,w=b.top,x=b.width,S=b.height,T=Yt(E,s,n),O=lt(T,[_,w]),R=[h+O[0]*m/x,g+O[1]*y/S],M=[0,0],C=0;++C<10;){var D=ur(i,n);a=I(lt(Yt(D,R,n),Yt(D,T,n)),2),M[0]=a[0],M[1]=a[1];var A=lo(n,i,dn(M,n),l),k=of(A,c,f,n),L=k.left,N=k.top,B=L-h,H=N-g;if(G(B)<2&&G(H)<2)break;R[0]-=B,R[1]-=H}return M.map(function(z){return Math.round(z)})}function Xb(e,t,r){var n=e.length===16,i=n?4:3,a=t.map(function(l){return Yt(e,l,i)}),o=r.left,s=r.top;return a.map(function(l){return[l[0]+o,l[1]+s]})}function Ge(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function fv(e,t){return Ge([t[0]-e[0],t[1]-e[1]])}function Ei(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=re(e,t));var i=fv(e,t);return{transform:"translateY(-50%) translate(".concat(e[0],"px, ").concat(e[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function go(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,a=r.reduce(function(s,l){return s+l[0]},0)/i,o=r.reduce(function(s,l){return s+l[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(a,"px, ").concat(o,"px) rotate(").concat(e,"rad) scale(").concat(t,")")}}function vn(e,t){var r=e[t];return Ze(r)?P(P({},e),r):e}function dv(e){var t=e&&!as(e.offsetWidth),r=0,n=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,p=0,v=1/0,h=1/0,g=1/0,m=1/0,y=0,E=0,b=!1;if(e)if(!t&&e.tagName.toLowerCase()!=="svg"){var _=e.getBBox();b=!0,r=_.width,n=_.height,o=r,s=n,l=r,u=n,i=r,a=n}else{var w=Te(e),x=e.style,S=w("boxSizing")==="border-box",T=parseFloat(w("borderLeftWidth"))||0,O=parseFloat(w("borderRightWidth"))||0,R=parseFloat(w("borderTopWidth"))||0,M=parseFloat(w("borderBottomWidth"))||0,C=parseFloat(w("paddingLeft"))||0,D=parseFloat(w("paddingRight"))||0,A=parseFloat(w("paddingTop"))||0,k=parseFloat(w("paddingBottom"))||0,L=C+D,N=A+k,B=T+O,H=R+M,z=L+B,X=N+H,j=w("position"),$=0,K=0;if("clientLeft"in e){var V=null;if(j==="absolute"){var Z=ra(e,Ur(e));V=Z.offsetParent}else V=e.parentElement;if(V){var Q=Te(V);$=parseFloat(Q("width")),K=parseFloat(Q("height"))}}c=Math.max(L,Nt(w("minWidth"),$)||0),f=Math.max(N,Nt(w("minHeight"),K)||0),v=Nt(w("maxWidth"),$),h=Nt(w("maxHeight"),K),isNaN(v)&&(v=1/0),isNaN(h)&&(h=1/0),y=Nt(x.width,0)||0,E=Nt(x.height,0)||0,o=parseFloat(w("width"))||0,s=parseFloat(w("height"))||0,l=G(o-y)<1?cl(c,y||o,v):o,u=G(s-E)<1?cl(f,E||s,h):s,r=l,n=u,i=l,a=u,S?(g=v,m=h,d=c,p=f,l=r-z,u=n-X):(g=v+z,m=h+X,d=c+z,p=f+X,r=l+z,n=u+X),i=l+L,a=u+N}return{svg:b,offsetWidth:r,offsetHeight:n,clientWidth:i,clientHeight:a,contentWidth:l,contentHeight:u,inlineCSSWidth:y,inlineCSSHeight:E,cssWidth:o,cssHeight:s,minWidth:c,minHeight:f,maxWidth:v,maxHeight:h,minOffsetWidth:d,minOffsetHeight:p,maxOffsetWidth:g,maxOffsetHeight:m}}function pv(e,t){return re(t>0?e[0]:e[1],t>0?e[1]:e[0])}function Ba(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function vv(e,t){var r=e===Ur(e)||e===du(e),n={clientLeft:e.clientLeft,clientTop:e.clientTop,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,overflow:!1};return r&&(n.clientHeight=Math.max(t.height,n.clientHeight),n.scrollHeight=Math.max(t.height,n.scrollHeight)),n.overflow=Te(e)("overflow")!=="visible",P(P({},t),n)}function Hs(e,t,r,n){var i=e.left,a=e.right,o=e.top,s=e.bottom,l=t.top,u=t.left,c={left:u+i,top:l+o,right:u+a,bottom:l+s,width:a-i,height:s-o};return r&&n?vv(r,c):c}function Mi(e,t){var r=0,n=0,i=0,a=0;if(e){var o=e.getBoundingClientRect();r=o.left,n=o.top,i=o.width,a=o.height}var s={left:r,top:n,width:i,height:a,right:r+i,bottom:n+a};return e&&t?vv(e,s):s}function Kb(e){var t=e.props,r=t.groupable,n=t.svgOrigin,i=e.getState(),a=i.offsetWidth,o=i.offsetHeight,s=i.svg,l=i.transformOrigin;return!r&&s&&n?Fu(n,a,o):l}function hv(e,t,r,n){var i;if(e)i=e;else if(t)i=[0,0];else{var a=r.target;i=gv(a,n)}return i}function gv(e,t){if(e){var r=e.getAttribute("data-rotation")||"",n=e.getAttribute("data-direction");if(t.deg=r,!!n){var i=[0,0];return n.indexOf("w")>-1&&(i[0]=-1),n.indexOf("e")>-1&&(i[0]=1),n.indexOf("n")>-1&&(i[1]=-1),n.indexOf("s")>-1&&(i[1]=1),i}}}function Iu(e,t){return[Ot(t,e[0]),Ot(t,e[1]),Ot(t,e[2]),Ot(t,e[3])]}function $e(e){var t=e.left,r=e.top,n=e.pos1,i=e.pos2,a=e.pos3,o=e.pos4;return Iu([n,i,a,o],[t,r])}function Pl(e,t){e[t?"controlAbles":"targetAbles"].forEach(function(r){r.unset&&r.unset(e)})}function In(e,t){var r=t?"controlGesto":"targetGesto",n=e[r];(n==null?void 0:n.isIdle())===!1&&Pl(e,t),n==null||n.unset(),e[r]=null}function me(e,t){if(t){var r=ai(t);r.nextStyle=P(P({},r.nextStyle),e)}return{style:e,cssText:Er(e).map(function(n){return"".concat(Qa(n,"-"),": ").concat(e[n],";")}).join("")}}function mv(e,t,r){var n=t.afterTransform||t.transform;return P(P({},me(P(P(P({},e.style),t.style),{transform:n}),r)),{afterTransform:n,transform:e.transform})}function xt(e,t,r,n){var i=t.datas;i.datas||(i.datas={});var a=P(P({},r),{target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,moveable:e,datas:i.datas,isRequest:t.isRequest,isRequestChild:t.isRequestChild,isFirstDrag:!!t.isFirstDrag,isTrusted:t.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var o;(o=t.stop)===null||o===void 0||o.call(t)}});return i.isStartEvent?n||(i.lastEvent=a):i.isStartEvent=!0,a}function Re(e,t,r){var n=t.datas,i="isDrag"in r?r.isDrag:t.isDrag;return n.datas||(n.datas={}),P(P({isDrag:i},r),{moveable:e,target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,lastEvent:n.lastEvent,isDouble:t.isDouble,datas:n.datas,isFirstDrag:!!t.isFirstDrag})}function ms(e,t,r){e._emitter.on(t,r)}function et(e,t,r,n,i){return e.triggerEvent(t,r,n,i)}function Lu(e,t){return Nr(e).getComputedStyle(e,t)}function za(e,t,r){var n={},i={};return e.filter(function(a){var o=a.name;if(n[o]||!t.some(function(s){return a[s]}))return!1;if(!r&&a.ableGroup){if(i[a.ableGroup])return!1;i[a.ableGroup]=!0}return n[o]=!0,!0})}function Il(e,t){return e===t||e==null&&t==null}function Zb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.length-1,n=0;n<r;++n){var i=e[n];if(!as(i))return i}return e[r]}function bv(e,t){var r=[],n=[];return e.forEach(function(i,a){var o=t(i,a,e),s=n.indexOf(o),l=r[s]||[];s===-1&&(n.push(o),r.push(l)),l.push(i)}),r}function Jb(e,t){var r=[],n={};return e.forEach(function(i,a){var o=t(i,a,e),s=n[o];s||(s=[],n[o]=s,r.push(s)),s.push(i)}),r}function yv(e){return e.reduce(function(t,r){return t.concat(r)},[])}function qn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.sort(function(r,n){return G(n)-G(r)}),e[0]}function Un(e,t,r){return he(ur(e,r),fn(t,r),r)}function wv(e,t){var r,n=e.is3d,i=e.rootMatrix,a=n?4:3;return r=I(Un(i,[t.distX,t.distY],a),2),t.distX=r[0],t.distY=r[1],t}function Fa(e,t,r,n){if(!r[0]&&!r[1])return t;var i=Yt(e,[rf(r[0]),0],n),a=Yt(e,[0,rf(r[1])],n),o=Yt(e,[r[0]/Ge(i),r[1]/Ge(a)],n);return Ot(t,o)}function qe(e,t,r){return r?"".concat(e/t*100,"%"):"".concat(e,"px")}function mo(e){return G(e)<=be?0:e}function Nu(e){return function(t){if(!t.isDragging(e))return"";var r=$1(t,e),n=r.deg;return n?st("view-control-rotation".concat(n)):""}}function Bu(e,t){return t===void 0&&(t=[e]),function(r,n){if(n.isRequest)return t.some(function(a){return n.requestAble===a})?n.parentDirection:!1;var i=n.inputEvent.target;return de(i,st("direction"))&&(!e||de(i,st(e)))}}function Qb(e,t,r){var n,i=Wn(e,{"x%":function(_){return _/100*t.offsetWidth},"y%":function(_){return _/100*t.offsetHeight}}),a=e.slice(0,r<0?void 0:r),o=e.slice(0,r<0?void 0:r+1),s=e[r]||"",l=r<0?[]:e.slice(r),u=r<0?[]:e.slice(r+1),c=i.slice(0,r<0?void 0:r),f=i.slice(0,r<0?void 0:r+1),d=(n=i[r])!==null&&n!==void 0?n:Wn([""])[0],p=r<0?[]:i.slice(r),v=r<0?[]:i.slice(r+1),h=d?[d]:[],g=On(c),m=On(f),y=On(p),E=On(v),b=Bt(g,y,4);return{transforms:e,beforeFunctionMatrix:g,beforeFunctionMatrix2:m,targetFunctionMatrix:On(h),afterFunctionMatrix:y,afterFunctionMatrix2:E,allFunctionMatrix:b,beforeFunctions:c,beforeFunctions2:f,targetFunction:h[0],afterFunctions:p,afterFunctions2:v,beforeFunctionTexts:a,beforeFunctionTexts2:o,targetFunctionText:s,afterFunctionTexts:l,afterFunctionTexts2:u}}function ty(e){return!e||!Ze(e)||ni(e)?!1:se(e)||"length"in e}function or(e,t){return e?ni(e)?e:Ce(e)?t?document.querySelector(e):e:uu(e)?e():ep(e)?e:"current"in e?e.current:e:null}function zu(e,t){if(!e)return[];var r=ty(e)?[].slice.call(e):[e];return r.reduce(function(n,i){return Ce(i)&&t?U(U([],I(n),!1),I([].slice.call(document.querySelectorAll(i))),!1):(se(i)?n.push(zu(i,t)):n.push(or(i,t)),n)},[])}function ey(e,t,r){var n=re(e,t)/Math.PI*180;return n=r>=0?n:180-n,n=n>=0?n:360+n,n}function sf(e,t){var r=e.rootMatrix,n=e.is3d,i=n?4:3,a=ur(r,i);return n||(a=Je(a,3,4)),a[12]=0,a[13]=0,a[14]=0,Bm(a,t)}function xv(e,t,r,n,i){var a=I(e,2),o=a[0],s=a[1],l=0,u=0;if(i&&o&&s){var c=re([0,0],t),f=re([0,0],n),d=Ge(t),p=Math.cos(c-f)*d;if(!n[0])u=p,l=u*r;else if(!n[1])l=p,u=l/r;else{var v=n[0]*o,h=n[1]*s,g=Math.atan2(v+t[0],h+t[1]),m=Math.atan2(v,h);g<0&&(g+=Math.PI*2),m<0&&(m+=Math.PI*2);var y=0;G(g-m)<Math.PI/2||G(g-m)>Math.PI/2*3||(m+=Math.PI),y=g-m,y>Math.PI*2?y-=Math.PI*2:y>Math.PI?y=2*Math.PI-y:y<-Math.PI&&(y=-2*Math.PI-y);var E=Ge([v+t[0],h+t[1]])*Math.cos(y);l=E*Math.sin(m)-v,u=E*Math.cos(m)-h,n[0]<0&&(l*=-1),n[1]<0&&(u*=-1)}}else l=n[0]*t[0],u=n[1]*t[1];return[l,u]}function Ev(e,t,r,n){var i,a=r.ratio,o=r.startOffsetWidth,s=r.startOffsetHeight,l=0,u=0,c=n.distX,f=n.distY,d=n.pinchScale,p=n.parentDistance,v=n.parentDist,h=n.parentScale,g=r.fixedDirection,m=[0,1].map(function(x){return G(e[x]-g[x])}),y=[0,1].map(function(x){var S=m[x];return S!==0&&(S=2/S),S});if(v)l=v[0],u=v[1],t&&(l?u||(u=l/a):l=u*a);else if($n(d))l=(d-1)*o,u=(d-1)*s;else if(h)l=(h[0]-1)*o,u=(h[1]-1)*s;else if(p){var E=o*m[0],b=s*m[1],_=Ge([E,b]);l=p/_*E*y[0],u=p/_*b*y[1]}else{var w=dr({datas:r,distX:c,distY:f});w=y.map(function(x,S){return w[S]*x}),i=I(xv([o,s],w,a,e,t),2),l=i[0],u=i[1]}return{distWidth:l,distHeight:u}}function Ll(e,t){if(t){if(e==="left")return{x:"0%",y:"50%"};if(e==="top")return{x:"50%",y:"50%"};if(e==="center")return{x:"50%",y:"50%"};if(e==="right")return{x:"100%",y:"50%"};if(e==="bottom")return{x:"50%",y:"100%"};var r=I(e.split(" "),2),n=r[0],i=r[1],a=Ll(n||""),o=Ll(i||""),s=P(P({},a),o),l={x:"50%",y:"50%"};return s.x&&(l.x=s.x),s.y&&(l.y=s.y),s.value&&(s.x&&!s.y&&(l.y=s.value),!s.x&&s.y&&(l.x=s.value)),l}return e==="left"?{x:"0%"}:e==="right"?{x:"100%"}:e==="top"?{y:"0%"}:e==="bottom"?{y:"100%"}:e?e==="center"?{value:"50%"}:{value:e}:{}}function Fu(e,t,r){var n=Ll(e,!0),i=n.x,a=n.y;return[Nt(i,t)||0,Nt(a,r)||0]}function ry(e,t,r){var n=e.map(function(a){return lt(a,t)}),i=n.map(function(a){return ma(a,r)});return{prev:n,next:i,result:i.map(function(a){return Ot(a,t)})}}function _v(e,t){return e.length===t.length&&e.every(function(r,n){var i=t[n],a=se(r),o=se(i);return a&&o?_v(r,i):!a&&!o?r===i:!1})}function Ln(e,t,r,n,i){var a=e._store,o=a[t];if(!(t in a))if(i!=null)a[t]=i,o=i;else return a[t]=r,r;return o===r||n(o)===n(r)?o:(a[t]=r,r)}function ze(e){return e>=0?1:-1}function G(e){return Math.abs(e)}function Gs(e,t){return X0(e).map(function(r){return t(r)})}function Sv(e){return $n(e)?{top:e,left:e,right:e,bottom:e}:{left:e.left||0,top:e.top||0,right:e.right||0,bottom:e.bottom||0}}var ny=wa("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(e,t){var r=t.datas,n=t.targets,i=t.angle,a=t.originalDatas,o=e.props,s=o.pinchable,l=o.ables;if(!s)return!1;var u="onPinch".concat(n?"Group":"","Start"),c="drag".concat(n?"Group":"","ControlStart"),f=(s===!0?e.controlAbles:l.filter(function(h){return s.indexOf(h.name)>-1})).filter(function(h){return h.canPinch&&h[c]}),d=xt(e,t,{});n&&(d.targets=n);var p=et(e,u,d);r.isPinch=p!==!1,r.ables=f;var v=r.isPinch;return v?(f.forEach(function(h){if(a[h.name]=a[h.name]||{},!!h[c]){var g=P(P({},t),{datas:a[h.name],parentRotate:i,isPinch:!0});h[c](e,g)}}),e.state.snapRenderInfo={request:t.isRequest,direction:[0,0]},v):!1},pinch:function(e,t){var r=t.datas,n=t.scale,i=t.distance,a=t.originalDatas,o=t.inputEvent,s=t.targets,l=t.angle;if(r.isPinch){var u=i*(1-1/n),c=xt(e,t,{});s&&(c.targets=s);var f="onPinch".concat(s?"Group":"");et(e,f,c);var d=r.ables,p="drag".concat(s?"Group":"","Control");return d.forEach(function(v){v[p]&&v[p](e,P(P({},t),{datas:a[v.name],inputEvent:o,resolveMatrix:!0,pinchScale:n,parentDistance:u,parentRotate:l,isPinch:!0}))}),c}},pinchEnd:function(e,t){var r=t.datas,n=t.isPinch,i=t.inputEvent,a=t.targets,o=t.originalDatas;if(r.isPinch){var s="onPinch".concat(a?"Group":"","End"),l=Re(e,t,{isDrag:n});a&&(l.targets=a),et(e,s,l);var u=r.ables,c="drag".concat(a?"Group":"","ControlEnd");return u.forEach(function(f){f[c]&&f[c](e,P(P({},t),{isDrag:n,datas:o[f.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(e,t){return this.pinchStart(e,P(P({},t),{targets:e.props.targets}))},pinchGroup:function(e,t){return this.pinch(e,P(P({},t),{targets:e.props.targets}))},pinchGroupEnd:function(e,t){return this.pinchEnd(e,P(P({},t),{targets:e.props.targets}))}}),lf=Bu("scalable"),iy={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:Vp("scalable"),dragControlCondition:lf,viewClassName:Nu("scalable"),dragControlStart:function(e,t){var r=t.datas,n=t.isPinch,i=t.inputEvent,a=t.parentDirection,o=hv(a,n,i,r),s=e.state,l=s.width,u=s.height,c=s.targetTransform,f=s.target,d=s.pos1,p=s.pos2,v=s.pos4;if(!o||!f)return!1;n||xn(e,t),r.datas={},r.transform=c,r.prevDist=[1,1],r.direction=o,r.startOffsetWidth=l,r.startOffsetHeight=u,r.startValue=[1,1];var h=!o[0]&&!o[1]||o[0]||!o[1];ds(e,t,"scale"),r.isWidth=h;function g(w){r.ratio=w&&isFinite(w)?w:0}r.startPositions=$e(e.state);function m(w){var x=Qp(r.startPositions,w);r.fixedDirection=x.fixedDirection,r.fixedPosition=x.fixedPosition,r.fixedOffset=x.fixedOffset}r.setFixedDirection=m,g(yr(d,p)/yr(p,v)),m([-o[0],-o[1]]);var y=function(w){r.minScaleSize=w},E=function(w){r.maxScaleSize=w};y([-1/0,-1/0]),E([1/0,1/0]);var b=xt(e,t,P(P({direction:o,set:function(w){r.startValue=w},setRatio:g,setFixedDirection:m,setMinScaleSize:y,setMaxScaleSize:E},fs(e,t)),{dragStart:ge.dragStart(e,new jn().dragStart([0,0],t))})),_=et(e,"onScaleStart",b);return r.startFixedDirection=r.fixedDirection,_!==!1&&(r.isScale=!0,e.state.snapRenderInfo={request:t.isRequest,direction:o}),r.isScale?b:!1},dragControl:function(e,t){us(e,t,"scale");var r=t.datas,n=t.parentKeepRatio,i=t.parentFlag,a=t.isPinch,o=t.dragClient,s=t.isRequest,l=t.useSnap,u=t.resolveMatrix,c=r.prevDist,f=r.direction,d=r.startOffsetWidth,p=r.startOffsetHeight,v=r.isScale,h=r.startValue,g=r.isWidth,m=r.ratio;if(!v)return!1;var y=e.props,E=y.throttleScale,b=y.parentMoveable,_=f;!f[0]&&!f[1]&&(_=[1,1]);var w=m&&(n??y.keepRatio)||!1,x=e.state,S=[h[0],h[1]];function T(){var at=Ev(_,w,r,t),rt=at.distWidth,nt=at.distHeight,Ct=d?(d+rt)/d:1,ft=p?(p+nt)/p:1;h[0]||(S[0]=rt/d),h[1]||(S[1]=nt/p);var dt=(_[0]||w?Ct:1)*S[0],vt=(_[1]||w?ft:1)*S[1];return dt===0&&(dt=ze(c[0])*Pa),vt===0&&(vt=ze(c[1])*Pa),[dt,vt]}var O=T();if(!a&&e.props.groupable){var R=x.snapRenderInfo||{},M=R.direction;se(M)&&(M[0]||M[1])&&(x.snapRenderInfo={direction:f,request:t.isRequest})}et(e,"onBeforeScale",xt(e,t,{scale:O,setFixedDirection:function(at){return r.setFixedDirection(at),O=T(),O},startFixedDirection:r.startFixedDirection,setScale:function(at){O=at}},!0));var C=[O[0]/S[0],O[1]/S[1]],D=o,A=[0,0],k=!o&&!i&&a;if(k||u?D=Du(e,r.targetAllTransform,[0,0],[0,0],r):o||(D=r.fixedPosition),a||(A=Lb(e,C,f,!l&&s,r)),w){_[0]&&_[1]&&A[0]&&A[1]&&(Math.abs(A[0]*d)>Math.abs(A[1]*p)?A[1]=0:A[0]=0);var L=!A[0]&&!A[1];if(L&&(g?C[0]=mt(C[0]*S[0],E)/S[0]:C[1]=mt(C[1]*S[1],E)/S[1]),_[0]&&!_[1]||A[0]&&!A[1]||L&&g){C[0]+=A[0];var N=d*C[0]*S[0]/m;C[1]=N/p/S[1]}else if(!_[0]&&_[1]||!A[0]&&A[1]||L&&!g){C[1]+=A[1];var B=p*C[1]*S[1]*m;C[0]=B/d/S[0]}}else C[0]+=A[0],C[1]+=A[1],A[0]||(C[0]=mt(C[0]*S[0],E)/S[0]),A[1]||(C[1]=mt(C[1]*S[1],E)/S[1]);C[0]===0&&(C[0]=ze(c[0])*Pa),C[1]===0&&(C[1]=ze(c[1])*Pa),O=Fb(C,[S[0],S[1]]);var H=[d,p],z=[d*O[0],p*O[1]];z=Zd(z,r.minScaleSize,r.maxScaleSize,w?m:!1),O=Gs(2,function(at){return H[at]?z[at]/H[at]:z[at]}),C=Gs(2,function(at){return O[at]/S[at]});var X=Gs(2,function(at){return c[at]?C[at]/c[at]:C[at]}),j="scale(".concat(C.join(", "),")"),$="scale(".concat(O.join(", "),")"),K=cs(r,$,j),V=!h[0]||!h[1],Z=N1(e,V?$:j,r.fixedDirection,D,r.fixedOffset,r,V),Q=k?Z:lt(Z,r.prevInverseDist||[0,0]);if(r.prevDist=C,r.prevInverseDist=Z,O[0]===c[0]&&O[1]===c[1]&&Q.every(function(at){return!at})&&!b&&!k)return!1;var ut=xt(e,t,P({offsetWidth:d,offsetHeight:p,direction:f,scale:O,dist:C,delta:X,isPinch:!!a},Fp(e,K,Q,a,t)));return et(e,"onScale",ut),ut},dragControlEnd:function(e,t){var r=t.datas;if(!r.isScale)return!1;r.isScale=!1;var n=Re(e,t,{});return et(e,"onScaleEnd",n),n},dragGroupControlCondition:lf,dragGroupControlStart:function(e,t){var r=t.datas,n=this.dragControlStart(e,t);if(!n)return!1;var i=Ke(e,"resizable",t);r.moveableScale=e.scale;var a=wr(e,this,"dragControlStart",t,function(u,c){return fo(e,u,r,c)}),o=function(u){n.setFixedDirection(u),a.forEach(function(c,f){c.setFixedDirection(u),fo(e,c.moveable,r,i[f])})};r.setFixedDirection=o;var s=P(P({},n),{targets:e.props.targets,events:a,setFixedDirection:o}),l=et(e,"onScaleGroupStart",s);return r.isScale=l!==!1,r.isScale?s:!1},dragGroupControl:function(e,t){var r=t.datas;if(r.isScale){ms(e,"onBeforeScale",function(c){et(e,"onBeforeScaleGroup",xt(e,t,P(P({},c),{targets:e.props.targets}),!0))});var n=this.dragControl(e,t);if(n){var i=n.dist,a=r.moveableScale;e.scale=[i[0]*a[0],i[1]*a[1]];var o=e.props.keepRatio,s=r.fixedPosition,l=wr(e,this,"dragControl",t,function(c,f){var d=I(he(ba(e.rotation/180*Math.PI,3),[f.datas.originalX*i[0],f.datas.originalY*i[1],1],3),2),p=d[0],v=d[1];return P(P({},f),{parentDist:null,parentScale:i,parentKeepRatio:o,dragClient:Ot(s,[p,v])})}),u=P({targets:e.props.targets,events:l},n);return et(e,"onScaleGroup",u),u}}},dragGroupControlEnd:function(e,t){var r=t.isDrag,n=t.datas;if(n.isScale){this.dragControlEnd(e,t);var i=wr(e,this,"dragControlEnd",t),a=Re(e,t,{targets:e.props.targets,events:i});return et(e,"onScaleGroupEnd",a),r}},request:function(){var e={},t=0,r=0,n=!1;return{isControl:!0,requestStart:function(i){return n=i.useSnap,{datas:e,parentDirection:i.direction||[1,1],useSnap:n}},request:function(i){return t+=i.deltaWidth,r+=i.deltaHeight,{datas:e,parentDist:[t,r],parentKeepRatio:i.keepRatio,useSnap:n}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:n}}}}};function Tr(e,t){return e.map(function(r,n){return Zr(r,t[n],1,2)})}function uf(e,t,r){var n=re(e,t),i=re(e,r),a=i-n;return a>=0?a:a+2*Math.PI}function ay(e,t){var r=uf(e[0],e[1],e[2]),n=uf(t[0],t[1],t[2]),i=Math.PI;return!(r>=i&&n<=i||r<=i&&n>=i)}var oy={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:Nu("warpable"),render:function(e,t){var r=e.props,n=r.resizable,i=r.scalable,a=r.warpable,o=r.zoom;if(n||i||!a)return[];var s=e.state,l=s.pos1,u=s.pos2,c=s.pos3,f=s.pos4,d=Tr(l,u),p=Tr(u,l),v=Tr(l,c),h=Tr(c,l),g=Tr(c,f),m=Tr(f,c),y=Tr(u,f),E=Tr(f,u);return U([t.createElement("div",{className:st("line"),key:"middeLine1",style:Ei(d,g,o)}),t.createElement("div",{className:st("line"),key:"middeLine2",style:Ei(p,m,o)}),t.createElement("div",{className:st("line"),key:"middeLine3",style:Ei(v,y,o)}),t.createElement("div",{className:st("line"),key:"middeLine4",style:Ei(h,E,o)})],I(qp(e,"warpable",t)),!1)},dragControlCondition:function(e,t){if(t.isRequest)return!1;var r=t.inputEvent.target;return de(r,st("direction"))&&de(r,st("warpable"))},dragControlStart:function(e,t){var r=t.datas,n=t.inputEvent,i=e.props.target,a=n.target,o=gv(a,r);if(!o||!i)return!1;var s=e.state,l=s.transformOrigin,u=s.is3d,c=s.targetTransform,f=s.targetMatrix,d=s.width,p=s.height,v=s.left,h=s.top;r.datas={},r.targetTransform=c,r.warpTargetMatrix=u?f:Je(f,3,4),r.targetInverseMatrix=wp(ur(r.warpTargetMatrix,4),3,4),r.direction=o,r.left=v,r.top=h,r.poses=[[0,0],[d,0],[0,p],[d,p]].map(function(y){return lt(y,l)}),r.nextPoses=r.poses.map(function(y){var E=I(y,2),b=E[0],_=E[1];return he(r.warpTargetMatrix,[b,_,0,1],4)}),r.startValue=Vt(4),r.prevMatrix=Vt(4),r.absolutePoses=$e(s),r.posIndexes=zp(o),xn(e,t),ds(e,t,"matrix3d"),s.snapRenderInfo={request:t.isRequest,direction:o};var g=xt(e,t,P({set:function(y){r.startValue=y}},fs(e,t))),m=et(e,"onWarpStart",g);return m!==!1&&(r.isWarp=!0),r.isWarp},dragControl:function(e,t){var r=t.datas,n=t.isRequest,i=t.distX,a=t.distY,o=r.targetInverseMatrix,s=r.prevMatrix,l=r.isWarp,u=r.startValue,c=r.poses,f=r.posIndexes,d=r.absolutePoses;if(!l)return!1;if(us(e,t,"matrix3d"),oi(e,"warpable")){var p=f.map(function(T){return d[T]});p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var v=hs(e,n,{horizontal:p.map(function(T){return T[1]+a}),vertical:p.map(function(T){return T[0]+i})}),h=v.horizontal,g=v.vertical;a-=h.offset,i-=g.offset}var m=dr({datas:r,distX:i,distY:a},!0),y=r.nextPoses.slice();if(f.forEach(function(T){y[T]=Ot(y[T],m)}),!D1.every(function(T){return ay(T.map(function(O){return c[O]}),T.map(function(O){return y[O]}))}))return!1;var E=wu(c[0],c[2],c[1],c[3],y[0],y[2],y[1],y[3]);if(!E.length)return!1;var b=Bt(o,E,4),_=Np(r,b,!0),w=Bt(ur(s,4),_,4);r.prevMatrix=_;var x=Bt(u,_,4),S=cs(r,"matrix3d(".concat(x.join(", "),")"),"matrix3d(".concat(_.join(", "),")"));return Cu(t,S),et(e,"onWarp",xt(e,t,P({delta:w,matrix:x,dist:_,multiply:Bt,transform:S},me({transform:S},t)))),!0},dragControlEnd:function(e,t){var r=t.datas,n=t.isDrag;return r.isWarp?(r.isWarp=!1,et(e,"onWarpEnd",Re(e,t,{})),n):!1}},sy=st("area-pieces"),Ha=st("area-piece"),Cv=st("avoid"),ly=st("view-dragging");function $s(e){var t=e.areaElement;if(t){var r=e.state,n=r.width,i=r.height;tp(t,Cv),t.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function cf(e){return e.createElement("div",{key:"area_pieces",className:sy},e.createElement("div",{className:Ha}),e.createElement("div",{className:Ha}),e.createElement("div",{className:Ha}),e.createElement("div",{className:Ha}))}var Dv={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(e,t){var r=e.props,n=r.target,i=r.dragArea,a=r.groupable,o=r.passDragArea,s=e.getState(),l=s.width,u=s.height,c=s.renderPoses,f=o?st("area","pass"):st("area");if(a)return[t.createElement("div",{key:"area",ref:br(e,"areaElement"),className:f}),cf(t)];if(!n||!i)return[];var d=wu([0,0],[l,0],[0,u],[l,u],c[0],c[1],c[2],c[3]),p=d.length?gs(d,!0):"none";return[t.createElement("div",{key:"area",ref:br(e,"areaElement"),className:f,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:p}}),cf(t)]},dragStart:function(e,t){var r=t.datas,n=t.clientX,i=t.clientY,a=t.inputEvent;if(!a)return!1;r.isDragArea=!1;var o=e.areaElement,s=e.state,l=s.moveableClientRect,u=s.renderPoses,c=s.rootMatrix,f=s.is3d,d=l.left,p=l.top,v=Fe(u),h=v.left,g=v.top,m=v.width,y=v.height,E=f?4:3,b=I(Un(c,[n-d,i-p],E),2),_=b[0],w=b[1];_-=h,w-=g;var x=[{left:h,top:g,width:m,height:w-10},{left:h,top:g,width:_-10,height:y},{left:h,top:g+w+10,width:m,height:y-w-10},{left:h+_+10,top:g,width:m-_-10,height:y}],S=[].slice.call(o.nextElementSibling.children);x.forEach(function(T,O){S[O].style.cssText="left: ".concat(T.left,"px;top: ").concat(T.top,"px; width: ").concat(T.width,"px; height: ").concat(T.height,"px;")}),Qd(o,Cv),s.disableNativeEvent=!0},drag:function(e,t){var r=t.datas,n=t.inputEvent;if(this.enableNativeEvent(e),!n)return!1;r.isDragArea||(r.isDragArea=!0,$s(e))},dragEnd:function(e,t){this.enableNativeEvent(e);var r=t.inputEvent,n=t.datas;if(!r)return!1;n.isDragArea||$s(e)},dragGroupStart:function(e,t){return this.dragStart(e,t)},dragGroup:function(e,t){return this.drag(e,t)},dragGroupEnd:function(e,t){return this.dragEnd(e,t)},unset:function(e){$s(e),e.state.disableNativeEvent=!1},enableNativeEvent:function(e){var t=e.state;t.disableNativeEvent&&Kd(function(){t.disableNativeEvent=!1})}},uy=wa("origin",{props:["origin","svgOrigin"],render:function(e,t){var r=e.props,n=r.zoom,i=r.svgOrigin,a=r.groupable,o=e.getState(),s=o.beforeOrigin,l=o.rotation,u=o.svg,c=o.allMatrix,f=o.is3d,d=o.left,p=o.top,v=o.offsetWidth,h=o.offsetHeight,g;if(!a&&u&&i){var m=I(Fu(i,v,h),2),y=m[0],E=m[1],b=f?4:3,_=Yt(c,[y,E],b);g=go(l,n,lt(_,[d,p]))}else g=go(l,n,s);return[t.createElement("div",{className:st("control","origin"),style:g,key:"beforeOrigin"})]}});function cy(e){var t=e.scrollContainer;return[t.scrollLeft,t.scrollTop]}var fy={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(e,t){var r=e.props,n=r.scrollContainer,i=n===void 0?e.getContainer():n,a=r.scrollOptions,o=new Vm,s=or(i,!0);t.datas.dragScroll=o,e.state.dragScroll=o;var l=t.isControl?"controlGesto":"targetGesto",u=t.targets;o.on("scroll",function(c){var f=c.container,d=c.direction,p=xt(e,t,{scrollContainer:f,direction:d}),v=u?"onScrollGroup":"onScroll";u&&(p.targets=u),et(e,v,p)}).on("move",function(c){var f=c.offsetX,d=c.offsetY,p=c.inputEvent;e[l].scrollBy(f,d,p.inputEvent,!1)}).on("scrollDrag",function(c){var f=c.next;f(e[l].getCurrentEvent())}),o.dragStart(t,P({container:s},a))},checkScroll:function(e,t){var r=t.datas.dragScroll;if(r){var n=e.props,i=n.scrollContainer,a=i===void 0?e.getContainer():i,o=n.scrollThreshold,s=o===void 0?0:o,l=n.scrollThrottleTime,u=l===void 0?0:l,c=n.getScrollPosition,f=c===void 0?cy:c,d=n.scrollOptions;return r.drag(t,P({container:a,threshold:s,throttleTime:u,getScrollPosition:function(p){return f({scrollContainer:p.container,direction:p.direction})}},d)),!0}},drag:function(e,t){return this.checkScroll(e,t)},dragEnd:function(e,t){t.datas.dragScroll.dragEnd(),t.datas.dragScroll=null},dragControlStart:function(e,t){return this.dragStart(e,P(P({},t),{isControl:!0}))},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupStart:function(e,t){return this.dragStart(e,P(P({},t),{targets:e.props.targets}))},dragGroup:function(e,t){return this.drag(e,P(P({},t),{targets:e.props.targets}))},dragGroupEnd:function(e,t){return this.dragEnd(e,P(P({},t),{targets:e.props.targets}))},dragGroupControlStart:function(e,t){return this.dragStart(e,P(P({},t),{targets:e.props.targets,isControl:!0}))},dragGroupControl:function(e,t){return this.drag(e,P(P({},t),{targets:e.props.targets}))},dragGroupControEnd:function(e,t){return this.dragEnd(e,P(P({},t),{targets:e.props.targets}))},unset:function(e){var t,r=e.state;(t=r.dragScroll)===null||t===void 0||t.dragEnd(),r.dragScroll=null}},Tv={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","requestStyles"],events:["changeTargets"]},dy=wa("padding",{props:["padding"],render:function(e,t){var r=e.props;if(r.dragArea)return[];var n=Sv(r.padding||{}),i=n.left,a=n.top,o=n.right,s=n.bottom,l=e.getState(),u=l.renderPoses,c=l.pos1,f=l.pos2,d=l.pos3,p=l.pos4,v=[c,f,d,p],h=[];return i>0&&h.push([0,2]),a>0&&h.push([0,1]),o>0&&h.push([1,3]),s>0&&h.push([2,3]),h.map(function(g,m){var y=I(g,2),E=y[0],b=y[1],_=v[E],w=v[b],x=u[E],S=u[b],T=wu([0,0],[100,0],[0,100],[100,100],_,w,x,S);if(T.length)return t.createElement("div",{key:"padding".concat(m),className:st("padding"),style:{transform:gs(T,!0)}})})}}),ff=["nw","ne","se","sw"];function Ga(e,t){var r=e[0]+e[1],n=r>t?t/r:1;return e[0]*=n,e[1]=t-e[1]*n,e}var py=[1,2,5,6],vy=[0,3,4,7],en=[1,-1,-1,1],rn=[1,1,-1,-1];function Hu(e,t,r,n,i,a,o,s){i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=r),s===void 0&&(s=n);var l=[],u=!1,c=e.filter(function(d){return!d.virtual}),f=c.map(function(d){var p=d.horizontal,v=d.vertical,h=d.pos;if(v&&!u&&(u=!0,l.push("/")),u){var g=Math.max(0,v===1?h[1]-a:s-h[1]);return l.push(qe(g,n,t)),g}else{var g=Math.max(0,p===1?h[0]-i:o-h[0]);return l.push(qe(g,r,t)),g}});return{radiusPoses:c,styles:l,raws:f}}function Ov(e){for(var t=[0,0],r=[0,0],n=e.length,i=0;i<n;++i){var a=e[i];a.sub&&(a.horizontal&&(t[1]===0&&(t[0]=i),t[1]=i-t[0]+1,r[0]=i+1),a.vertical&&(r[1]===0&&(r[0]=i),r[1]=i-r[0]+1))}return{horizontalRange:t,verticalRange:r}}function Mv(e,t,r,n,i,a,o){var s,l,u,c;a===void 0&&(a=[0,0]),o===void 0&&(o=!1);var f=e.indexOf("/"),d=(f>-1?e.slice(0,f):e).length,p=e.slice(0,d),v=e.slice(d+1),h=p.length,g=v.length,m=g>0,y=I(p,4),E=y[0],b=E===void 0?"0px":E,_=y[1],w=_===void 0?b:_,x=y[2],S=x===void 0?b:x,T=y[3],O=T===void 0?w:T,R=I(v,4),M=R[0],C=M===void 0?b:M,D=R[1],A=D===void 0?m?C:w:D,k=R[2],L=k===void 0?m?C:S:k,N=R[3],B=N===void 0?m?A:O:N,H=[b,w,S,O].map(function(V){return Nt(V,t)}),z=[C,A,L,B].map(function(V){return Nt(V,r)}),X=H.slice(),j=z.slice();s=I(Ga([X[0],X[1]],t),2),X[0]=s[0],X[1]=s[1],l=I(Ga([X[3],X[2]],t),2),X[3]=l[0],X[2]=l[1],u=I(Ga([j[0],j[3]],r),2),j[0]=u[0],j[3]=u[1],c=I(Ga([j[1],j[2]],r),2),j[1]=c[0],j[2]=c[1];var $=o?X:X.slice(0,Math.max(a[0],h)),K=o?j:j.slice(0,Math.max(a[1],g));return U(U([],I($.map(function(V,Z){var Q=ff[Z];return{virtual:Z>=h,horizontal:en[Z],vertical:0,pos:[n+V,i+(rn[Z]===-1?r:0)],sub:!0,raw:H[Z],direction:Q}})),!1),I(K.map(function(V,Z){var Q=ff[Z];return{virtual:Z>=g,horizontal:0,vertical:rn[Z],pos:[n+(en[Z]===-1?t:0),i+V],sub:!0,raw:z[Z],direction:Q}})),!1)}function hy(e,t,r,n,i){i===void 0&&(i=t.length);var a=Ov(e.slice(n)),o=a.horizontalRange,s=a.verticalRange,l=r-n,u=0;if(l===0)u=i;else if(l>0&&l<o[1])u=o[1]-l;else if(l>=s[0])u=s[0]+s[1]-l;else return;e.splice(r,u),t.splice(r,u)}function gy(e,t,r,n,i,a,o,s,l,u,c){u===void 0&&(u=0),c===void 0&&(c=0);var f=Ov(e.slice(r)),d=f.horizontalRange,p=f.verticalRange;if(n>-1)for(var v=en[n]===1?a-u:s-a,h=d[1];h<=n;++h){var g=rn[h]===1?c:l,m=0;if(n===h?m=a:h===0?m=u+v:en[h]===-1&&(m=s-(t[r][0]-u)),e.splice(r+h,0,{horizontal:en[h],vertical:0,pos:[m,g]}),t.splice(r+h,0,[m,g]),h===0)break}else if(i>-1){var y=rn[i]===1?o-c:l-o;if(d[1]===0&&p[1]===0){var E=[u+y,c];e.push({horizontal:en[0],vertical:0,pos:E}),t.push(E)}for(var b=p[0],h=p[1];h<=i;++h){var m=en[h]===1?u:s,g=0;if(i===h?g=o:h===0?g=c+y:rn[h]===1?g=t[r+b][1]:rn[h]===-1&&(g=l-(t[r+b][1]-c)),e.push({horizontal:0,vertical:rn[h],pos:[m,g]}),t.push([m,g]),h===0)break}}}function my(e,t){t===void 0&&(t=e.map(function(i){return i.raw}));var r=e.map(function(i,a){return i.horizontal?t[a]:null}).filter(function(i){return i!=null}),n=e.map(function(i,a){return i.vertical?t[a]:null}).filter(function(i){return i!=null});return{horizontals:r,verticals:n}}var by=[[0,-1,"n"],[1,0,"e"]],yy=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Gu(e,t,r){var n=e.props.clipRelative,i=e.state,a=i.width,o=i.height,s=t,l=s.type,u=s.poses,c=l==="rect",f=l==="circle";if(l==="polygon")return r.map(function(w){return"".concat(qe(w[0],a,n)," ").concat(qe(w[1],o,n))});if(c||l==="inset"){var d=r[1][1],p=r[3][0],v=r[7][0],h=r[5][1];if(c)return[d,p,h,v].map(function(w){return"".concat(w,"px")});var g=[d,a-p,o-h,v].map(function(w,x){return qe(w,x%2?a:o,n)});if(r.length>8){var m=I(lt(r[4],r[0]),2),y=m[0],E=m[1];g.push.apply(g,U(["round"],I(Hu(u.slice(8).map(function(w,x){return P(P({},w),{pos:r[x]})}),n,y,E,v,d,p,h).styles),!1))}return g}else if(f||l==="ellipse"){var b=r[0],_=qe(G(r[1][1]-b[1]),f?Math.sqrt((a*a+o*o)/2):o,n),g=f?[_]:[qe(G(r[2][0]-b[0]),a,n),_];return g.push("at",qe(b[0],a,n),qe(b[1],o,n)),g}}function bo(e,t,r,n){var i=[n,(n+t)/2,t],a=[e,(e+r)/2,r];return yy.map(function(o){var s=I(o,3),l=s[0],u=s[1],c=s[2],f=i[l+1],d=a[u+1];return{vertical:G(u),horizontal:G(l),direction:c,pos:[f,d]}})}function Av(e){var t=[1/0,-1/0],r=[1/0,-1/0];return e.forEach(function(n){var i=n.pos;t[0]=Math.min(t[0],i[0]),t[1]=Math.max(t[1],i[0]),r[0]=Math.min(r[0],i[1]),r[1]=Math.max(r[1],i[1])}),[G(t[1]-t[0]),G(r[1]-r[0])]}function df(e,t,r,n,i){var a,o,s,l,u,c,f,d,p;if(e){var v=i;if(!v){var h=Te(e),g=h("clipPath");v=g!=="none"?g:h("clip")}if(!((!v||v==="none"||v==="auto")&&(v=n,!v))){var m=Yd(v),y=m.prefix,E=y===void 0?v:y,b=m.value,_=b===void 0?"":b,w=E==="circle",x=" ";if(E==="polygon"){var S=on(_||"0% 0%, 100% 0%, 100% 100%, 0% 100%");x=",";var T=S.map(function(Ft){var ee=I(Ft.split(" "),2),qt=ee[0],Ht=ee[1];return{vertical:1,horizontal:1,pos:[Nt(qt,t),Nt(Ht,r)]}}),O=pn(T.map(function(Ft){return Ft.pos}));return{type:E,clipText:v,poses:T,splitter:x,left:O.minX,right:O.maxX,top:O.minY,bottom:O.maxY}}else if(w||E==="ellipse"){var R="",M="",C=0,D=0,S=Hr(_);if(w){var A="";a=I(S,4),o=a[0],A=o===void 0?"50%":o,s=a[2],R=s===void 0?"50%":s,l=a[3],M=l===void 0?"50%":l,C=Nt(A,Math.sqrt((t*t+r*r)/2)),D=C}else{var k="",L="";u=I(S,5),c=u[0],k=c===void 0?"50%":c,f=u[1],L=f===void 0?"50%":f,d=u[3],R=d===void 0?"50%":d,p=u[4],M=p===void 0?"50%":p,C=Nt(k,t),D=Nt(L,r)}var N=[Nt(R,t),Nt(M,r)],T=U([{vertical:1,horizontal:1,pos:N,direction:"nesw"}],I(by.slice(0,w?1:2).map(function(qt){return{vertical:G(qt[1]),horizontal:qt[0],direction:qt[2],sub:!0,pos:[N[0]+qt[0]*C,N[1]+qt[1]*D]}})),!1);return{type:E,clipText:v,radiusX:C,radiusY:D,left:N[0]-C,top:N[1]-D,right:N[0]+C,bottom:N[1]+D,poses:T,splitter:x}}else if(E==="inset"){var S=Hr(_||"0 0 0 0"),B=S.indexOf("round"),H=(B>-1?S.slice(0,B):S).length,z=S.slice(H+1),X=I(S.slice(0,H),4),j=X[0],$=X[1],K=$===void 0?j:$,V=X[2],Z=V===void 0?j:V,Q=X[3],ut=Q===void 0?K:Q,at=I([j,Z].map(function(qt){return Nt(qt,r)}),2),rt=at[0],nt=at[1],Ct=I([ut,K].map(function(qt){return Nt(qt,t)}),2),ft=Ct[0],dt=Ct[1],vt=t-dt,It=r-nt,At=Mv(z,vt-ft,It-rt,ft,rt),T=U(U([],I(bo(rt,vt,It,ft)),!1),I(At),!1);return{type:"inset",clipText:v,poses:T,top:rt,left:ft,right:vt,bottom:It,radius:z,splitter:x}}else if(E==="rect"){var S=on(_||"0px, ".concat(t,"px, ").concat(r,"px, 0px"));x=",";var ht=I(S.map(function(Oe){var Me=pa(Oe).value;return Me}),4),Et=ht[0],dt=ht[1],nt=ht[2],ft=ht[3],T=bo(Et,dt,nt,ft);return{type:"rect",clipText:v,poses:T,top:Et,right:dt,bottom:nt,left:ft,values:S,splitter:x}}}}}function wy(e,t,r,n,i){var a=e[t],o=a.direction,s=a.sub,l=e.map(function(){return[0,0]}),u=o?o.split(""):[];if(n&&t<8){var c=u.filter(function(C){return C==="w"||C==="e"}),f=u.filter(function(C){return C==="n"||C==="s"}),d=c[0],p=f[0];l[t]=r;var v=I(Av(e),2),h=v[0],g=v[1],m=h&&g?h/g:0;if(m&&i){var y=(t+4)%8,E=e[y].pos,b=[0,0];o.indexOf("w")>-1?b[0]=-1:o.indexOf("e")>-1&&(b[0]=1),o.indexOf("n")>-1?b[1]=-1:o.indexOf("s")>-1&&(b[1]=1);var _=xv([h,g],r,m,b,!0),w=h+_[0],x=g+_[1],S=E[1],T=E[1],O=E[0],R=E[0];b[0]===-1?O=R-w:b[0]===1?R=O+w:(O=O-w/2,R=R+w/2),b[1]===-1?S=T-x:(b[1]===1||(S=T-x/2),T=S+x);var M=bo(S,R,T,O);e.forEach(function(C,D){l[D][0]=M[D].pos[0]-C.pos[0],l[D][1]=M[D].pos[1]-C.pos[1]})}else e.forEach(function(C,D){var A=C.direction;A&&(A.indexOf(d)>-1&&(l[D][0]=r[0]),A.indexOf(p)>-1&&(l[D][1]=r[1]))}),d&&(l[1][0]=r[0]/2,l[5][0]=r[0]/2),p&&(l[3][1]=r[1]/2,l[7][1]=r[1]/2)}else o&&!s?u.forEach(function(C){var D=C==="n"||C==="s";e.forEach(function(A,k){var L=A.direction,N=A.horizontal,B=A.vertical;!L||L.indexOf(C)===-1||(l[k]=[D||!N?0:r[0],!D||!B?0:r[1]])})}):l[t]=r;return l}function xy(e,t){var r=I(Lp(e,t),2),n=r[0],i=r[1],a=t.datas,o=a.clipPath,s=a.clipIndex,l=o,u=l.type,c=l.poses,f=l.splitter,d=c.map(function(y){return y.pos});if(u==="polygon")d.splice(s,0,[n,i]);else if(u==="inset"){var p=py.indexOf(s),v=vy.indexOf(s),h=c.length;if(gy(c,d,8,p,v,n,i,d[4][0],d[4][1],d[0][0],d[0][1]),h===c.length)return}else return;var g=Gu(e,o,d),m="".concat(u,"(").concat(g.join(f),")");et(e,"onClip",xt(e,t,P({clipEventType:"added",clipType:u,poses:d,clipStyles:g,clipStyle:m,distX:0,distY:0},me({clipPath:m},t))))}function Ey(e,t){var r=t.datas,n=r.clipPath,i=r.clipIndex,a=n,o=a.type,s=a.poses,l=a.splitter,u=s.map(function(p){return p.pos}),c=u.length;if(o==="polygon")s.splice(i,1),u.splice(i,1);else if(o==="inset"){if(i<8||(hy(s,u,i,8,c),c===s.length))return}else return;var f=Gu(e,n,u),d="".concat(o,"(").concat(f.join(l),")");et(e,"onClip",xt(e,t,P({clipEventType:"removed",clipType:o,poses:u,clipStyles:f,clipStyle:d,distX:0,distY:0},me({clipPath:d},t))))}var _y={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(e,t){var r=e.props,n=r.customClipPath,i=r.defaultClipPath,a=r.clipArea,o=r.zoom,s=r.groupable,l=e.getState(),u=l.target,c=l.width,f=l.height,d=l.allMatrix,p=l.is3d,v=l.left,h=l.top,g=l.pos1,m=l.pos2,y=l.pos3,E=l.pos4,b=l.clipPathState,_=l.snapBoundInfos,w=l.rotation;if(!u||s)return[];var x=df(u,c,f,i||"inset",b||n);if(!x)return[];var S=p?4:3,T=x.type,O=x.poses,R=O.map(function(dt){var vt=Yt(d,dt.pos,S);return[vt[0]-v,vt[1]-h]}),M=[],C=[],D=T==="rect",A=T==="inset",k=T==="polygon";if(D||A||k){var L=A?R.slice(0,8):R;C=L.map(function(dt,vt){var It=vt===0?L[L.length-1]:L[vt-1],At=re(It,dt),ht=fv(It,dt);return t.createElement("div",{key:"clipLine".concat(vt),className:st("line","clip-line","snap-control"),"data-clip-index":vt,style:{width:"".concat(ht,"px"),transform:"translate(".concat(It[0],"px, ").concat(It[1],"px) rotate(").concat(At,"rad) scaleY(").concat(o,")")}})})}if(M=R.map(function(dt,vt){return t.createElement("div",{key:"clipControl".concat(vt),className:st("control","clip-control","snap-control"),"data-clip-index":vt,style:{transform:"translate(".concat(dt[0],"px, ").concat(dt[1],"px) rotate(").concat(w,"rad) scale(").concat(o,")")}})}),A&&M.push.apply(M,U([],I(R.slice(8).map(function(dt,vt){return t.createElement("div",{key:"clipRadiusControl".concat(vt),className:st("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+vt,style:{transform:"translate(".concat(dt[0],"px, ").concat(dt[1],"px) rotate(").concat(w,"rad) scale(").concat(o,")")}})})),!1)),T==="circle"||T==="ellipse"){var N=x.left,B=x.top,H=x.radiusX,z=x.radiusY,X=I(lt(Yt(d,[N,B],S),Yt(d,[0,0],S)),2),j=X[0],$=X[1],K="none";if(!a){for(var V=Math.max(10,H/5,z/5),Z=[],Q=0;Q<=V;++Q){var ut=Math.PI*2/V*Q;Z.push([H+(H-o)*Math.cos(ut),z+(z-o)*Math.sin(ut)])}Z.push([H,-2]),Z.push([-2,-2]),Z.push([-2,z*2+2]),Z.push([H*2+2,z*2+2]),Z.push([H*2+2,-2]),Z.push([H,-2]),K="polygon(".concat(Z.map(function(dt){return"".concat(dt[0],"px ").concat(dt[1],"px")}).join(", "),")")}M.push(t.createElement("div",{key:"clipEllipse",className:st("clip-ellipse","snap-control"),style:{width:"".concat(H*2,"px"),height:"".concat(z*2,"px"),clipPath:K,transform:"translate(".concat(-v+j,"px, ").concat(-h+$,"px) ").concat(gs(d))}}))}if(a){var at=Fe(U([g,m,y,E],I(R),!1)),rt=at.width,nt=at.height,Ct=at.left,ft=at.top;if(k||D||A){var Z=A?R.slice(0,8):R;M.push(t.createElement("div",{key:"clipArea",className:st("clip-area","snap-control"),style:{width:"".concat(rt,"px"),height:"".concat(nt,"px"),transform:"translate(".concat(Ct,"px, ").concat(ft,"px)"),clipPath:"polygon(".concat(Z.map(function(vt){return"".concat(vt[0]-Ct,"px ").concat(vt[1]-ft,"px")}).join(", "),")")}}))}}return _&&["vertical","horizontal"].forEach(function(dt){var vt=_[dt],It=dt==="horizontal";vt.isSnap&&C.push.apply(C,U([],I(vt.snap.posInfos.map(function(At,ht){var Et=At.pos,Ft=lt(Yt(d,It?[0,Et]:[Et,0],S),[v,h]),ee=lt(Yt(d,It?[c,Et]:[Et,f],S),[v,h]);return ea(t,"",Ft,ee,o,"clip".concat(dt,"snap").concat(ht),"guideline")})),!1)),vt.isBound&&C.push.apply(C,U([],I(vt.bounds.map(function(At,ht){var Et=At.pos,Ft=lt(Yt(d,It?[0,Et]:[Et,0],S),[v,h]),ee=lt(Yt(d,It?[c,Et]:[Et,f],S),[v,h]);return ea(t,"",Ft,ee,o,"clip".concat(dt,"bounds").concat(ht),"guideline","bounds","bold")})),!1))}),U(U([],I(M),!1),I(C),!1)},dragControlCondition:function(e,t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(e,t){var r=e.props,n=r.dragWithClip,i=n===void 0?!0:n;return i?!1:this.dragControlStart(e,t)},drag:function(e,t){return this.dragControl(e,P(P({},t),{isDragTarget:!0}))},dragEnd:function(e,t){return this.dragControlEnd(e,t)},dragControlStart:function(e,t){var r=e.state,n=e.props,i=n.defaultClipPath,a=n.customClipPath,o=r.target,s=r.width,l=r.height,u=t.inputEvent?t.inputEvent.target:null,c=u&&u.getAttribute("class")||"",f=t.datas,d=df(o,s,l,i||"inset",a);if(!d)return!1;var p=d.clipText,v=d.type,h=d.poses,g=et(e,"onClipStart",xt(e,t,{clipType:v,clipStyle:p,poses:h.map(function(m){return m.pos})}));return g===!1?(f.isClipStart=!1,!1):(f.isControl=c&&c.indexOf("clip-control")>-1,f.isLine=c.indexOf("clip-line")>-1,f.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,f.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,f.clipPath=d,f.isClipStart=!0,r.clipPathState=p,xn(e,t),!0)},dragControl:function(e,t){var r,n,i,a=t.datas,o=t.originalDatas,s=t.isDragTarget;if(!a.isClipStart)return!1;var l=a,u=l.isControl,c=l.isLine,f=l.isArea,d=l.clipIndex,p=l.clipPath;if(!p)return!1;var v=vn(e.props,"clippable"),h=v.keepRatio,g=0,m=0,y=o.draggable,E=dr(t);s&&y?(r=I(y.prevBeforeDist,2),g=r[0],m=r[1]):(n=I(E,2),g=n[0],m=n[1]);var b=[g,m],_=e.state,w=_.width,x=_.height,S=!f&&!u&&!c,T=p.type,O=p.poses,R=p.splitter,M=O.map(function(St){return St.pos});S&&(g=-g,m=-m);var C=!u||O[d].direction==="nesw",D=T==="inset"||T==="rect",A=O.map(function(){return[0,0]});if(u&&!C){var k=O[d],L=k.horizontal,N=k.vertical,B=[g*G(L),m*G(N)];A=wy(O,d,B,D,h)}else C&&(A=M.map(function(){return[g,m]}));var H=M.map(function(St,Xt){return Ot(St,A[Xt])}),z=U([],I(H),!1);_.snapBoundInfos=null;var X=p.type==="circle",j=p.type==="ellipse";if(X||j){var $=Fe(H),K=G($.bottom-$.top),V=G(j?$.right-$.left:K),Z=H[0][1]+K,Q=H[0][0]-V,ut=H[0][0]+V;X&&(z.push([ut,$.bottom]),A.push([1,0])),z.push([$.left,Z]),A.push([0,1]),z.push([Q,$.bottom]),A.push([1,0])}var at=nv((v.clipHorizontalGuidelines||[]).map(function(St){return Nt("".concat(St),x)}),(v.clipVerticalGuidelines||[]).map(function(St){return Nt("".concat(St),w)}),w,x),rt=[],nt=[];if(X||j)rt=[z[4][0],z[2][0]],nt=[z[1][1],z[3][1]];else if(D){var Ct=[z[0],z[2],z[4],z[6]],ft=[A[0],A[2],A[4],A[6]];rt=Ct.filter(function(St,Xt){return ft[Xt][0]}).map(function(St){return St[0]}),nt=Ct.filter(function(St,Xt){return ft[Xt][1]}).map(function(St){return St[1]})}else rt=z.filter(function(St,Xt){return A[Xt][0]}).map(function(St){return St[0]}),nt=z.filter(function(St,Xt){return A[Xt][1]}).map(function(St){return St[1]});var dt=[0,0],vt=Kc(at,v.clipTargetBounds&&{left:0,top:0,right:w,bottom:x},rt,nt,5),It=vt.horizontal,At=vt.vertical,ht=It.offset,Et=At.offset;if(It.isBound&&(dt[1]+=ht),At.isBound&&(dt[0]+=Et),(j||X)&&A[0][0]===0&&A[0][1]===0){var $=Fe(H),Ft=$.bottom-$.top,ee=j?$.right-$.left:Ft,qt=At.isBound?G(Et):At.snapIndex===0?-Et:Et,Ht=It.isBound?G(ht):It.snapIndex===0?-ht:ht;ee-=qt,Ft-=Ht,X&&(Ft=Xp(At,It)>0?Ft:ee,ee=Ft);var Ut=z[0];z[1][1]=Ut[1]-Ft,z[2][0]=Ut[0]+ee,z[3][1]=Ut[1]+Ft,z[4][0]=Ut[0]-ee}else if(D&&h&&u){var Oe=I(Av(O),2),Me=Oe[0],Xr=Oe[1],Da=Me&&Xr?Me/Xr:0,Cs=O[d],_n=Cs.direction||"",fi=z[1][1],Z=z[5][1],Q=z[7][0],ut=z[3][0];G(ht)<=G(Et)?ht=ze(ht)*G(Et)/Da:Et=ze(Et)*G(ht)*Da,_n.indexOf("w")>-1?Q-=Et:_n.indexOf("e")>-1?ut-=Et:(Q+=Et/2,ut-=Et/2),_n.indexOf("n")>-1?fi-=ht:_n.indexOf("s")>-1?Z-=ht:(fi+=ht/2,Z-=ht/2);var Ds=bo(fi,ut,Z,Q);z.forEach(function(er,pi){var Cr;Cr=I(Ds[pi].pos,2),er[0]=Cr[0],er[1]=Cr[1]})}else z.forEach(function(St,Xt){var di=A[Xt];di[0]&&(St[0]-=Et),di[1]&&(St[1]-=ht)});var F=Gu(e,p,H),it="".concat(T,"(").concat(F.join(R),")");if(_.clipPathState=it,X||j)rt=[z[4][0],z[2][0]],nt=[z[1][1],z[3][1]];else if(D){var Ct=[z[0],z[2],z[4],z[6]];rt=Ct.map(function(Xt){return Xt[0]}),nt=Ct.map(function(Xt){return Xt[1]})}else rt=z.map(function(St){return St[0]}),nt=z.map(function(St){return St[1]});if(_.snapBoundInfos=Kc(at,v.clipTargetBounds&&{left:0,top:0,right:w,bottom:x},rt,nt,1),y){var ct=_.is3d,kt=_.allMatrix,Tt=ct?4:3,ce=dt;s&&(ce=[b[0]+dt[0]-E[0],b[1]+dt[1]-E[1]]),y.deltaOffset=Bt(kt,[ce[0],ce[1],0,0],Tt)}return et(e,"onClip",xt(e,t,P({clipEventType:"changed",clipType:T,poses:H,clipStyle:it,clipStyles:F,distX:g,distY:m},me((i={},i[T==="rect"?"clip":"clipPath"]=it,i),t)))),!0},dragControlEnd:function(e,t){this.unset(e);var r=t.isDrag,n=t.datas,i=t.isDouble,a=n.isLine,o=n.isClipStart,s=n.isControl;return o?(et(e,"onClipEnd",Re(e,t,{})),i&&(s?Ey(e,t):a&&xy(e,t)),i||r):!1},unset:function(e){e.state.clipPathState="",e.state.snapBoundInfos=null}},Sy={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(e,t){return t.isRequest?t.requestAble==="originDraggable":de(t.inputEvent.target,st("origin"))},dragControlStart:function(e,t){var r=t.datas;xn(e,t);var n=xt(e,t,{dragStart:ge.dragStart(e,new jn().dragStart([0,0],t))}),i=et(e,"onDragOriginStart",n);return r.startOrigin=e.state.transformOrigin,r.startTargetOrigin=e.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,i===!1?(r.isDragOrigin=!1,!1):n},dragControl:function(e,t){var r=t.datas,n=t.isPinch,i=t.isRequest;if(!r.isDragOrigin)return!1;var a=I(dr(t),2),o=a[0],s=a[1],l=e.state,u=l.width,c=l.height,f=l.offsetMatrix,d=l.targetMatrix,p=l.is3d,v=e.props.originRelative,h=v===void 0?!0:v,g=p?4:3,m=[o,s];if(i){var y=t.distOrigin;(y[0]||y[1])&&(m=y)}var E=Ot(r.startOrigin,m),b=Ot(r.startTargetOrigin,m),_=lt(m,r.prevOrigin),w=Ea(f,d,E,g),x=e.getRect(),S=Fe(En(w,u,c,g)),T=[x.left-S.left,x.top-S.top];r.prevOrigin=m;var O=[qe(b[0],u,h),qe(b[1],c,h)].join(" "),R=ge.drag(e,xa(t,e.state,T,!!n,!1)),M=xt(e,t,P(P({width:u,height:c,origin:E,dist:m,delta:_,transformOrigin:O,drag:R},me({transformOrigin:O,transform:R.transform},t)),{afterTransform:R.transform}));return et(e,"onDragOrigin",M),M},dragControlEnd:function(e,t){var r=t.datas;return r.isDragOrigin?(et(e,"onDragOriginEnd",Re(e,t,{})),!0):!1},dragGroupControlCondition:function(e,t){return this.dragControlCondition(e,t)},dragGroupControlStart:function(e,t){var r=this.dragControlStart(e,t);return!!r},dragGroupControl:function(e,t){var r=this.dragControl(e,t);return r?(e.transformOrigin=r.transformOrigin,!0):!1},request:function(e){var t={},r=e.getRect(),n=0,i=0,a=r.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:t}},request:function(s){return"deltaOrigin"in s?(o[0]+=s.deltaOrigin[0],o[1]+=s.deltaOrigin[1]):"origin"in s?(o[0]=s.origin[0]-a[0],o[1]=s.origin[1]-a[1]):("x"in s?n=s.x-r.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?i=s.y-r.top:"deltaY"in s&&(i+=s.deltaY)),{datas:t,distX:n,distY:i,distOrigin:o}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Cy(e,t,r,n){var i=e.filter(function(l){var u=l.virtual,c=l.horizontal;return c&&!u}).length,a=e.filter(function(l){var u=l.virtual,c=l.vertical;return c&&!u}).length,o=-1;if(t===0&&(i===0?o=0:i===1&&(o=1)),t===2&&(i<=2?o=2:i<=3&&(o=3)),t===3&&(a===0?o=4:a<4&&(o=7)),t===1&&(a<=1?o=5:a<=2&&(o=6)),!(o===-1||!e[o].virtual)){var s=e[o];Dy(e,o),o<4?s.pos[0]=r:s.pos[1]=n}}function Dy(e,t){t<4?e.slice(0,t+1).forEach(function(r){r.virtual=!1}):(e[0].virtual&&(e[0].virtual=!1),e.slice(4,t+1).forEach(function(r){r.virtual=!1}))}function Ty(e,t){t<4?e.slice(t,4).forEach(function(r){r.virtual=!0}):e.slice(t).forEach(function(r){r.virtual=!0})}function pf(e,t,r,n,i){n===void 0&&(n=[0,0]);var a=[];return!e||e==="0px"?a=[]:a=Hr(e),Mv(a,t,r,0,0,n,i)}function vf(e,t,r,n,i){var a=e.state,o=a.width,s=a.height,l=Hu(i,e.props.roundRelative,o,s),u=l.raws,c=l.styles,f=l.radiusPoses,d=my(f,u),p=d.horizontals,v=d.verticals,h=c.join(" ");a.borderRadiusState=h;var g=xt(e,t,P({horizontals:p,verticals:v,borderRadius:h,width:o,height:s,delta:n,dist:r},me({borderRadius:h},t)));return et(e,"onRound",g),g}function hf(e){var t,r,n=e.getState().style,i=n.borderRadius||"";if(!i&&e.props.groupable){var a=e.moveables[0],o=e.getTargets()[0];o&&((a==null?void 0:a.props.target)===o?(i=(r=(t=e.moveables[0])===null||t===void 0?void 0:t.state.style.borderRadius)!==null&&r!==void 0?r:"",n.borderRadius=i):(i=Lu(o).borderRadius,n.borderRadius=i))}return i}var Oy={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(e){var t=e.props.roundClickable;return t===!0||t==="line"?st("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(e,t){var r=e.getState(),n=r.target,i=r.width,a=r.height,o=r.allMatrix,s=r.is3d,l=r.left,u=r.top,c=r.borderRadiusState,f=e.props,d=f.minRoundControls,p=d===void 0?[0,0]:d,v=f.maxRoundControls,h=v===void 0?[4,4]:v,g=f.zoom,m=f.roundPadding,y=m===void 0?0:m,E=f.isDisplayShadowRoundControls,b=f.groupable;if(!n)return null;var _=c||hf(e),w=s?4:3,x=pf(_,i,a,p,!0);if(!x)return null;var S=0,T=0,O=b?[0,0]:[l,u];return x.map(function(R,M){var C=R.horizontal,D=R.vertical,A=R.direction||"",k=U([],I(R.pos),!1);T+=Math.abs(C),S+=Math.abs(D),C&&A.indexOf("n")>-1&&(k[1]-=y),D&&A.indexOf("w")>-1&&(k[0]-=y),C&&A.indexOf("s")>-1&&(k[1]+=y),D&&A.indexOf("e")>-1&&(k[0]+=y);var L=lt(Yt(o,k,w),O),N=E&&E!=="horizontal",B=R.vertical?S<=h[1]&&(N||!R.virtual):T<=h[0]&&(E||!R.virtual);return t.createElement("div",{key:"borderRadiusControl".concat(M),className:st("control","border-radius",R.vertical?"vertical":"",R.virtual?"virtual":""),"data-radius-index":M,style:{display:B?"block":"none",transform:"translate(".concat(L[0],"px, ").concat(L[1],"px) scale(").concat(g,")")}})})},dragControlCondition:function(e,t){if(!t.inputEvent||t.isRequest)return!1;var r=t.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(e,t){return this.dragControlCondition(e,t)},dragControlStart:function(e,t){var r=t.inputEvent,n=t.datas,i=r.target,a=i.getAttribute("class")||"",o=a.indexOf("border-radius")>-1,s=a.indexOf("moveable-line")>-1&&a.indexOf("moveable-direction")>-1,l=o?parseInt(i.getAttribute("data-radius-index"),10):-1,u=-1;if(s){var c=i.getAttribute("data-line-key")||"";c&&(u=parseInt(c.replace(/render-line-/g,""),10),isNaN(u)&&(u=-1))}if(!o&&!s)return!1;var f=xt(e,t,{}),d=et(e,"onRoundStart",f);if(d===!1)return!1;n.lineIndex=u,n.controlIndex=l,n.isControl=o,n.isLine=s,xn(e,t);var p=e.props,v=p.roundRelative,h=p.minRoundControls,g=h===void 0?[0,0]:h,m=e.state,y=m.width,E=m.height;n.isRound=!0,n.prevDist=[0,0];var b=hf(e),_=pf(b||"",y,E,g,!0)||[];return n.controlPoses=_,m.borderRadiusState=Hu(_,v,y,E).styles.join(" "),f},dragControl:function(e,t){var r=t.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var i=r.controlIndex,a=I(dr(t),2),o=a[0],s=a[1],l=[o,s],u=lt(l,r.prevDist),c=e.props.maxRoundControls,f=c===void 0?[4,4]:c,d=e.state,p=d.width,v=d.height,h=n[i],g=h.vertical,m=h.horizontal,y=n.map(function(b){var _=b.horizontal,w=b.vertical,x=[_*m*l[0],w*g*l[1]];if(_){if(f[0]===1)return x;if(f[0]<4&&_!==m)return x}else{if(f[1]===0)return x[1]=w*m*l[0]/p*v,x;if(g){if(f[1]===1)return x;if(f[1]<4&&w!==g)return x}}return[0,0]});y[i]=l;var E=n.map(function(b,_){return P(P({},b),{pos:Ot(b.pos,y[_])})});return i<4?E.slice(0,i+1).forEach(function(b){b.virtual=!1}):E.slice(4,i+1).forEach(function(b){b.virtual=!1}),r.prevDist=[o,s],vf(e,t,l,u,E)},dragControlEnd:function(e,t){var r=e.state;r.borderRadiusState="";var n=t.datas,i=t.isDouble;if(!n.isRound)return!1;var a=n.isControl,o=n.controlIndex,s=n.isLine,l=n.lineIndex,u=n.controlPoses,c=u.filter(function(m){var y=m.virtual;return y}).length,f=e.props.roundClickable,d=f===void 0?!0:f;if(i&&d){if(a&&(d===!0||d==="control"))Ty(u,o);else if(s&&(d===!0||d==="line")){var p=I(Lp(e,t),2),v=p[0],h=p[1];Cy(u,l,v,h)}c!==u.filter(function(m){var y=m.virtual;return y}).length&&vf(e,t,[0,0],[0,0],u)}var g=Re(e,t,{});return et(e,"onRoundEnd",g),r.borderRadiusState="",g},dragGroupControlStart:function(e,t){var r=this.dragControlStart(e,t);if(!r)return!1;var n=e.moveables,i=e.props.targets,a=Ke(e,"roundable",t),o=P({targets:e.props.targets,events:a.map(function(s,l){return P(P({},s),{target:i[l],moveable:n[l],currentTarget:n[l]})})},r);return et(e,"onRoundGroupStart",o),r},dragGroupControl:function(e,t){var r=this.dragControl(e,t);if(!r)return!1;var n=e.moveables,i=e.props.targets,a=Ke(e,"roundable",t),o=P({targets:e.props.targets,events:a.map(function(s,l){return P(P(P({},s),{target:i[l],moveable:n[l],currentTarget:n[l]}),me({borderRadius:r.borderRadius},s))})},r);return et(e,"onRoundGroup",o),o},dragGroupControlEnd:function(e,t){var r=e.moveables,n=e.props.targets,i=Ke(e,"roundable",t);ms(e,"onRound",function(s){var l=P({targets:e.props.targets,events:i.map(function(u,c){return P(P(P({},u),{target:n[c],moveable:r[c],currentTarget:r[c]}),me({borderRadius:s.borderRadius},u))})},s);et(e,"onRoundGroup",l)});var a=this.dragControlEnd(e,t);if(!a)return!1;var o=P({targets:e.props.targets,events:i.map(function(s,l){var u;return P(P({},s),{target:n[l],moveable:r[l],currentTarget:r[l],lastEvent:(u=s.datas)===null||u===void 0?void 0:u.lastEvent})})},a);return et(e,"onRoundGroupEnd",o),o},unset:function(e){e.state.borderRadiusState=""}};function My(e,t){var r=t?4:3,n=Vt(r),i="matrix".concat(t?"3d":"","(").concat(n.join(","),")");return e===i||e==="matrix(1,0,0,1,0,0)"}var kv={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(e,t){var r=e.state,n=r.is3d,i=r.targetMatrix,a=r.inlineTransform,o=n?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(Ep(i,!0),")"),s=!a||a==="none"?o:a;t.datas.startTransforms=My(s,n)?[]:Hr(s)},resetStyle:function(e){var t=e.datas;t.nextStyle={},t.nextTransforms=e.datas.startTransforms,t.nextTransformAppendedIndexes=[]},fillDragStartParams:function(e,t){return xt(e,t,{setTransform:function(r){t.datas.startTransforms=se(r)?r:Hr(r)},isPinch:!!t.isPinch})},fillDragParams:function(e,t){return xt(e,t,{isPinch:!!t.isPinch})},dragStart:function(e,t){this.setTransform(e,t),this.resetStyle(t),et(e,"onBeforeRenderStart",this.fillDragStartParams(e,t))},drag:function(e,t){t.datas.startTransforms||this.setTransform(e,t),this.resetStyle(t),et(e,"onBeforeRender",xt(e,t,{isPinch:!!t.isPinch}))},dragEnd:function(e,t){t.datas.startTransforms||(this.setTransform(e,t),this.resetStyle(t)),et(e,"onBeforeRenderEnd",xt(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(e,t){var r=this;this.dragStart(e,t);var n=Ke(e,"beforeRenderable",t),i=e.moveables,a=n.map(function(o,s){var l=i[s];return r.setTransform(l,o),r.resetStyle(o),r.fillDragStartParams(l,o)});et(e,"onBeforeRenderGroupStart",xt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,setTransform:function(){},events:a}))},dragGroup:function(e,t){var r=this;this.drag(e,t);var n=Ke(e,"beforeRenderable",t),i=e.moveables,a=n.map(function(o,s){var l=i[s];return r.resetStyle(o),r.fillDragParams(l,o)});et(e,"onBeforeRenderGroup",xt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,events:a}))},dragGroupEnd:function(e,t){this.dragEnd(e,t),et(e,"onBeforeRenderGroupEnd",xt(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets}))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)}},Rv={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(e,t){et(e,"onRenderStart",xt(e,t,{isPinch:!!t.isPinch}))},drag:function(e,t){et(e,"onRender",this.fillDragParams(e,t))},dragAfter:function(e,t){return this.drag(e,t)},dragEnd:function(e,t){et(e,"onRenderEnd",this.fillDragEndParams(e,t))},dragGroupStart:function(e,t){et(e,"onRenderGroupStart",xt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets}))},dragGroup:function(e,t){var r=this,n=Ke(e,"beforeRenderable",t),i=e.moveables,a=n.map(function(o,s){var l=i[s];return r.fillDragParams(l,o)});et(e,"onRenderGroup",xt(e,t,P(P({isPinch:!!t.isPinch,targets:e.props.targets,transform:Ia(t),transformObject:{}},me(La(t))),{events:a})))},dragGroupEnd:function(e,t){var r=this,n=Ke(e,"beforeRenderable",t),i=e.moveables,a=n.map(function(o,s){var l=i[s];return r.fillDragEndParams(l,o)});et(e,"onRenderGroupEnd",xt(e,t,P({isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets,events:a,transformObject:{},transform:Ia(t)},me(La(t)))))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlAfter:function(e,t){return this.dragAfter(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)},fillDragParams:function(e,t){var r={};return Wn(co(t)||[]).forEach(function(n){r[n.name]=n.functionValue}),xt(e,t,P({isPinch:!!t.isPinch,transformObject:r,transform:Ia(t)},me(La(t))))},fillDragEndParams:function(e,t){var r={};return Wn(co(t)||[]).forEach(function(n){r[n.name]=n.functionValue}),xt(e,t,P({isPinch:!!t.isPinch,isDrag:t.isDrag,transformObject:r,transform:Ia(t)},me(La(t))))}};function Ai(e,t,r,n,i,a,o){a.clientDistX=a.distX,a.clientDistY=a.distY;var s=i==="Start",l=i==="End",u=i==="After",c=e.state.target,f=a.isRequest,d=n.indexOf("Control")>-1;if(!c||s&&d&&!f&&e.areaElement===a.inputEvent.target)return!1;var p=U([],I(t),!1);if(f){var v=a.requestAble;p.some(function(M){return M.name===v})||p.push.apply(p,U([],I(e.props.ables.filter(function(M){return M.name===v})),!1))}if(!p.length||p.every(function(M){return M.dragRelation}))return!1;var h=a.inputEvent,g;l&&h&&(g=document.elementFromPoint(a.clientX,a.clientY)||h.target);var m=!1,y=function(){var M;m=!0,(M=a.stop)===null||M===void 0||M.call(a)},E=s&&(!e.targetGesto||!e.controlGesto||!e.targetGesto.isFlag()||!e.controlGesto.isFlag());E&&e.updateRect(i,!0,!1);var b=a.datas,_=d?"controlGesto":"targetGesto",w=e[_],x=function(M,C,D){if(!(C in M)||w!==e[_])return!1;var A=M.name,k=b[A]||(b[A]={});if(s&&(k.isEventStart=!D||!M[D]||M[D](e,a)),!k.isEventStart)return!1;var L=M[C](e,P(P({},a),{stop:y,datas:k,originalDatas:b,inputTarget:g}));return e._emitter.off(),s&&L===!1&&(k.isEventStart=!1),L};E&&p.forEach(function(M){M.unset&&M.unset(e)}),x(kv,"drag".concat(n).concat(i));var S=0,T=0;r.forEach(function(M){if(m)return!1;var C="".concat(M).concat(n).concat(i),D="".concat(M).concat(n,"Condition");i===""&&!f&&wv(e.state,a);var A=p.filter(function(N){return N[C]});A=A.filter(function(N,B){return N.name&&A.indexOf(N)===B});var k=A.filter(function(N){return x(N,C,D)}),L=k.length;m&&++S,L&&++T,!m&&s&&A.length&&!L&&(S+=A.filter(function(N){var B=N.name,H=b[B];return H.isEventStart?N.dragRelation!=="strong":!1}).length?1:0)}),(!u||T)&&x(Rv,"drag".concat(n).concat(i));var O=w!==e[_]||S===r.length;if((l||m||O)&&(e.state.gestos={},e.moveables&&e.moveables.forEach(function(M){M.state.gestos={}}),p.forEach(function(M){M.unset&&M.unset(e)})),s&&!O&&!f&&T&&e.props.preventDefault&&(a==null||a.preventDefault()),e.isUnmounted||O)return!1;if(!s&&T&&!o||l){var R=e.props.flushSync||lv;R(function(){e.updateRect(l?i:"",!0,!1),e.forceUpdate()})}return!s&&!l&&!u&&T&&!o&&Ai(e,t,r,n,i+"After",a),!0}function Nl(e){return function(t){var r,n=t.inputEvent.target,i=e.areaElement,a=e._dragTarget;return!a||!((r=e.controlGesto)===null||r===void 0)&&r.isFlag()?!1:n===a||a.contains(n)||n===i||!e.isMoveableElement(n)&&!e.controlBox.contains(n)||de(n,"moveable-area")||de(n,"moveable-padding")||de(n,"moveable-edgeDraggable")}}function Pv(e,t,r){var n=e.controlBox,i=[],a=e.props,o=a.dragArea,s=e.state.target,l=a.dragTarget;return i.push(n),(!o||l)&&i.push(t),!o&&l&&s&&t!==s&&a.dragTargetSelf&&i.push(s),$u(e,i,"targetAbles",r,{dragStart:Nl(e),pinchStart:Nl(e)})}function $u(e,t,r,n,i){i===void 0&&(i={});var a=r==="targetAbles",o=e.props,s=o.pinchOutside,l=o.pinchThreshold,u=o.preventClickEventOnDrag,c=o.preventClickDefault,f=o.checkInput,d=o.dragFocusedInput,p=o.preventDefault,v=p===void 0?!0:p,h=o.dragContainer,g=or(h,!0),m={preventDefault:v,preventRightClick:!0,preventWheelClick:!0,container:g||Nr(e.getControlBoxElement()),pinchThreshold:l,pinchOutside:s,preventClickEventOnDrag:a?u:!1,preventClickEventOnDragStart:a?c:!1,preventClickEventByCondition:a?null:function(b){return e.controlBox.contains(b.target)},checkInput:a?f:!1,dragFocusedInput:d},y=new n1(t,m),E=n==="Control";return["drag","pinch"].forEach(function(b){["Start","","End"].forEach(function(_){y.on("".concat(b).concat(_),function(w){var x,S=w.eventType,T=b==="drag"&&w.isPinch;if(i[S]&&!i[S](w)){w.stop();return}if(!T){var O=b==="drag"?[b]:["drag",b],R=U([],I(e[r]),!1),M=Ai(e,R,O,n,_,w);M?(e.props.stopPropagation||_==="Start"&&E)&&((x=w==null?void 0:w.inputEvent)===null||x===void 0||x.stopPropagation()):w.stop()}})})}),y}var Ay=function(){function e(t,r,n){var i=this;this.target=t,this.moveable=r,this.eventName=n,this.ables=[],this._onEvent=function(a){var o=i.eventName,s=i.moveable;s.state.disableNativeEvent||i.ables.forEach(function(l){l[o](s,{inputEvent:a})})},t.addEventListener(n.toLowerCase(),this._onEvent)}return e.prototype.setAbles=function(t){this.ables=t},e.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},e}();function ky(e,t,r,n){var i;r===void 0&&(r=t);var a=Gp(e,t),o=a.matrixes,s=a.is3d,l=a.targetMatrix,u=a.transformOrigin,c=a.targetOrigin,f=a.offsetContainer,d=a.hasFixed,p=a.zoom,v=q1(f,r),h=v.matrixes,g=v.is3d,m=v.offsetContainer,y=v.zoom,E=n||g||s,b=E?4:3,_=e.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in e,w=l,x=Vt(b),S=Vt(b),T=Vt(b),O=Vt(b),R=o.length,M=h.map(function(B){return P(P({},B),{matrix:B.matrix?U([],I(B.matrix),!1):void 0})}).reverse();o.reverse(),!s&&E&&(w=Je(w,3,4),Rl(o)),!g&&E&&Rl(M),M.forEach(function(B){S=Bt(S,B.matrix,b)});var C=r||Ur(e),D=((i=M[0])===null||i===void 0?void 0:i.target)||ra(C,C,!0).offsetParent,A=M.slice(1).reduce(function(B,H){return Bt(B,H.matrix,b)},Vt(b));o.forEach(function(B,H){if(R-2===H&&(T=x.slice()),R-1===H&&(O=x.slice()),!B.matrix){var z=o[H+1],X=Yb(B,z,D,b,Bt(A,x,b));B.matrix=dn(X,b)}x=Bt(x,B.matrix,b)});var k=!_&&s;w||(w=Vt(k?4:3));var L=gs(_&&w.length===16?Je(w,4,3):w,k),N=S;return S=wp(S,b,b),{hasZoom:p!==1||y!==1,hasFixed:d,matrixes:o,rootMatrix:S,originalRootMatrix:N,beforeMatrix:T,offsetMatrix:O,allMatrix:x,targetMatrix:w,targetTransform:L,inlineTransform:e.style.transform,transformOrigin:u,targetOrigin:c,is3d:E,offsetContainer:f,offsetRootContainer:m}}function Ry(e,t,r,n){r===void 0&&(r=t);var i=0,a=0,o=0,s={},l=dv(e);if(e&&(i=l.offsetWidth,a=l.offsetHeight),e){var u=ky(e,t,r,n),c=Bn(u.allMatrix,u.transformOrigin,i,a);s=P(P({},u),c);var f=Bn(u.allMatrix,[50,50],100,100);o=pv([f.pos1,f.pos2],f.direction)}var d=n?4:3;return P(P(P({hasZoom:!1,width:i,height:a,rotation:o},l),{originalRootMatrix:Vt(d),rootMatrix:Vt(d),beforeMatrix:Vt(d),offsetMatrix:Vt(d),allMatrix:Vt(d),targetMatrix:Vt(d),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}function Bl(e,t,r,n,i,a){a===void 0&&(a=[]);var o=1,s=[0,0],l=Ba(),u=Ba(),c=Ba(),f=Ba(),d=[0,0],p={},v=Ry(t,r,i,!0);if(t){var h=Te(t);a.forEach(function(M){p[M]=h(M)});var g=v.is3d?4:3,m=Bn(v.offsetMatrix,Ot(v.transformOrigin,xp(v.targetMatrix,g)),v.width,v.height);o=m.direction,s=Ot(m.origin,[m.left-v.left,m.top-v.top]),f=Mi(v.offsetRootContainer);var y=ra(n,n,!0).offsetParent||v.offsetRootContainer;if(v.hasZoom){var E=Bn(Bt(v.originalRootMatrix,v.allMatrix),v.transformOrigin,v.width,v.height),b=Bn(v.originalRootMatrix,ho(Te(y)("transformOrigin")).map(function(M){return parseFloat(M)}),y.offsetWidth,y.offsetHeight);if(l=Hs(E,f),c=Hs(b,f,y,!0),e){var _=E.left,w=E.top;u=Hs({left:_,top:w,bottom:w,right:w},f)}}else{l=Mi(t),c=V1(y),e&&(u=Mi(e));var x=c.left,S=c.top,T=c.clientLeft,O=c.clientTop,R=[l.left-x,l.top-S];d=lt(Un(v.rootMatrix,R,4),[T+v.left,O+v.top])}}return P({targetClientRect:l,containerClientRect:c,moveableClientRect:u,rootContainerClientRect:f,beforeDirection:o,beforeOrigin:s,originalBeforeOrigin:s,target:t,style:p,offsetDelta:d},v)}function gf(e){var t=e.pos1,r=e.pos2,n=e.pos3,i=e.pos4;if(!t||!r||!n||!i)return null;var a=pn([t,r,n,i]),o=[a.minX,a.minY],s=lt(e.origin,o);return t=lt(t,o),r=lt(r,o),n=lt(n,o),i=lt(i,o),P(P({},e),{left:e.left,top:e.top,posDelta:o,pos1:t,pos2:r,pos3:n,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var Yn=function(e){ya(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state=P({container:null,gestos:{},renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},Bl(null)),r.renderState={},r.enabledAbles=[],r.targetAbles=[],r.controlAbles=[],r.rotation=0,r.scale=[1,1],r.isMoveableMounted=!1,r.isUnmounted=!1,r.events={mouseEnter:null,mouseLeave:null},r._emitter=new ls,r._prevOriginalDragTarget=null,r._originalDragTarget=null,r._prevDragTarget=null,r._dragTarget=null,r._prevPropTarget=null,r._propTarget=null,r._prevDragArea=!1,r._isPropTargetChanged=!1,r._hasFirstTarget=!1,r._reiszeObserver=null,r._observerId=0,r._mutationObserver=null,r._rootContainer=null,r._viewContainer=null,r._viewClassNames=[],r._store={},r.checkUpdateRect=function(){if(!r.isDragging()){var n=r.props.parentMoveable;if(n){n.checkUpdateRect();return}V0(r._observerId),r._observerId=Kd(function(){r.isDragging()||r.updateRect()})}},r._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},r}return t.prototype.render=function(){var r=this.props,n=this.getState(),i=r.parentPosition,a=r.className,o=r.target,s=r.zoom,l=r.cspNonce,u=r.translateZ,c=r.cssStyled,f=r.groupable,d=r.linePadding,p=r.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var v=I(i||[0,0],2),h=v[0],g=v[1],m=n.left,y=n.top,E=n.target,b=n.direction,_=n.hasFixed,w=n.offsetDelta,x=r.targets,S=this.isDragging(),T={};this.getEnabledAbles().forEach(function(A){T["data-able-".concat(A.name.toLowerCase())]=!0});var O=this._getAbleClassName(),R=x&&x.length&&(E||f)||o||!this._hasFirstTarget&&this.state.isPersisted,M=this.controlBox||this.props.firstRenderState||this.props.persistData,C=[m-h,y-g];!f&&r.useAccuratePosition&&(C[0]+=w[0],C[1]+=w[1]);var D={position:_?"fixed":"absolute",display:R?"block":"none",visibility:M?"visible":"hidden",transform:"translate3d(".concat(C[0],"px, ").concat(C[1],"px, ").concat(u,")"),"--zoom":s,"--zoompx":"".concat(s,"px")};return d&&(D["--moveable-line-padding"]=d),p&&(D["--moveable-control-padding"]=p),Xe(c,P({cspNonce:l,ref:br(this,"controlBox"),className:"".concat(st("control-box",b===-1?"reverse":"",S?"dragging":"")," ").concat(O," ").concat(a)},T,{onClick:this._onPreventClick,style:D}),this.renderAbles(),this._renderLines())},t.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var r=this.props,n=r.parentMoveable,i=r.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!i&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},t.prototype.componentDidUpdate=function(r){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(r)},t.prototype.componentWillUnmount=function(){var r,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(r=this._reiszeObserver)===null||r===void 0||r.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var i=this._viewContainer;i&&this._changeAbleViewClassNames([]),In(this,!1),In(this,!0);var a=this.events;for(var o in a){var s=a[o];s&&s.destroy()}},t.prototype.getTargets=function(){var r=this.props.target;return r?[r]:[]},t.prototype.getAble=function(r){var n=this.props.ables||[];return De(n,function(i){return i.name===r})},t.prototype.getContainer=function(){var r=this.props,n=r.parentMoveable,i=r.wrapperMoveable,a=r.container;return a||i&&i.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},t.prototype.getControlBoxElement=function(){return this.controlBox},t.prototype.getDragElement=function(){return this._dragTarget},t.prototype.isMoveableElement=function(r){var n;return r&&(((n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class"))||"").indexOf(_u)>-1},t.prototype.dragStart=function(r){var n=this.targetGesto,i=this.controlGesto;return n&&Nl(this)({inputEvent:r})?n.isFlag()||n.triggerDragStart(r):i&&this.isMoveableElement(r.target)&&(i.isFlag()||i.triggerDragStart(r)),this},t.prototype.hitTest=function(r){var n=this.state,i=n.target,a=n.pos1,o=n.pos2,s=n.pos3,l=n.pos4,u=n.targetClientRect;if(!i)return 0;var c;if(ni(r)){var f=r.getBoundingClientRect();c={left:f.left,top:f.top,width:f.width,height:f.height}}else c=P({width:0,height:0},r);var d=c.left,p=c.top,v=c.width,h=c.height,g=Fc([a,o,l,s],u),m=Zm(g,[[d,p],[d+v,p],[d+v,p+h],[d,p+h]]),y=Cp(g);return!m||!y?0:Math.min(100,m/y*100)},t.prototype.isInside=function(r,n){var i=this.state,a=i.target,o=i.pos1,s=i.pos2,l=i.pos3,u=i.pos4,c=i.targetClientRect;return a?yl([r,n],Fc([o,s,u,l],c)):!1},t.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0);var a=this.props,o=!a.parentPosition&&!a.wrapperMoveable;o&&Vn(!0);var s=a.parentMoveable,l=this.state,u=l.target||a.target,c=this.getContainer(),f=s?s._rootContainer:this._rootContainer,d=Bl(this.controlBox,u,c,c,f||c,this._getRequestStyles());if(!u&&this._hasFirstTarget&&a.persistData){var p=gf(a.persistData);for(var v in p)d[v]=p[v]}o&&Vn(),this.updateState(d,s?!1:i)},t.prototype.isDragging=function(r){var n,i,a=this.targetGesto,o=this.controlGesto;if(a!=null&&a.isFlag()){if(!r)return!0;var s=a.getEventData();return!!(!((n=s[r])===null||n===void 0)&&n.isEventStart)}if(o!=null&&o.isFlag()){if(!r)return!0;var s=o.getEventData();return!!(!((i=s[r])===null||i===void 0)&&i.isEventStart)}return!1},t.prototype.updateTarget=function(r){this.updateRect(r,!0)},t.prototype.getRect=function(){var r=this.state,n=$e(this.state),i=I(n,4),a=i[0],o=i[1],s=i[2],l=i[3],u=Fe(n),c=r.width,f=r.height,d=u.width,p=u.height,v=u.left,h=u.top,g=[r.left,r.top],m=Ot(g,r.origin),y=Ot(g,r.beforeOrigin),E=r.transformOrigin;return{width:d,height:p,left:v,top:h,pos1:a,pos2:o,pos3:s,pos4:l,offsetWidth:c,offsetHeight:f,beforeOrigin:y,origin:m,transformOrigin:E,rotation:this.getRotation()}},t.prototype.getManager=function(){return this},t.prototype.stopDrag=function(r){if(!r||r==="target"){var n=this.targetGesto;(n==null?void 0:n.isIdle())===!1&&Pl(this,!1),n==null||n.stop()}if(!r||r==="control"){var n=this.controlGesto;(n==null?void 0:n.isIdle())===!1&&Pl(this,!0),n==null||n.stop()}},t.prototype.getRotation=function(){var r=this.state,n=r.pos1,i=r.pos2,a=r.direction;return ey(n,i,a)},t.prototype.request=function(r,n,i){n===void 0&&(n={});var a=this,o=a.props,s=o.parentMoveable||o.wrapperMoveable||a,l=s.props.ables,u=o.groupable,c=De(l,function(m){return m.name===r});if(this.isDragging()||!c||!c.request)return{request:function(){return this},requestEnd:function(){return this}};var f=c.request(a),d=i||n.isInstant,p=f.isControl?"controlAbles":"targetAbles",v="".concat(u?"Group":"").concat(f.isControl?"Control":""),h=U([],I(s[p]),!1),g={request:function(m){return Ai(a,h,["drag"],v,"",P(P({},f.request(m)),{requestAble:r,isRequest:!0}),d),g},requestEnd:function(){return Ai(a,h,["drag"],v,"End",P(P({},f.requestEnd()),{requestAble:r,isRequest:!0}),d),g}};return Ai(a,h,["drag"],v,"Start",P(P({},f.requestStart(n)),{requestAble:r,isRequest:!0}),d),d?g.request(n).requestEnd():g},t.prototype.getMoveables=function(){return[this]},t.prototype.destroy=function(){this.componentWillUnmount()},t.prototype.updateRenderPoses=function(){var r=this.getState(),n=this.props,i=n.padding,a=r.originalBeforeOrigin,o=r.transformOrigin,s=r.allMatrix,l=r.is3d,u=r.pos1,c=r.pos2,f=r.pos3,d=r.pos4,p=r.left,v=r.top,h=r.isPersisted;if(!i){r.renderPoses=[u,c,f,d];return}var g=Sv(i),m=g.left,y=g.top,E=g.bottom,b=g.right,_=l?4:3,w=[];h?w=o:this.controlBox&&n.groupable?w=a:w=Ot(a,[p,v]);var x=lo(_,dn(w.map(function(S){return-S}),_),s,dn(o,_));r.renderPoses=[Fa(x,u,[-m,-y],_),Fa(x,c,[b,-y],_),Fa(x,f,[-m,E],_),Fa(x,d,[b,E],_)]},t.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var r=this.props,n=r.target,i=r.container,a=r.parentMoveable,o=this.state,s=o.target,l=o.container;if(!(!s&&!n)){this.updateAbles();var u=!Il(s,n),c=u||!Il(l,i);if(c){var f=i||this.controlBox;f&&this.unsetAbles(),this.updateState({target:n,container:i}),!a&&f&&this.updateRect("End",!1,!1),this._isPropTargetChanged=u}}},t.prototype.waitToChangeTarget=function(){return new Promise(function(){})},t.prototype.triggerEvent=function(r,n){var i=this.props;if(this._emitter.trigger(r,n),i.parentMoveable&&n.isRequest&&!n.isRequestChild)return i.parentMoveable.triggerEvent(r,n,!0);var a=i[r];return a&&a(n)},t.prototype.useCSS=function(r,n){var i=this.props.customStyledMap,a=r+n;return i[a]||(i[a]=Op(r,n)),i[a]},t.prototype.getState=function(){var r,n=this.props;(n.target||!((r=n.targets)===null||r===void 0)&&r.length)&&(this._hasFirstTarget=!0);var i=this.controlBox,a=n.persistData,o=n.firstRenderState;if(o&&!i)return o;if(!this._hasFirstTarget&&a){var s=gf(a);if(s)return this.updateState(s,!1),this.state}return this.state.isPersisted=!1,this.state},t.prototype.updateSelectors=function(){},t.prototype.unsetAbles=function(){var r=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(r)})},t.prototype.updateAbles=function(r,n){r===void 0&&(r=this.props.ables),n===void 0&&(n="");var i=this.props,a=i.triggerAblesSimultaneously,o=this.getEnabledAbles(r),s="drag".concat(n,"Start"),l="pinch".concat(n,"Start"),u="drag".concat(n,"ControlStart"),c=za(o,[s,l],a),f=za(o,[u],a);this.enabledAbles=o,this.targetAbles=c,this.controlAbles=f},t.prototype.updateState=function(r,n){if(n){if(this.isUnmounted)return;this.setState(r)}else{var i=this.state;for(var a in r)i[a]=r[a]}},t.prototype.getEnabledAbles=function(r){r===void 0&&(r=this.props.ables);var n=this.props;return r.filter(function(i){return i&&(i.always&&n[i.name]!==!1||n[i.name])})},t.prototype.renderAbles=function(){var r=this,n=this.props,i=n.triggerAblesSimultaneously,a={createElement:Xe};return this.renderState={},Jb(yv(za(this.getEnabledAbles(),["render"],i).map(function(o){var s=o.render;return s(r,a)||[]})).filter(function(o){return o}),function(o){var s=o.key;return s}).map(function(o){return o[0]})},t.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},t.prototype._getRequestStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var a,o,s=(o=(a=i.requestStyle)===null||a===void 0?void 0:a.call(i))!==null&&o!==void 0?o:[];return U(U([],I(n),!1),I(s),!1)},U([],I(this.props.requestStyles||[]),!1));return r},t.prototype._updateObserver=function(r){this._updateResizeObserver(r),this._updateMutationObserver(r)},t.prototype._updateEvents=function(){var r=this.controlBox,n=this.targetAbles.length,i=this.controlAbles.length,a=this._dragTarget,o=!n&&this.targetGesto||this._isTargetChanged(!0);o&&(In(this,!1),this.updateState({gestos:{}})),i||In(this,!0),a&&n&&!this.targetGesto&&(this.targetGesto=Pv(this,a,"")),!this.controlGesto&&i&&(this.controlGesto=$u(this,r,"controlAbles","Control"))},t.prototype._updateTargets=function(){var r=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=r.dragArea,this._propTarget=r.target,this._originalDragTarget=r.dragTarget||r.target,this._dragTarget=or(this._originalDragTarget,!0)},t.prototype._renderLines=function(){var r=this.props,n=r,i=n.zoom,a=n.hideDefaultLines,o=n.hideChildMoveableDefaultLines,s=n.parentMoveable;if(a||s&&o)return[];var l=this.getState().renderPoses,u={createElement:Xe};return[[0,1],[1,3],[3,2],[2,0]].map(function(c,f){var d=I(c,2),p=d[0],v=d[1];return ea(u,"",l[p],l[v],i,"render-line-".concat(f))})},t.prototype._isTargetChanged=function(r){var n=this.props,i=n.dragTarget||n.target,a=this._prevOriginalDragTarget,o=this._prevDragArea,s=n.dragArea,l=!s&&a!==i,u=(r||s)&&o!==s;return l||u||this._prevPropTarget!=this._propTarget},t.prototype._updateNativeEvents=function(){var r=this,n=this.props,i=n.dragArea?this.areaElement:this.state.target,a=this.events,o=Er(a);if(this._isTargetChanged())for(var s in a){var l=a[s];l&&l.destroy(),a[s]=null}if(i){var u=this.enabledAbles;o.forEach(function(c){var f=za(u,[c]),d=f.length>0,p=a[c];if(!d){p&&(p.destroy(),a[c]=null);return}p||(p=new Ay(i,r,c),a[c]=p),p.setAbles(f)})}},t.prototype._checkUpdateRootContainer=function(){var r=this.props.rootContainer;!this._rootContainer&&r&&(this._rootContainer=or(r,!0))},t.prototype._checkUpdateViewContainer=function(){var r=this.props.viewContainer;!this._viewContainer&&r&&(this._viewContainer=or(r,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(U(U([],I(this._getAbleViewClassNames()),!1),[this.isDragging()?ly:""],!1))},t.prototype._changeAbleViewClassNames=function(r){var n=this._viewContainer,i=bv(r.filter(Boolean),function(u){return u}).map(function(u){var c=I(u,1),f=c[0];return f}),a=this._viewClassNames,o=va(a,i),s=o.removed,l=o.added;s.forEach(function(u){tp(n,a[u])}),l.forEach(function(u){Qd(n,i[u])}),this._viewClassNames=i},t.prototype._getAbleViewClassNames=function(){var r=this;return(this.getEnabledAbles().map(function(n){var i;return((i=n.viewClassName)===null||i===void 0?void 0:i.call(n,r))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},t.prototype._getAbleClassName=function(r){var n=this;r===void 0&&(r="");var i=this.getEnabledAbles(),a=this.targetGesto,o=this.controlGesto,s=a!=null&&a.isFlag()?a.getEventData():{},l=o!=null&&o.isFlag()?o.getEventData():{};return i.map(function(u){var c,f,d,p=u.name,v=((c=u.className)===null||c===void 0?void 0:c.call(u,n))||"";return(!((f=s[p])===null||f===void 0)&&f.isEventStart||!((d=l[p])===null||d===void 0)&&d.isEventStart)&&(v+=" ".concat(st("".concat(p).concat(r,"-dragging")))),v.trim()}).filter(Boolean).join(" ")},t.prototype._updateResizeObserver=function(r){var n,i=this.props,a=i.target,o=Nr(this.getControlBoxElement());if(!o.ResizeObserver||!a||!i.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(r.target===a&&this._reiszeObserver)){var s=new o.ResizeObserver(this.checkUpdateRect);s.observe(a,{box:"border-box"}),this._reiszeObserver=s}},t.prototype._updateMutationObserver=function(r){var n=this,i,a=this.props,o=a.target,s=Nr(this.getControlBoxElement());if(!s.MutationObserver||!o||!a.useMutationObserver){(i=this._mutationObserver)===null||i===void 0||i.disconnect();return}if(!(r.target===o&&this._mutationObserver)){var l=new s.MutationObserver(function(u){var c,f;try{for(var d=v1(u),p=d.next();!p.done;p=d.next()){var v=p.value;v.type==="attributes"&&v.attributeName==="style"&&n.checkUpdateRect()}}catch(h){c={error:h}}finally{try{p&&!p.done&&(f=d.return)&&f.call(d)}finally{if(c)throw c.error}}});l.observe(o,{attributes:!0}),this._mutationObserver=l}},t.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:lv,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},t}(sp),Wu={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(e,t){var r,n=e.props,i=n.targets||[],a=e.getState(),o=a.left,s=a.top,l=a.isPersisted,u=n.zoom||1,c=e.renderGroupRects,f=((r=n.persistData)===null||r===void 0?void 0:r.children)||[];l?i=f.map(function(){return null}):f=[];var d=Ln(e,"parentPosition",[o,s],function(v){return v.join(",")}),p=Ln(e,"requestStyles",e.getRequestChildStyles(),function(v){return v.join(",")});return e.moveables=e.moveables.slice(0,i.length),U(U([],I(i.map(function(v,h){return t.createElement(Yn,{key:"moveable"+h,ref:Vd(e,"moveables",h),target:v,origin:!1,requestStyles:p,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:e,parentPosition:[o,s],persistData:f[h],zoom:u})})),!1),I(yv(c.map(function(v,h){var g=v.pos1,m=v.pos2,y=v.pos3,E=v.pos4,b=[g,m,y,E];return[[0,1],[1,3],[3,2],[2,0]].map(function(_,w){var x=I(_,2),S=x[0],T=x[1];return ea(t,"",lt(b[S],d),lt(b[T],d),u,"group-rect-".concat(h,"-").concat(w))})}))),!1)}},Py=wa("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(e,t){t.datas.inputTarget=t.inputEvent&&t.inputEvent.target},dragEnd:function(e,t){var r=e.props.target,n=t.inputEvent,i=t.inputTarget,a=e.isMoveableElement(i),o=!a&&e.controlBox.contains(i);if(!(!n||!i||t.isDrag||e.isMoveableElement(i)||o)){var s=r.contains(i);et(e,"onClick",xt(e,t,{isDouble:t.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:e.props.target,containsTarget:s}))}},dragGroupEnd:function(e,t){var r=t.inputEvent,n=t.inputTarget;if(!(!r||!n||t.isDrag||e.isMoveableElement(n)||t.datas.inputTarget===n)){var i=e.props.targets,a=i.indexOf(n),o=a>-1,s=!1;a===-1&&(a=xr(i,function(l){return l.contains(n)}),s=a>-1),et(e,"onClickGroup",xt(e,t,{isDouble:t.isDouble,targets:i,inputTarget:n,targetIndex:a,isTarget:o,containsTarget:s,moveableTarget:i[a]}))}},dragControlEnd:function(e,t){this.dragEnd(e,t)},dragGroupControlEnd:function(e,t){this.dragEnd(e,t)}});function Dn(e){var t=e.originalDatas.draggable;return t||(e.originalDatas.draggable={},t=e.originalDatas.draggable),P(P({},e),{datas:t})}var Iy=wa("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(e,t){var r=e.props,n=r.edgeDraggable;return n?jp(t,"edgeDraggable",n,e.getState().renderPoses,r.zoom):[]},dragCondition:function(e,t){var r,n=e.props,i=(r=t.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&de(i,st("direction"))&&de(i,st("edge"))&&de(i,st("edgeDraggable"))},dragStart:function(e,t){return ge.dragStart(e,Dn(t))},drag:function(e,t){return ge.drag(e,Dn(t))},dragEnd:function(e,t){return ge.dragEnd(e,Dn(t))},dragGroupCondition:function(e,t){var r,n=e.props,i=(r=t.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&de(i,st("direction"))&&de(i,st("line"))},dragGroupStart:function(e,t){return ge.dragGroupStart(e,Dn(t))},dragGroup:function(e,t){return ge.dragGroup(e,Dn(t))},dragGroupEnd:function(e,t){return ge.dragGroupEnd(e,Dn(t))},unset:function(e){return ge.unset(e)}}),Iv={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},ju=[kv,Tv,zb,ny,ge,Iy,Ml,iy,oy,xb,fy,dy,uy,Sy,_y,Oy,Wu,Iv,Py,Dv,Rv],Ly=ju.reduce(function(e,t){return(t.events||[]).forEach(function(r){Jd(e,r)}),e},[]),Ny=ju.reduce(function(e,t){return(t.props||[]).forEach(function(r){Jd(e,r)}),e},[]);function mf(e,t){var r=I(e,3),n=r[0],i=r[1],a=r[2];return(n*t[0]+i*t[1]+a)/Math.sqrt(n*n+i*i)}function $a(e,t){var r=I(e,2),n=r[0],i=r[1];return-n*t[0]-i*t[1]}function bf(e,t){return Math.max.apply(Math,U([],I(e.map(function(r){var n=I(r,4),i=n[0],a=n[1],o=n[2],s=n[3];return Math.max(i[t],a[t],o[t],s[t])})),!1))}function yf(e,t){return Math.min.apply(Math,U([],I(e.map(function(r){var n=I(r,4),i=n[0],a=n[1],o=n[2],s=n[3];return Math.min(i[t],a[t],o[t],s[t])})),!1))}function By(e,t){var r,n,i,a=[0,0],o=[0,0],s=[0,0],l=[0,0],u=0,c=0;if(!e.length)return{pos1:a,pos2:o,pos3:s,pos4:l,minX:0,minY:0,maxX:0,maxY:0,width:u,height:c,rotation:t};var f=mt(t,be);if(f%90){var d=f/180*Math.PI,p=Math.tan(d),v=-1/p,h=[Cl,$c],g=[[0,0],[0,0]],m=[Cl,$c],y=[[0,0],[0,0]];e.forEach(function(j){j.forEach(function($){var K=mf([-p,1,0],$),V=mf([-v,1,0],$);h[0]>K&&(g[0]=$,h[0]=K),h[1]<K&&(g[1]=$,h[1]=K),m[0]>V&&(y[0]=$,m[0]=V),m[1]<V&&(y[1]=$,m[1]=V)})});var E=I(g,2),b=E[0],_=E[1],w=I(y,2),x=w[0],S=w[1],T=[-p,1,$a([-p,1],b)],O=[-p,1,$a([-p,1],_)],R=[-v,1,$a([-v,1],x)],M=[-v,1,$a([-v,1],S)];r=I([[T,R],[T,M],[O,R],[O,M]].map(function(j){var $=I(j,2),K=$[0],V=$[1];return xu(K,V)[0]}),4),a=r[0],o=r[1],s=r[2],l=r[3],u=m[1]-m[0],c=h[1]-h[0]}else{var C=yf(e,0),D=yf(e,1),A=bf(e,0),k=bf(e,1);if(a=[C,D],o=[A,D],s=[C,k],l=[A,k],u=A-C,c=k-D,f%180){var L=[s,a,l,o];n=I(L,4),a=n[0],o=n[1],s=n[2],l=n[3],u=k-D,c=A-C}}if(f%360>180){var L=[l,s,o,a];i=I(L,4),a=i[0],o=i[1],s=i[2],l=i[3]}var N=pn([a,o,s,l]),B=N.minX,H=N.minY,z=N.maxX,X=N.maxY;return{pos1:a,pos2:o,pos3:s,pos4:l,width:u,height:c,minX:B,minY:H,maxX:z,maxY:X,rotation:t}}function Lv(e,t){var r=t.map(function(n){if(se(n)){var i=Lv(e,n),a=i.length;return a>1?i:a===1?i[0]:null}else{var o=De(e,function(s){var l=s.manager;return l.props.target===n});return o?(o.finded=!0,o.manager):null}}).filter(Boolean);return r.length===1&&se(r[0])?r[0]:r}var zy=function(e){ya(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.differ=new Sp,r.moveables=[],r.transformOrigin="50% 50%",r.renderGroupRects=[],r._targetGroups=[],r._hasFirstTargets=!1,r}return t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this)},t.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},t.prototype.getTargets=function(){return this.props.targets},t.prototype.updateRect=function(r,n,i){var a;i===void 0&&(i=!0);var o=this.state;if(!this.controlBox||o.isPersisted)return;Vn(!0),this.moveables.forEach(function(Q){Q.updateRect(r,!1,!1)});var s=this.props,l=this.moveables,u=o.target||s.target,c=l.map(function(Q){return{finded:!1,manager:Q}}),f=this.props.targetGroups||[],d=Lv(c,f),p=s.useDefaultGroupRotate;d.push.apply(d,U([],I(c.filter(function(Q){var ut=Q.finded;return!ut}).map(function(Q){var ut=Q.manager;return ut})),!1));var v=[],h=!n||r!==""&&s.updateGroup,g=s.defaultGroupRotate||0;if(!this._hasFirstTargets){var m=(a=s.persistData)===null||a===void 0?void 0:a.rotation;m!=null&&(g=m)}function y(Q,ut,at){var rt=Q.map(function(At){if(se(At)){var ht=y(At,ut),Et=[ht.pos1,ht.pos2,ht.pos3,ht.pos4];return v.push(ht),{poses:Et,rotation:ht.rotation}}else return{poses:$e(At.state),rotation:At.getRotation()}}),nt=rt.map(function(At){var ht=At.rotation;return ht}),Ct=0,ft=nt[0],dt=nt.every(function(At){return Math.abs(ft-At)<.1});h?Ct=!p&&dt?ft:g:Ct=!p&&!at&&dt?ft:ut;var vt=rt.map(function(At){var ht=At.poses;return ht}),It=By(vt,Ct);return It}var E=y(d,this.rotation,!0);h&&(this.rotation=E.rotation,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=f,this.renderGroupRects=v;var b=this.transformOrigin,_=this.rotation,w=this.scale,x=E.width,S=E.height,T=E.minX,O=E.minY,R=ry([[0,0],[x,0],[0,S],[x,S]],Fu(b,x,S),this.rotation/180*Math.PI),M=pn(R.result),C=M.minX,D=M.minY,A=" rotate(".concat(_,"deg)")+" scale(".concat(ze(w[0]),", ").concat(ze(w[1]),")"),k="translate(".concat(-C,"px, ").concat(-D,"px)").concat(A);this.controlBox.style.transform="translate3d(".concat(T,"px, ").concat(O,"px, ").concat(this.props.translateZ||0,")"),u.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(b,";")+"width:".concat(x,"px;height:").concat(S,"px;")+"transform: ".concat(k),o.width=x,o.height=S;var L=this.getContainer(),N=Bl(this.controlBox,u,this.controlBox,this.getContainer(),this._rootContainer||L,[]),B=[N.left,N.top],H=I($e(N),4),z=H[0],X=H[1],j=H[2],$=H[3],K=pn([z,X,j,$]),V=[K.minX,K.minY],Z=ze(w[0]*w[1]);N.pos1=lt(z,V),N.pos2=lt(X,V),N.pos3=lt(j,V),N.pos4=lt($,V),N.left=T-N.left+V[0],N.top=O-N.top+V[1],N.origin=lt(Ot(B,N.origin),V),N.beforeOrigin=lt(Ot(B,N.beforeOrigin),V),N.originalBeforeOrigin=Ot(B,N.originalBeforeOrigin),N.transformOrigin=lt(Ot(B,N.transformOrigin),V),u.style.transform="translate(".concat(-C-V[0],"px, ").concat(-D-V[1],"px)")+A,Vn(),this.updateState(P(P({},N),{posDelta:V,direction:Z,beforeDirection:Z}),i)},t.prototype.getRect=function(){return P(P({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},t.prototype.triggerEvent=function(r,n,i){if(i||r.indexOf("Group")>-1)return e.prototype.triggerEvent.call(this,r,n);this._emitter.trigger(r,n)},t.prototype.getRequestChildStyles=function(){var r=this.getEnabledAbles().reduce(function(n,i){var a,o,s=(o=(a=i.requestChildStyle)===null||a===void 0?void 0:a.call(i))!==null&&o!==void 0?o:[];return U(U([],I(n),!1),I(s),!1)},[]);return r},t.prototype.getMoveables=function(){return U([],I(this.moveables),!1)},t.prototype.updateAbles=function(){e.prototype.updateAbles.call(this,U(U([],I(this.props.ables),!1),[Wu],!1),"Group")},t.prototype._updateTargets=function(){e.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=or(this._originalDragTarget,!0)},t.prototype._updateEvents=function(){var r=this.state,n=this.props,i=this._prevDragTarget,a=n.dragTarget||this.areaElement,o=n.targets,s=this.differ.update(o),l=s.added,u=s.changed,c=s.removed,f=l.length||c.length;(f||this._prevOriginalDragTarget!==this._originalDragTarget)&&(In(this,!1),In(this,!0),this.updateState({gestos:{}})),i!==a&&(r.target=null),r.target||(r.target=this.areaElement,this.controlBox.style.display="block"),r.target&&(this.targetGesto||(this.targetGesto=Pv(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=$u(this,this.controlBox,"controlAbles","GroupControl")));var d=!Il(r.container,n.container);d&&(r.container=n.container),(d||f||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||u.length||o.length&&!_v(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!f},t.prototype._updateObserver=function(){},t.defaultProps=P(P({},Yn.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),t}(Yn),Fy=function(e){ya(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.moveables=[],r}return t.prototype.render=function(){var r=this,n,i=this.props,a=i.cspNonce,o=i.cssStyled,s=i.persistData,l=i.targets||[],u=l.length,c=this.isUnmounted||!u,f=(n=s==null?void 0:s.children)!==null&&n!==void 0?n:[];return c&&!u&&f.length?l=f.map(function(){return null}):c||(f=[]),Xe(o,{cspNonce:a,ref:br(this,"controlBox"),className:st("control-box")},l.map(function(d,p){var v,h,g=(h=(v=i.individualGroupableProps)===null||v===void 0?void 0:v.call(i,d,p))!==null&&h!==void 0?h:{};return Xe(Yn,P({key:"moveable"+p,ref:Vd(r,"moveables",p)},i,g,{target:d,wrapperMoveable:r,isWrapperMounted:r.isMoveableMounted,persistData:f[p]}))}))},t.prototype.componentDidMount=function(){},t.prototype.componentDidUpdate=function(){},t.prototype.getTargets=function(){return this.props.targets},t.prototype.updateRect=function(r,n,i){i===void 0&&(i=!0),Vn(!0),this.moveables.forEach(function(a){a.updateRect(r,n,i)}),Vn()},t.prototype.getRect=function(){return P(P({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},t.prototype.request=function(r,n,i){n===void 0&&(n={});var a=this.moveables.map(function(l){return l.request(r,P(P({},n),{isInstant:!1}),!1)}),o=i||n.isInstant,s={request:function(l){return a.forEach(function(u){return u.request(l)}),this},requestEnd:function(){return a.forEach(function(l){return l.requestEnd()}),this}};return o?s.request(n).requestEnd():s},t.prototype.dragStart=function(r){var n=r.target,i=De(this.moveables,function(a){var o=a.getTargets()[0],s=a.getControlBoxElement(),l=a.getDragElement();return!o||!l?!1:l===n||l.contains(n)||l!==o&&o===n||o.contains(n)||s===n||s.contains(n)});return i&&i.dragStart(r),this},t.prototype.hitTest=function(){return 0},t.prototype.isInside=function(){return!1},t.prototype.isDragging=function(){return!1},t.prototype.getDragElement=function(){return null},t.prototype.getMoveables=function(){return U([],I(this.moveables),!1)},t.prototype.updateRenderPoses=function(){},t.prototype.checkUpdate=function(){},t.prototype.triggerEvent=function(){},t.prototype.updateAbles=function(){},t.prototype._updateEvents=function(){},t.prototype._updateObserver=function(){},t}(Yn);function Nv(e,t){var r=[];return e.forEach(function(n){if(n){if(Ce(n)){t[n]&&r.push.apply(r,U([],I(t[n]),!1));return}se(n)?r.push.apply(r,U([],I(Nv(n,t)),!1)):r.push(n)}}),r}function Bv(e,t){var r=[];return e.forEach(function(n){if(n){if(Ce(n)){t[n]&&r.push.apply(r,U([],I(t[n]),!1));return}se(n)?r.push(Bv(n,t)):r.push(n)}}),r}function zv(e,t){return e.length!==t.length||e.some(function(r,n){var i=t[n];return!r&&!i?!1:r!=i?se(r)&&se(i)?zv(r,i):!0:!1})}var Hy=function(e){ya(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.refTargets=[],r.selectorMap={},r._differ=new Sp,r._elementTargets=[],r._tmpRefTargets=[],r._tmpSelectorMap={},r._onChangeTargets=null,r}return t.makeStyled=function(){var r={},n=this.getTotalAbles();n.forEach(function(a){var o=a.css;o&&o.forEach(function(s){r[s]=!0})});var i=Er(r).join(`
`);this.defaultStyled=Op("div",I0(_u,C1+i))},t.getTotalAbles=function(){return U([Tv,Wu,Iv,Dv],I(this.defaultAbles),!1)},t.prototype.render=function(){var r,n=this.constructor;n.defaultStyled||n.makeStyled();var i=this.props,a=i.ables,o=i.props,s=d1(i,["ables","props"]),l=I(this._updateRefs(!0),2),u=l[0],c=l[1],f=Nv(u,c),d=f.length>1,p=n.getTotalAbles(),v=U(U([],I(p),!1),I(a||[]),!1),h=P(P(P({},s),o||{}),{ables:v,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=f;var g=null,m=this.moveable,y=s.persistData;if(y!=null&&y.children&&(d=!0),s.individualGroupable)return Xe(Fy,P({key:"individual-group",ref:br(this,"moveable")},h,{target:null,targets:f}));if(d){var E=Bv(u,c);if(m&&!m.props.groupable&&!m.props.individualGroupable){var b=m.props.target;b&&f.indexOf(b)>-1&&(g=P({},m.state))}return Xe(zy,P({key:"group",ref:br(this,"moveable")},h,(r=s.groupableProps)!==null&&r!==void 0?r:{},{target:null,targets:f,targetGroups:E,firstRenderState:g}))}else{var _=f[0];if(m&&(m.props.groupable||m.props.individualGroupable)){var w=m.moveables||[],x=De(w,function(S){return S.props.target===_});x&&(g=P({},x.state))}return Xe(Yn,P({key:"single",ref:br(this,"moveable")},h,{target:_,firstRenderState:g}))}},t.prototype.componentDidMount=function(){this._checkChangeTargets()},t.prototype.componentDidUpdate=function(){this._checkChangeTargets()},t.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},t.prototype.getTargets=function(){var r,n;return(n=(r=this.moveable)===null||r===void 0?void 0:r.getTargets())!==null&&n!==void 0?n:[]},t.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs()},t.prototype.waitToChangeTarget=function(){var r=this,n;return this._onChangeTargets=function(){r._onChangeTargets=null,n()},new Promise(function(i){n=i})},t.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},t.prototype.getManager=function(){return this.moveable},t.prototype.getMoveables=function(){return this.moveable.getMoveables()},t.prototype.getDragElement=function(){return this.moveable.getDragElement()},t.prototype._updateRefs=function(r){var n=this.refTargets,i=zu(this.props.target||this.props.targets),a=typeof document<"u",o=zv(n,i),s=this.selectorMap,l={};return this.refTargets.forEach(function u(c){if(Ce(c)){var f=s[c];f?l[c]=s[c]:a&&(o=!0,l[c]=[].slice.call(document.querySelectorAll(c)))}else se(c)&&c.forEach(u)}),this._tmpRefTargets=i,this._tmpSelectorMap=l,[i,l,!r&&o]},t.prototype._checkChangeTargets=function(){var r,n,i;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var a=this._differ.update(this._elementTargets),o=a.added,s=a.removed,l=o.length||s.length;l&&((n=(r=this.props).onChangeTargets)===null||n===void 0||n.call(r,{moveable:this.moveable,targets:this._elementTargets}),(i=this._onChangeTargets)===null||i===void 0||i.call(this));var u=I(this._updateRefs(),3),c=u[0],f=u[1],d=u[2];this.refTargets=c,this.selectorMap=f,d&&this.forceUpdate()},t.defaultAbles=[],t.customStyledMap={},t.defaultStyled=null,p1([L0(Ip)],t.prototype,"moveable",void 0),t}(sp),Gy=function(e){ya(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.defaultAbles=ju,t}(Hy),zl=function(e,t){return zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zl(e,t)};function Vu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var na=function(){return na=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},na.apply(this,arguments)};function $y(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}var Wy=function(e){Vu(t,e);function t(n){var i=e.call(this,n)||this;return i.state={},i.state=i.props,i}var r=t.prototype;return r.render=function(){return Xe(Gy,na({ref:br(this,"moveable")},this.state))},t}(hu),Fv=Ny,Hv=Ip,Gv=Ly,jy=function(e){Vu(t,e);function t(n,i){i===void 0&&(i={});var a=e.call(this)||this;a.containerProvider=null,a.selfElement=null,a._warp=!1;var o=na({},i),s={};Gv.forEach(function(c){s[Xd("on ".concat(c))]=function(f){return a.trigger(c,f)}});var l;i.warpSelf?(delete i.warpSelf,a._warp=!0,l=n):(l=ri(n).createElement("div"),n.appendChild(l)),a.containerProvider=Nc(Xe(Wy,na({ref:br(a,"innerMoveable")},o,s)),l),a.selfElement=l;var u=o.target;return se(u)&&u.length>1&&a.updateRect(),a}var r=t.prototype;return r.setState=function(n,i){this.innerMoveable.setState(n,i)},r.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},r.dragStart=function(n){var i=this.innerMoveable;i.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n)},r.destroy=function(){var n,i=this.selfElement;Nc(null,i,this.containerProvider),this._warp||(n=i==null?void 0:i.parentElement)===null||n===void 0||n.removeChild(i),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},r.getMoveable=function(){return this.innerMoveable.moveable},t=$y([Tc(Hv,function(n,i){n[i]||(n[i]=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=this.getMoveable();if(!(!s||!s[i]))return s[i].apply(s,a)})}),Tc(Fv,function(n,i){Object.defineProperty(n,i,{get:function(){return this.getMoveable().props[i]},set:function(a){var o;this.setState((o={},o[i]=a,o))},enumerable:!0,configurable:!0})})],t),t}(ls),Vy=function(e){Vu(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(jy);function qy(e){let t;return{c(){t=pt("div")},m(r,n){Gt(r,t,n),e[2](t)},p:Ye,i:Ye,o:Ye,d(r){r&&$t(t),e[2](null)}}}function Uy(e,t,r){const n=Xh();let i={},a,o;kd(()=>{const u=t;i={},Fv.forEach(c=>{c in u&&(i[c]=u[c])}),o&&no().then(()=>{o.setState({...i})})}),rs(()=>{o=new Vy(a,{...i,warpSelf:!0}),Gv.forEach(u=>{const c=Xd(`on ${u}`);o.on(u,f=>{t[c]&&t[c](f),n(u,f)})})}),ei(()=>{o&&o.destroy()});function s(){return o}function l(u){Lr[u?"unshift":"push"](()=>{a=u,r(0,a)})}return e.$$set=u=>{r(6,t=J(J({},t),gt(u)))},t=gt(t),[a,s,l]}let Yy=class extends Rt{constructor(t){super(),Pt(this,t,Uy,qy,Mt,{getInstance:1})}get getInstance(){return this.$$.ctx[1]}};const Ws=Yy,Xy=(()=>{const e=Ws.prototype;return e&&Hv.forEach(t=>{e[t]=function(...r){const n=this.getInstance(),i=n[t](...r);return i===n?this:i}}),Ws})();function wf(e){let t,r;return t=new Xy({props:{target:document.querySelector(".ProseMirror-selectednode"),container:null,origin:!1,edge:!1,throttleDrag:0,keepRatio:!0,resizable:!0,throttleResize:0,scalable:!0,throttleScale:0,renderDirections:["w","e"]}}),t.$on("resize",Zy),t.$on("resizeEnd",e[3]),t.$on("scale",Jy),{c(){bt(t.$$.fragment)},m(n,i){yt(t,n,i),r=!0},p:Ye,i(n){r||(W(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){wt(t,n)}}}function Ky(e){let t=e[0],r,n,i=wf(e);return{c(){i.c(),r=da()},m(a,o){i.m(a,o),Gt(a,r,o),n=!0},p(a,[o]){o&1&&Mt(t,t=a[0])?(ae(),Y(i,1,1,Ye),oe(),i=wf(a),i.c(),W(i,1),i.m(r.parentNode,r)):i.p(a,o)},i(a){n||(W(i),n=!0)},o(a){Y(i),n=!1},d(a){a&&$t(r),i.d(a)}}}const Zy=({detail:{target:e,width:t,height:r,delta:n}})=>{n[0]&&(e.style.width=`${t}px`),n[1]&&(e.style.height=`${r}px`)},Jy=({detail:{target:e,transform:t}})=>{e.style.transform=t};function Qy(e,t,r){let{editor:n}=t;const i=()=>{const s=document.querySelector(".ProseMirror-selectednode");if(s){const l=n.state.selection;n.commands.setImage({src:s.src,width:Number(s.style.width.replace("px","")),height:Number(s.style.height.replace("px",""))}),n.commands.setNodeSelection(l.from)}};let a=0;const o=()=>{i(),r(0,a++,a)};return e.$$set=s=>{"editor"in s&&r(2,n=s.editor)},[a,i,n,o]}class tw extends Rt{constructor(t){super(),Pt(this,t,Qy,Ky,Mt,{editor:2})}}const ew={type:"doc",content:[{type:"heading",attrs:{level:2},content:[{type:"text",text:"Introducing Novel Svelte"}]},{type:"paragraph",content:[{type:"text",marks:[{type:"link",attrs:{href:"https://github.com/tglide/novel-svelte",target:"_blank",class:"text-stone-400 underline underline-offset-[3px] hover:text-stone-600 transition-colors cursor-pointer"}}],text:"Novel Svelte"},{type:"text",text:" is a Notion-style WYSIWYG editor with AI-powered autocompletion. Built with "},{type:"text",marks:[{type:"link",attrs:{href:"https://tiptap.dev/",target:"_blank",class:"text-stone-400 underline underline-offset-[3px] hover:text-stone-600 transition-colors cursor-pointer"}}],text:"Tiptap"},{type:"text",text:" + "},{type:"text",marks:[{type:"link",attrs:{href:"https://sdk.vercel.ai/docs",target:"_blank",class:"text-stone-400 underline underline-offset-[3px] hover:text-stone-600 transition-colors cursor-pointer text-stone-400 underline underline-offset-[3px] hover:text-stone-600 transition-colors cursor-pointer"}}],text:"Vercel AI SDK"},{type:"text",text:". Ported From Steven Tey's "},{type:"text",marks:[{type:"link",attrs:{href:"https://github.com/steven-tey/novel",target:"_blank",class:"text-stone-400 underline underline-offset-[3px] hover:text-stone-600 transition-colors cursor-pointer"}}],text:"Novel"},{type:"text",text:" project."}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Installation"}]},{type:"codeBlock",attrs:{language:null},content:[{type:"text",text:"npm i novel-svelte"}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Usage"}]},{type:"codeBlock",attrs:{language:null},content:[{type:"text",text:`<script>
	import { Editor } from "novel-svelte";
<\/script>

<Editor />`}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Features"}]},{type:"orderedList",attrs:{tight:!0,start:1},content:[{type:"listItem",content:[{type:"paragraph",content:[{type:"text",text:"Slash menu & bubble menu"}]}]},{type:"listItem",content:[{type:"paragraph",content:[{type:"text",text:"AI autocomplete (type "},{type:"text",marks:[{type:"code"}],text:"++"},{type:"text",text:" to activate, or select from slash menu)"}]}]},{type:"listItem",content:[{type:"paragraph",content:[{type:"text",text:"Image uploads (drag & drop / copy & paste, or select from slash menu) "}]}]}]},{type:"image",attrs:{src:"https://public.blob.vercel-storage.com/pJrjXbdONOnAeZAZ/banner-2wQk82qTwyVgvlhTW21GIkWgqPGD2C.png",alt:"banner.png",title:"banner.png",width:null,height:null}},{type:"horizontalRule"},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Learn more"}]},{type:"taskList",content:[{type:"taskItem",attrs:{checked:!1},content:[{type:"paragraph",content:[{type:"text",text:"Star us on "},{type:"text",marks:[{type:"link",attrs:{href:"https://github.com/tglide/novel-svelte",target:"_blank",class:"text-stone-400 underline underline-offset-[3px] hover:text-stone-600 transition-colors cursor-pointer"}}],text:"GitHub"}]}]},{type:"taskItem",attrs:{checked:!1},content:[{type:"paragraph",content:[{type:"text",text:"Install the "},{type:"text",marks:[{type:"link",attrs:{href:"https://www.npmjs.com/package/novel-svelte",target:"_blank",class:"text-stone-400 underline underline-offset-[3px] hover:text-stone-600 transition-colors cursor-pointer"}}],text:"NPM package"}]}]}]}]},rw=e=>{if(!e.children.length)return;const t=e.querySelectorAll("span");t&&t.forEach(r=>{var n,i;const a=r.getAttribute("style"),o=(i=(n=r.parentElement)===null||n===void 0?void 0:n.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");r.setAttribute("style",`${o};${a}`)})},nw=ns.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&rw(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",Fr(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(a=>!!a))||e.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),iw=is.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return(t=e.style.color)===null||t===void 0?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),aw=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,ow=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,sw=ns.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",Fr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ug({find:aw,type:this.type})]},addPasteRules(){return[Pd({find:ow,type:this.type})]}}),lw=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,$v=iu.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Fr(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[cg({find:lw,type:this.type,getAttributes:e=>{const[,,t,r,n]=e;return{src:r,alt:t,title:n}}})]}}),uw="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",cw="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Xn=(e,t)=>{for(const r in t)e[r]=t[r];return e},Fl="numeric",Hl="ascii",Gl="alpha",ki="asciinumeric",_i="alphanumeric",$l="domain",Wv="emoji",fw="scheme",dw="slashscheme",js="whitespace";function pw(e,t){return e in t||(t[e]=[]),t[e]}function sn(e,t,r){t[Fl]&&(t[ki]=!0,t[_i]=!0),t[Hl]&&(t[ki]=!0,t[Gl]=!0),t[ki]&&(t[_i]=!0),t[Gl]&&(t[_i]=!0),t[_i]&&(t[$l]=!0),t[Wv]&&(t[$l]=!0);for(const n in t){const i=pw(n,r);i.indexOf(e)<0&&i.push(e)}}function vw(e,t){const r={};for(const n in t)t[n].indexOf(e)>=0&&(r[n]=!0);return r}function we(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}we.groups={};we.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let n=0;n<t.jr.length;n++){const i=t.jr[n][0],a=t.jr[n][1];if(a&&i.test(e))return a}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,n){for(let i=0;i<e.length;i++)this.tt(e[i],t,r,n)},tr(e,t,r,n){n=n||we.groups;let i;return t&&t.j?i=t:(i=new we(t),r&&n&&sn(t,r,n)),this.jr.push([e,i]),i},ts(e,t,r,n){let i=this;const a=e.length;if(!a)return i;for(let o=0;o<a-1;o++)i=i.tt(e[o]);return i.tt(e[a-1],t,r,n)},tt(e,t,r,n){n=n||we.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const a=t;let o,s=i.go(e);if(s?(o=new we,Xn(o.j,s.j),o.jr.push.apply(o.jr,s.jr),o.jd=s.jd,o.t=s.t):o=new we,a){if(n)if(o.t&&typeof o.t=="string"){const l=Xn(vw(o.t,n),r);sn(a,l,n)}else r&&sn(a,r,n);o.t=a}return i.j[e]=o,o}};const _t=(e,t,r,n,i)=>e.ta(t,r,n,i),Kt=(e,t,r,n,i)=>e.tr(t,r,n,i),xf=(e,t,r,n,i)=>e.ts(t,r,n,i),q=(e,t,r,n,i)=>e.tt(t,r,n,i),gr="WORD",Wl="UWORD",jv="ASCIINUMERICAL",Vv="ALPHANUMERICAL",ia="LOCALHOST",jl="TLD",Vl="UTLD",eo="SCHEME",Mn="SLASH_SCHEME",qu="NUM",ql="WS",Uu="NL",Ri="OPENBRACE",Pi="CLOSEBRACE",yo="OPENBRACKET",wo="CLOSEBRACKET",xo="OPENPAREN",Eo="CLOSEPAREN",_o="OPENANGLEBRACKET",So="CLOSEANGLEBRACKET",Co="FULLWIDTHLEFTPAREN",Do="FULLWIDTHRIGHTPAREN",To="LEFTCORNERBRACKET",Oo="RIGHTCORNERBRACKET",Mo="LEFTWHITECORNERBRACKET",Ao="RIGHTWHITECORNERBRACKET",ko="FULLWIDTHLESSTHAN",Ro="FULLWIDTHGREATERTHAN",Po="AMPERSAND",Io="APOSTROPHE",Lo="ASTERISK",Mr="AT",No="BACKSLASH",Bo="BACKTICK",zo="CARET",Ar="COLON",Yu="COMMA",Fo="DOLLAR",rr="DOT",Ho="EQUALS",Xu="EXCLAMATION",Le="HYPHEN",Ii="PERCENT",Go="PIPE",$o="PLUS",Wo="POUND",Li="QUERY",Ku="QUOTE",qv="FULLWIDTHMIDDLEDOT",Zu="SEMI",nr="SLASH",Ni="TILDE",jo="UNDERSCORE",Uv="EMOJI",Vo="SYM";var Yv=Object.freeze({__proto__:null,ALPHANUMERICAL:Vv,AMPERSAND:Po,APOSTROPHE:Io,ASCIINUMERICAL:jv,ASTERISK:Lo,AT:Mr,BACKSLASH:No,BACKTICK:Bo,CARET:zo,CLOSEANGLEBRACKET:So,CLOSEBRACE:Pi,CLOSEBRACKET:wo,CLOSEPAREN:Eo,COLON:Ar,COMMA:Yu,DOLLAR:Fo,DOT:rr,EMOJI:Uv,EQUALS:Ho,EXCLAMATION:Xu,FULLWIDTHGREATERTHAN:Ro,FULLWIDTHLEFTPAREN:Co,FULLWIDTHLESSTHAN:ko,FULLWIDTHMIDDLEDOT:qv,FULLWIDTHRIGHTPAREN:Do,HYPHEN:Le,LEFTCORNERBRACKET:To,LEFTWHITECORNERBRACKET:Mo,LOCALHOST:ia,NL:Uu,NUM:qu,OPENANGLEBRACKET:_o,OPENBRACE:Ri,OPENBRACKET:yo,OPENPAREN:xo,PERCENT:Ii,PIPE:Go,PLUS:$o,POUND:Wo,QUERY:Li,QUOTE:Ku,RIGHTCORNERBRACKET:Oo,RIGHTWHITECORNERBRACKET:Ao,SCHEME:eo,SEMI:Zu,SLASH:nr,SLASH_SCHEME:Mn,SYM:Vo,TILDE:Ni,TLD:jl,UNDERSCORE:jo,UTLD:Vl,UWORD:Wl,WORD:gr,WS:ql});const vr=/[a-z]/,mi=/\p{L}/u,Vs=/\p{Emoji}/u,hr=/\d/,qs=/\s/,Ef="\r",Us=`
`,hw="",gw="",Ys="";let Wa=null,ja=null;function mw(e=[]){const t={};we.groups=t;const r=new we;Wa==null&&(Wa=_f(uw)),ja==null&&(ja=_f(cw)),q(r,"'",Io),q(r,"{",Ri),q(r,"}",Pi),q(r,"[",yo),q(r,"]",wo),q(r,"(",xo),q(r,")",Eo),q(r,"<",_o),q(r,">",So),q(r,"",Co),q(r,"",Do),q(r,"",To),q(r,"",Oo),q(r,"",Mo),q(r,"",Ao),q(r,"",ko),q(r,"",Ro),q(r,"&",Po),q(r,"*",Lo),q(r,"@",Mr),q(r,"`",Bo),q(r,"^",zo),q(r,":",Ar),q(r,",",Yu),q(r,"$",Fo),q(r,".",rr),q(r,"=",Ho),q(r,"!",Xu),q(r,"-",Le),q(r,"%",Ii),q(r,"|",Go),q(r,"+",$o),q(r,"#",Wo),q(r,"?",Li),q(r,'"',Ku),q(r,"/",nr),q(r,";",Zu),q(r,"~",Ni),q(r,"_",jo),q(r,"\\",No),q(r,"",qv);const n=Kt(r,hr,qu,{[Fl]:!0});Kt(n,hr,n);const i=Kt(n,vr,jv,{[ki]:!0}),a=Kt(n,mi,Vv,{[_i]:!0}),o=Kt(r,vr,gr,{[Hl]:!0});Kt(o,hr,i),Kt(o,vr,o),Kt(i,hr,i),Kt(i,vr,i);const s=Kt(r,mi,Wl,{[Gl]:!0});Kt(s,vr),Kt(s,hr,a),Kt(s,mi,s),Kt(a,hr,a),Kt(a,vr),Kt(a,mi,a);const l=q(r,Us,Uu,{[js]:!0}),u=q(r,Ef,ql,{[js]:!0}),c=Kt(r,qs,ql,{[js]:!0});q(r,Ys,c),q(u,Us,l),q(u,Ys,c),Kt(u,qs,c),q(c,Ef),q(c,Us),Kt(c,qs,c),q(c,Ys,c);const f=Kt(r,Vs,Uv,{[Wv]:!0});q(f,"#"),Kt(f,Vs,f),q(f,hw,f);const d=q(f,gw);q(d,"#"),Kt(d,Vs,f);const p=[[vr,o],[hr,i]],v=[[vr,null],[mi,s],[hr,a]];for(let h=0;h<Wa.length;h++)Or(r,Wa[h],jl,gr,p);for(let h=0;h<ja.length;h++)Or(r,ja[h],Vl,Wl,v);sn(jl,{tld:!0,ascii:!0},t),sn(Vl,{utld:!0,alpha:!0},t),Or(r,"file",eo,gr,p),Or(r,"mailto",eo,gr,p),Or(r,"http",Mn,gr,p),Or(r,"https",Mn,gr,p),Or(r,"ftp",Mn,gr,p),Or(r,"ftps",Mn,gr,p),sn(eo,{scheme:!0,ascii:!0},t),sn(Mn,{slashscheme:!0,ascii:!0},t),e=e.sort((h,g)=>h[0]>g[0]?1:-1);for(let h=0;h<e.length;h++){const g=e[h][0],y=e[h][1]?{[fw]:!0}:{[dw]:!0};g.indexOf("-")>=0?y[$l]=!0:vr.test(g)?hr.test(g)?y[ki]=!0:y[Hl]=!0:y[Fl]=!0,xf(r,g,g,y)}return xf(r,"localhost",ia,{ascii:!0}),r.jd=new we(Vo),{start:r,tokens:Xn({groups:t},Yv)}}function Xv(e,t){const r=bw(t.replace(/[A-Z]/g,s=>s.toLowerCase())),n=r.length,i=[];let a=0,o=0;for(;o<n;){let s=e,l=null,u=0,c=null,f=-1,d=-1;for(;o<n&&(l=s.go(r[o]));)s=l,s.accepts()?(f=0,d=0,c=s):f>=0&&(f+=r[o].length,d++),u+=r[o].length,a+=r[o].length,o++;a-=f,o-=d,u-=f,i.push({t:c.t,v:t.slice(a-u,a),s:a-u,e:a})}return i}function bw(e){const t=[],r=e.length;let n=0;for(;n<r;){let i=e.charCodeAt(n),a,o=i<55296||i>56319||n+1===r||(a=e.charCodeAt(n+1))<56320||a>57343?e[n]:e.slice(n,n+2);t.push(o),n+=o.length}return t}function Or(e,t,r,n,i){let a;const o=t.length;for(let s=0;s<o-1;s++){const l=t[s];e.j[l]?a=e.j[l]:(a=new we(n),a.jr=i.slice(),e.j[l]=a),e=a}return a=new we(r),a.jr=i.slice(),e.j[t[o-1]]=a,a}function _f(e){const t=[],r=[];let n=0,i="0123456789";for(;n<e.length;){let a=0;for(;i.indexOf(e[n+a])>=0;)a++;if(a>0){t.push(r.join(""));for(let o=parseInt(e.substring(n,n+a),10);o>0;o--)r.pop();n+=a}else r.push(e[n]),n++}return t}const aa={defaultProtocol:"http",events:null,format:Sf,formatHref:Sf,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ju(e,t=null){let r=Xn({},aa);e&&(r=Xn(r,e instanceof Ju?e.o:e));const n=r.ignoreTags,i=[];for(let a=0;a<n.length;a++)i.push(n[a].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=i}Ju.prototype={o:aa,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const n=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:aa[e],typeof i=="function"&&n&&(i=i(t,r))):typeof i=="function"&&n&&(i=i(t,r.t,r)),i)},getObj(e,t,r){let n=this.o[e];return typeof n=="function"&&t!=null&&(n=n(t,r.t,r)),n},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Sf(e){return e}function Kv(e,t){this.t="token",this.v=e,this.tk=t}Kv.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),n=e.get("format",t,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=aa.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",r,this),i=e.get("tagName",r,t),a=this.toFormattedString(e),o={},s=e.get("className",r,t),l=e.get("target",r,t),u=e.get("rel",r,t),c=e.getObj("attributes",r,t),f=e.getObj("events",r,t);return o.href=n,s&&(o.class=s),l&&(o.target=l),u&&(o.rel=u),c&&Xn(o,c),{tagName:i,attributes:o,content:a,eventListeners:f}}};function bs(e,t){class r extends Kv{constructor(i,a){super(i,a),this.t=e}}for(const n in t)r.prototype[n]=t[n];return r.t=e,r}const Cf=bs("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Df=bs("text"),yw=bs("nl"),Va=bs("url",{isLink:!0,toHref(e=aa.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==ia&&e[1].t===Ar}}),Ie=e=>new we(e);function ww({groups:e}){const t=e.domain.concat([Po,Lo,Mr,No,Bo,zo,Fo,Ho,Le,qu,Ii,Go,$o,Wo,nr,Vo,Ni,jo]),r=[Io,Ar,Yu,rr,Xu,Ii,Li,Ku,Zu,_o,So,Ri,Pi,wo,yo,xo,Eo,Co,Do,To,Oo,Mo,Ao,ko,Ro],n=[Po,Io,Lo,No,Bo,zo,Fo,Ho,Le,Ri,Pi,Ii,Go,$o,Wo,Li,nr,Vo,Ni,jo],i=Ie(),a=q(i,Ni);_t(a,n,a),_t(a,e.domain,a);const o=Ie(),s=Ie(),l=Ie();_t(i,e.domain,o),_t(i,e.scheme,s),_t(i,e.slashscheme,l),_t(o,n,a),_t(o,e.domain,o);const u=q(o,Mr);q(a,Mr,u),q(s,Mr,u),q(l,Mr,u);const c=q(a,rr);_t(c,n,a),_t(c,e.domain,a);const f=Ie();_t(u,e.domain,f),_t(f,e.domain,f);const d=q(f,rr);_t(d,e.domain,f);const p=Ie(Cf);_t(d,e.tld,p),_t(d,e.utld,p),q(u,ia,p);const v=q(f,Le);q(v,Le,v),_t(v,e.domain,f),_t(p,e.domain,f),q(p,rr,d),q(p,Le,v);const h=q(p,Ar);_t(h,e.numeric,Cf);const g=q(o,Le),m=q(o,rr);q(g,Le,g),_t(g,e.domain,o),_t(m,n,a),_t(m,e.domain,o);const y=Ie(Va);_t(m,e.tld,y),_t(m,e.utld,y),_t(y,e.domain,o),_t(y,n,a),q(y,rr,m),q(y,Le,g),q(y,Mr,u);const E=q(y,Ar),b=Ie(Va);_t(E,e.numeric,b);const _=Ie(Va),w=Ie();_t(_,t,_),_t(_,r,w),_t(w,t,_),_t(w,r,w),q(y,nr,_),q(b,nr,_);const x=q(s,Ar),S=q(l,Ar),T=q(S,nr),O=q(T,nr);_t(s,e.domain,o),q(s,rr,m),q(s,Le,g),_t(l,e.domain,o),q(l,rr,m),q(l,Le,g),_t(x,e.domain,_),q(x,nr,_),q(x,Li,_),_t(O,e.domain,_),_t(O,t,_),q(O,nr,_);const R=[[Ri,Pi],[yo,wo],[xo,Eo],[_o,So],[Co,Do],[To,Oo],[Mo,Ao],[ko,Ro]];for(let M=0;M<R.length;M++){const[C,D]=R[M],A=q(_,C);q(w,C,A),q(A,D,_);const k=Ie(Va);_t(A,t,k);const L=Ie();_t(A,r),_t(k,t,k),_t(k,r,L),_t(L,t,k),_t(L,r,L),q(k,D,_),q(L,D,_)}return q(i,ia,y),q(i,Uu,yw),{start:i,tokens:Yv}}function xw(e,t,r){let n=r.length,i=0,a=[],o=[];for(;i<n;){let s=e,l=null,u=null,c=0,f=null,d=-1;for(;i<n&&!(l=s.go(r[i].t));)o.push(r[i++]);for(;i<n&&(u=l||s.go(r[i].t));)l=null,s=u,s.accepts()?(d=0,f=s):d>=0&&d++,i++,c++;if(d<0)i-=c,i<n&&(o.push(r[i]),i++);else{o.length>0&&(a.push(Xs(Df,t,o)),o=[]),i-=d,c-=d;const p=f.t,v=r.slice(i-c,i);a.push(Xs(p,t,v))}}return o.length>0&&a.push(Xs(Df,t,o)),a}function Xs(e,t,r){const n=r[0].s,i=r[r.length-1].e,a=t.slice(n,i);return new e(a,r)}const Ew=typeof console<"u"&&console&&console.warn||(()=>{}),_w="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",jt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Sw(){return we.groups={},jt.scanner=null,jt.parser=null,jt.tokenQueue=[],jt.pluginQueue=[],jt.customSchemes=[],jt.initialized=!1,jt}function Tf(e,t=!1){if(jt.initialized&&Ew(`linkifyjs: already initialized - will not register custom scheme "${e}" ${_w}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);jt.customSchemes.push([e,t])}function Cw(){jt.scanner=mw(jt.customSchemes);for(let e=0;e<jt.tokenQueue.length;e++)jt.tokenQueue[e][1]({scanner:jt.scanner});jt.parser=ww(jt.scanner.tokens);for(let e=0;e<jt.pluginQueue.length;e++)jt.pluginQueue[e][1]({scanner:jt.scanner,parser:jt.parser});return jt.initialized=!0,jt}function Qu(e){return jt.initialized||Cw(),xw(jt.parser.start,e,Xv(jt.scanner.start,e))}Qu.scan=Xv;function Zv(e,t=null,r=null){if(t&&typeof t=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);r=t,t=null}const n=new Ju(r),i=Qu(e),a=[];for(let o=0;o<i.length;o++){const s=i[o];s.isLink&&(!t||s.t===t)&&n.check(s)&&a.push(s.toFormattedObject(n))}return a}function Dw(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function Tw(e){return new bn({key:new yn("autolink"),appendTransaction:(t,r,n)=>{const i=t.some(u=>u.docChanged)&&!r.doc.eq(n.doc),a=t.some(u=>u.getMeta("preventAutolink"));if(!i||a)return;const{tr:o}=n,s=fg(r.doc,[...t]);if(dg(s).forEach(({newRange:u})=>{const c=pg(n.doc,u,p=>p.isTextblock);let f,d;if(c.length>1?(f=c[0],d=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ")):c.length&&n.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(f=c[0],d=n.doc.textBetween(f.pos,u.to,void 0," ")),f&&d){const p=d.split(" ").filter(m=>m!=="");if(p.length<=0)return!1;const v=p[p.length-1],h=f.pos+d.lastIndexOf(v);if(!v)return!1;const g=Qu(v).map(m=>m.toObject(e.defaultProtocol));if(!Dw(g))return!1;g.filter(m=>m.isLink).map(m=>({...m,from:h+m.start+1,to:h+m.end+1})).filter(m=>n.schema.marks.code?!n.doc.rangeHasMark(m.from,m.to,n.schema.marks.code):!0).filter(m=>e.validate(m.value)).filter(m=>e.shouldAutoLink(m.value)).forEach(m=>{vg(m.from,m.to,n.doc).some(y=>y.mark.type===e.type)||o.addMark(m.from,m.to,e.type.create({href:m.href}))})}}),!!o.steps.length)return o}})}function Ow(e){return new bn({key:new yn("handleClickLink"),props:{handleClick:(t,r,n)=>{var i,a;if(n.button!==0||!t.editable)return!1;let o=n.target;const s=[];for(;o.nodeName!=="DIV";)s.push(o),o=o.parentNode;if(!s.find(d=>d.nodeName==="A"))return!1;const l=hg(t.state,e.type.name),u=n.target,c=(i=u==null?void 0:u.href)!==null&&i!==void 0?i:l.href,f=(a=u==null?void 0:u.target)!==null&&a!==void 0?a:l.target;return u&&c?(window.open(c,f),!0):!1}}})}function Mw(e){return new bn({key:new yn("handlePasteLink"),props:{handlePaste:(t,r,n)=>{const{state:i}=t,{selection:a}=i,{empty:o}=a;if(o)return!1;let s="";n.content.forEach(u=>{s+=u.textContent});const l=Zv(s,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===s);return!s||!l?!1:e.editor.commands.setMark(e.type,{href:l.href})}}})}const Aw=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Kr(e,t){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(n=>{const i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!e||e.replace(Aw,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const kw=ns.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){Tf(e);return}Tf(e.scheme,e.optionalSlashes)})},onDestroy(){Sw()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Kr(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:r=>!!Kr(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Kr(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Fr(this.options.HTMLAttributes,e),0]:["a",Fr(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Kr(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Kr(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Pd({find:e=>{const t=[];if(e){const{protocols:r,defaultProtocol:n}=this.options,i=Zv(e).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:o=>!!Kr(o,r),protocols:r,defaultProtocol:n}));i.length&&i.forEach(a=>t.push({text:a.value,data:{href:a.href},index:a.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:r}=this.options;return this.options.autolink&&e.push(Tw({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:i=>!!Kr(i,t),protocols:t,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(Ow({type:this.type})),this.options.linkOnPaste&&e.push(Mw({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),Rw=is.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new bn({key:new yn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=t,i=[];if(!r)return null;const a=e.type.createAndFill(),o=(a==null?void 0:a.sameMarkup(e))&&a.content.findDiffStart(e.content)===null;return e.descendants((s,l)=>{const u=n>=l&&n<=l+s.nodeSize,c=!s.isLeaf&&!s.childCount;if((u||!this.options.showOnlyCurrent)&&c){const f=[this.options.emptyNodeClass];o&&f.push(this.options.emptyEditorClass);const d=au.node(l,l+s.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:l,hasAnchor:u}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),ou.create(e,i)}}})]}}),Pw=/^\s*(\[([( |x])?\])\s$/,Iw=iu.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Fr(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:r,editor:n})=>{const i=document.createElement("li"),a=document.createElement("label"),o=document.createElement("span"),s=document.createElement("input"),l=document.createElement("div");return a.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",u=>u.preventDefault()),s.addEventListener("change",u=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){s.checked=!s.checked;return}const{checked:c}=u.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const d=r();if(typeof d!="number")return!1;const p=f.doc.nodeAt(d);return f.setNodeMarkup(d,void 0,{...p==null?void 0:p.attrs,checked:c}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,c)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,c])=>{i.setAttribute(u,c)}),i.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,a.append(s,o),i.append(a,l),Object.entries(t).forEach(([u,c])=>{i.setAttribute(u,c)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,s.checked=u.attrs.checked,!0)}}},addInputRules(){return[gg({find:Pw,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),Lw=iu.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Fr(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Nw=ns.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Fr(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Of(e){function t(r){return r(e),()=>{}}return{subscribe:t}}const qa=e=>new Proxy(e,{get(t,r,n){return Reflect.get(t,r,n)},ownKeys(t){return Reflect.ownKeys(t).filter(r=>r!=="action")}}),Mf=e=>typeof e=="function";function Pr(e,t){const{stores:r,action:n,returned:i}=t??{},a=(()=>{if(r&&i)return fa(r,s=>{const l=i(s);if(Mf(l)){const u=(...c)=>qa({...l(...c),[`data-melt-${e}`]:"",action:n??Ne});return u.action=n??Ne,u}return qa({...l,[`data-melt-${e}`]:"",action:n??Ne})});{const s=i,l=s==null?void 0:s();if(Mf(l)){const u=(...c)=>qa({...l(...c),[`data-melt-${e}`]:"",action:n??Ne});return u.action=n??Ne,Of(u)}return Of(qa({...l,[`data-melt-${e}`]:"",action:n??Ne}))}})(),o=n??(()=>{});return o.subscribe=a.subscribe,o}function Jv(e){const t=a=>a?`${e}-${a}`:e,r=a=>`data-melt-${e}${a?`-${a}`:""}`,n=a=>`[data-melt-${e}${a?`-${a}`:""}]`;return{name:t,attribute:r,selector:n,getEl:a=>document.querySelector(n(a))}}const Af=typeof document<"u",Qv=e=>typeof e=="function";function Wr(e){return e instanceof HTMLElement}function kf(e){return e.pointerType==="touch"}function oa(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}function Ne(){}function th(e,t,r,n){const i=Array.isArray(t)?t:[t];return i.forEach(a=>e.addEventListener(a,r,n)),()=>{i.forEach(a=>e.removeEventListener(a,r,n))}}function Ir(e,t,r,n){const i=Array.isArray(t)?t:[t];if(typeof r=="function"){const a=zw(o=>r(o));return i.forEach(o=>e.addEventListener(o,a,n)),()=>{i.forEach(o=>e.removeEventListener(o,a,n))}}return()=>void 0}function Bw(e){const t=e.currentTarget;if(!Wr(t))return null;const r=new CustomEvent(`m-${e.type}`,{detail:{originalEvent:e},cancelable:!0});return t.dispatchEvent(r),r}function zw(e){return t=>{const r=Bw(t);if(!(r!=null&&r.defaultPrevented))return e(t)}}function Fw(e,...t){const r={};for(const n of Object.keys(e))t.includes(n)||(r[n]=e[n]);return r}const Hw=(e,t)=>{const r=(i,a)=>{e.update(o=>{const s=i(o);let l=s;return t&&(l=t({curr:o,next:s})),a==null||a(l),l})};return{...e,update:r,set:i=>{r(()=>i)}}};function Rf(e){return Object.keys(e).reduce((t,r)=>e[r]===void 0?t:t+`${r}:${e[r]};`,"")}let Gw="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",$w=(e=21)=>{let t="",r=e;for(;r--;)t+=Gw[Math.random()*64|0];return t};function Bi(){return $w(10)}const ln={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control"},eh=()=>typeof window<"u";function Ww(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}const rh=e=>eh()&&e.test(Ww()),jw=()=>eh()&&!!navigator.maxTouchPoints,Vw=()=>rh(/^Mac/)&&!jw(),qw=()=>rh(/mac|iphone|ipad|ipod/i),Uw=()=>qw()&&!Vw(),Ks="data-melt-scroll-lock";function Pf(e,t){if(!e)return;const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Yw(e,t,r){if(!e)return;const n=e.style.getPropertyValue(t);return e.style.setProperty(t,r),()=>{n?e.style.setProperty(t,n):e.style.removeProperty(t)}}function Xw(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Kw(e){const t=e??document,r=t.defaultView??window,{documentElement:n,body:i}=t;if(i.hasAttribute(Ks))return Ne;i.setAttribute(Ks,"");const o=r.innerWidth-n.clientWidth,s=()=>Yw(n,"--scrollbar-width",`${o}px`),l=Xw(n),u=r.getComputedStyle(i)[l],c=()=>Pf(i,{overflow:"hidden",[l]:`calc(${u} + ${o}px)`}),f=()=>{const{scrollX:p,scrollY:v,visualViewport:h}=r,g=(h==null?void 0:h.offsetLeft)??0,m=(h==null?void 0:h.offsetTop)??0,y=Pf(i,{position:"fixed",overflow:"hidden",top:`${-(v-Math.floor(m))}px`,left:`${-(p-Math.floor(g))}px`,right:"0",[l]:`calc(${u} + ${o}px)`});return()=>{y==null||y(),r.scrollTo(p,v)}},d=[s(),Uw()?f():c()];return()=>{d.forEach(p=>p==null?void 0:p()),i.removeAttribute(Ks)}}function Zw(e){const{open:t,forceVisible:r,activeTrigger:n}=e;return fa([t,r,n],([i,a,o])=>(i||a)&&o!==null)}function Jw(e,t){let r=[];const n=s=>{r.push(s)},i=()=>{r.forEach(s=>s()),r=[]},a=fa(e,s=>(i(),t(s,n)));return ei(i),{...a,subscribe:(...s)=>{const l=a.subscribe(...s);return()=>{l(),i()}}}}function If(e,t){const r=Jw(e,(n,i)=>({stores:n,onUnsubscribe:i})).subscribe(({stores:n,onUnsubscribe:i})=>{const a=t(n);a&&i(a)});return ei(r),r}function nh(e){const t={};return Object.keys(e).forEach(r=>{const n=r,i=e[n];t[n]=xe(i)}),t}function Qw(e){let t=e.parentElement;for(;Wr(t)&&!t.hasAttribute("data-portal");)t=t.parentElement;return t||"body"}function tx(e,t){const r=Qw(e);return t!==void 0?t:r==="body"?document.body:null}const ex=Rd(void 0,e=>{function t(n){e(n),e(void 0)}return th(document,"pointerdown",t,{passive:!1,capture:!0})}),rx=(e,t={})=>{let r={enabled:!0,...t};function n(){return typeof r.enabled=="boolean"?r.enabled:Fn(r.enabled)}const i=ex.subscribe(a=>{var s;if(!n()||!a||a.target===e)return;const o=a.composedPath();if(!o.includes(e)){if(r.ignore){if(Qv(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(l=>l&&(a.target===l||o.includes(l))))return}(s=r.handler)==null||s.call(r,a)}});return{update(a){r={...r,...a}},destroy(){i()}}},nx=Rd(void 0,e=>{function t(n){n&&n.key===ln.ESCAPE&&e(n),e(void 0)}return th(document,"keydown",t,{passive:!1,capture:!0})}),ix=(e,t={})=>{e.dataset.escapee="";let r={enabled:!0,...t};function n(){return typeof r.enabled=="boolean"?r.enabled:Fn(r.enabled)}const i=nx.subscribe(a=>{var s;if(!a||!n())return;const o=a.target;if(!(!Wr(o)||o.closest("[data-escapee]")!==e)){if(r.ignore){if(Qv(r.ignore)){if(r.ignore(a))return}else if(Array.isArray(r.ignore)&&r.ignore.length>0&&r.ignore.some(l=>l&&o===l))return}(s=r.handler)==null||s.call(r,a)}});return{update(a){r={...r,...a}},destroy(){e.removeAttribute("data-escapee"),i()}}},jr=Math.min,Ae=Math.max,qo=Math.round,Ua=Math.floor,sr=e=>({x:e,y:e}),ax={left:"right",right:"left",bottom:"top",top:"bottom"},ox={start:"end",end:"start"};function Ul(e,t,r){return Ae(e,jr(t,r))}function si(e,t){return typeof e=="function"?e(t):e}function Vr(e){return e.split("-")[0]}function li(e){return e.split("-")[1]}function ih(e){return e==="x"?"y":"x"}function tc(e){return e==="y"?"height":"width"}function mr(e){return["top","bottom"].includes(Vr(e))?"y":"x"}function ec(e){return ih(mr(e))}function sx(e,t,r){r===void 0&&(r=!1);const n=li(e),i=ec(e),a=tc(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Uo(o)),[o,Uo(o)]}function lx(e){const t=Uo(e);return[Yl(e),t,Yl(t)]}function Yl(e){return e.replace(/start|end/g,t=>ox[t])}function ux(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:o;default:return[]}}function cx(e,t,r,n){const i=li(e);let a=ux(Vr(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Yl)))),a}function Uo(e){return e.replace(/left|right|bottom|top/g,t=>ax[t])}function fx(e){return{top:0,right:0,bottom:0,left:0,...e}}function ah(e){return typeof e!="number"?fx(e):{top:e,right:e,bottom:e,left:e}}function Yo(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Lf(e,t,r){let{reference:n,floating:i}=e;const a=mr(t),o=ec(t),s=tc(o),l=Vr(t),u=a==="y",c=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:c,y:n.y-i.height};break;case"bottom":p={x:c,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(li(t)){case"start":p[o]-=d*(r&&u?-1:1);break;case"end":p[o]+=d*(r&&u?-1:1);break}return p}const dx=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Lf(u,n,l),d=n,p={},v=0;for(let h=0;h<s.length;h++){const{name:g,fn:m}=s[h],{x:y,y:E,data:b,reset:_}=await m({x:c,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});c=y??c,f=E??f,p={...p,[g]:{...p[g],...b}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:c,y:f}=Lf(u,d,l)),h=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:p}};async function rc(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=si(t,e),v=ah(p),g=s[d?f==="floating"?"reference":"floating":f],m=Yo(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),b=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},_=Yo(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:E,strategy:l}):y);return{top:(m.top-_.top+v.top)/b.y,bottom:(_.bottom-m.bottom+v.bottom)/b.y,left:(m.left-_.left+v.left)/b.x,right:(_.right-m.right+v.right)/b.x}}const px=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=si(e,t)||{};if(u==null)return{};const f=ah(c),d={x:r,y:n},p=ec(i),v=tc(p),h=await o.getDimensions(u),g=p==="y",m=g?"top":"left",y=g?"bottom":"right",E=g?"clientHeight":"clientWidth",b=a.reference[v]+a.reference[p]-d[p]-a.floating[v],_=d[p]-a.reference[p],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let x=w?w[E]:0;(!x||!await(o.isElement==null?void 0:o.isElement(w)))&&(x=s.floating[E]||a.floating[v]);const S=b/2-_/2,T=x/2-h[v]/2-1,O=jr(f[m],T),R=jr(f[y],T),M=O,C=x-h[v]-R,D=x/2-h[v]/2+S,A=Ul(M,D,C),k=!l.arrow&&li(i)!=null&&D!==A&&a.reference[v]/2-(D<M?O:R)-h[v]/2<0,L=k?D<M?D-M:D-C:0;return{[p]:d[p]+L,data:{[p]:A,centerOffset:D-A-L,...k&&{alignmentOffset:L}},reset:k}}}),vx=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:h=!0,...g}=si(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const m=Vr(i),y=mr(s),E=Vr(s)===s,b=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=d||(E||!h?[Uo(s)]:lx(s)),w=v!=="none";!d&&w&&_.push(...cx(s,h,v,b));const x=[s,..._],S=await rc(t,g),T=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(c&&T.push(S[m]),f){const D=sx(i,o,b);T.push(S[D[0]],S[D[1]])}if(O=[...O,{placement:i,overflows:T}],!T.every(D=>D<=0)){var R,M;const D=(((R=a.flip)==null?void 0:R.index)||0)+1,A=x[D];if(A&&(!(f==="alignment"?y!==mr(A):!1)||O.every(N=>N.overflows[0]>0&&mr(N.placement)===y)))return{data:{index:D,overflows:O},reset:{placement:A}};let k=(M=O.filter(L=>L.overflows[0]<=0).sort((L,N)=>L.overflows[1]-N.overflows[1])[0])==null?void 0:M.placement;if(!k)switch(p){case"bestFit":{var C;const L=(C=O.filter(N=>{if(w){const B=mr(N.placement);return B===y||B==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(B=>B>0).reduce((B,H)=>B+H,0)]).sort((N,B)=>N[1]-B[1])[0])==null?void 0:C[0];L&&(k=L);break}case"initialPlacement":k=s;break}if(i!==k)return{reset:{placement:k}}}return{}}}};async function hx(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Vr(r),s=li(r),l=mr(r)==="y",u=["left","top"].includes(o)?-1:1,c=a&&l?-1:1,f=si(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof v=="number"&&(p=s==="end"?v*-1:v),l?{x:p*c,y:d*u}:{x:d*u,y:p*c}}const gx=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await hx(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},mx=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:m,y}=g;return{x:m,y}}},...l}=si(e,t),u={x:r,y:n},c=await rc(t,l),f=mr(Vr(i)),d=ih(f);let p=u[d],v=u[f];if(a){const g=d==="y"?"top":"left",m=d==="y"?"bottom":"right",y=p+c[g],E=p-c[m];p=Ul(y,p,E)}if(o){const g=f==="y"?"top":"left",m=f==="y"?"bottom":"right",y=v+c[g],E=v-c[m];v=Ul(y,v,E)}const h=s.fn({...t,[d]:p,[f]:v});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[d]:a,[f]:o}}}}}},bx=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...u}=si(e,t),c=await rc(t,u),f=Vr(i),d=li(i),p=mr(i)==="y",{width:v,height:h}=a.floating;let g,m;f==="top"||f==="bottom"?(g=f,m=d===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(m=f,g=d==="end"?"top":"bottom");const y=h-c.top-c.bottom,E=v-c.left-c.right,b=jr(h-c[g],y),_=jr(v-c[m],E),w=!t.middlewareData.shift;let x=b,S=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(x=y),w&&!d){const O=Ae(c.left,0),R=Ae(c.right,0),M=Ae(c.top,0),C=Ae(c.bottom,0);p?S=v-2*(O!==0||R!==0?O+R:Ae(c.left,c.right)):x=h-2*(M!==0||C!==0?M+C:Ae(c.top,c.bottom))}await l({...t,availableWidth:S,availableHeight:x});const T=await o.getDimensions(s.floating);return v!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function ys(){return typeof window<"u"}function ui(e){return oh(e)?(e.nodeName||"").toLowerCase():"#document"}function ke(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pr(e){var t;return(t=(oh(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oh(e){return ys()?e instanceof Node||e instanceof ke(e).Node:!1}function Qe(e){return ys()?e instanceof Element||e instanceof ke(e).Element:!1}function cr(e){return ys()?e instanceof HTMLElement||e instanceof ke(e).HTMLElement:!1}function Nf(e){return!ys()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ke(e).ShadowRoot}function _a(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function yx(e){return["table","td","th"].includes(ui(e))}function ws(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function nc(e){const t=ic(),r=Qe(e)?tr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function wx(e){let t=qr(e);for(;cr(t)&&!Kn(t);){if(nc(t))return t;if(ws(t))return null;t=qr(t)}return null}function ic(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kn(e){return["html","body","#document"].includes(ui(e))}function tr(e){return ke(e).getComputedStyle(e)}function xs(e){return Qe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qr(e){if(ui(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Nf(e)&&e.host||pr(e);return Nf(t)?t.host:t}function sh(e){const t=qr(e);return Kn(t)?e.ownerDocument?e.ownerDocument.body:e.body:cr(t)&&_a(t)?t:sh(t)}function sa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=sh(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=ke(i);if(a){const s=Xl(o);return t.concat(o,o.visualViewport||[],_a(i)?i:[],s&&r?sa(s):[])}return t.concat(i,sa(i,[],r))}function Xl(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lh(e){const t=tr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=cr(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=qo(r)!==a||qo(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function ac(e){return Qe(e)?e:e.contextElement}function zn(e){const t=ac(e);if(!cr(t))return sr(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=lh(t);let o=(a?qo(r.width):r.width)/n,s=(a?qo(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const xx=sr(0);function uh(e){const t=ke(e);return!ic()||!t.visualViewport?xx:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ex(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ke(e)?!1:t}function hn(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=ac(e);let o=sr(1);t&&(n?Qe(n)&&(o=zn(n)):o=zn(e));const s=Ex(a,r,n)?uh(a):sr(0);let l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(a){const d=ke(a),p=n&&Qe(n)?ke(n):n;let v=d,h=Xl(v);for(;h&&n&&p!==v;){const g=zn(h),m=h.getBoundingClientRect(),y=tr(h),E=m.left+(h.clientLeft+parseFloat(y.paddingLeft))*g.x,b=m.top+(h.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,f*=g.y,l+=E,u+=b,v=ke(h),h=Xl(v)}}return Yo({width:c,height:f,x:l,y:u})}function oc(e,t){const r=xs(e).scrollLeft;return t?t.left+r:hn(pr(e)).left+r}function ch(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:oc(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function _x(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=pr(n),s=t?ws(t.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},u=sr(1);const c=sr(0),f=cr(n);if((f||!f&&!a)&&((ui(n)!=="body"||_a(o))&&(l=xs(n)),cr(n))){const p=hn(n);u=zn(n),c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}const d=o&&!f&&!a?ch(o,l,!0):sr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:r.y*u.y-l.scrollTop*u.y+c.y+d.y}}function Sx(e){return Array.from(e.getClientRects())}function Cx(e){const t=pr(e),r=xs(e),n=e.ownerDocument.body,i=Ae(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ae(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+oc(e);const s=-r.scrollTop;return tr(n).direction==="rtl"&&(o+=Ae(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function Dx(e,t){const r=ke(e),n=pr(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const u=ic();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function Tx(e,t){const r=hn(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=cr(e)?zn(e):sr(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:o,height:s,x:l,y:u}}function Bf(e,t,r){let n;if(t==="viewport")n=Dx(e,r);else if(t==="document")n=Cx(pr(e));else if(Qe(t))n=Tx(t,r);else{const i=uh(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Yo(n)}function fh(e,t){const r=qr(e);return r===t||!Qe(r)||Kn(r)?!1:tr(r).position==="fixed"||fh(r,t)}function Ox(e,t){const r=t.get(e);if(r)return r;let n=sa(e,[],!1).filter(s=>Qe(s)&&ui(s)!=="body"),i=null;const a=tr(e).position==="fixed";let o=a?qr(e):e;for(;Qe(o)&&!Kn(o);){const s=tr(o),l=nc(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||_a(o)&&!l&&fh(e,o))?n=n.filter(c=>c!==o):i=s,o=qr(o)}return t.set(e,n),n}function Mx(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?ws(t)?[]:Ox(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,c)=>{const f=Bf(t,c,i);return u.top=Ae(f.top,u.top),u.right=jr(f.right,u.right),u.bottom=jr(f.bottom,u.bottom),u.left=Ae(f.left,u.left),u},Bf(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ax(e){const{width:t,height:r}=lh(e);return{width:t,height:r}}function kx(e,t,r){const n=cr(t),i=pr(t),a=r==="fixed",o=hn(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=sr(0);function u(){l.x=oc(i)}if(n||!n&&!a)if((ui(t)!=="body"||_a(i))&&(s=xs(t)),n){const p=hn(t,!0,a,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&u();a&&!n&&i&&u();const c=i&&!n&&!a?ch(i,s):sr(0),f=o.left+s.scrollLeft-l.x-c.x,d=o.top+s.scrollTop-l.y-c.y;return{x:f,y:d,width:o.width,height:o.height}}function Zs(e){return tr(e).position==="static"}function zf(e,t){if(!cr(e)||tr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return pr(e)===r&&(r=r.ownerDocument.body),r}function dh(e,t){const r=ke(e);if(ws(e))return r;if(!cr(e)){let i=qr(e);for(;i&&!Kn(i);){if(Qe(i)&&!Zs(i))return i;i=qr(i)}return r}let n=zf(e,t);for(;n&&yx(n)&&Zs(n);)n=zf(n,t);return n&&Kn(n)&&Zs(n)&&!nc(n)?r:n||wx(e)||r}const Rx=async function(e){const t=this.getOffsetParent||dh,r=this.getDimensions,n=await r(e.floating);return{reference:kx(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Px(e){return tr(e).direction==="rtl"}const Ix={convertOffsetParentRelativeRectToViewportRelativeRect:_x,getDocumentElement:pr,getClippingRect:Mx,getOffsetParent:dh,getElementRects:Rx,getClientRects:Sx,getDimensions:Ax,getScale:zn,isElement:Qe,isRTL:Px};function ph(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Lx(e,t){let r=null,n;const i=pr(e);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const u=e.getBoundingClientRect(),{left:c,top:f,width:d,height:p}=u;if(s||t(),!d||!p)return;const v=Ua(f),h=Ua(i.clientWidth-(c+d)),g=Ua(i.clientHeight-(f+p)),m=Ua(c),E={rootMargin:-v+"px "+-h+"px "+-g+"px "+-m+"px",threshold:Ae(0,jr(1,l))||1};let b=!0;function _(w){const x=w[0].intersectionRatio;if(x!==l){if(!b)return o();x?o(!1,x):n=setTimeout(()=>{o(!1,1e-7)},1e3)}x===1&&!ph(u,e.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver(_,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,E)}r.observe(e)}return o(!0),a}function Nx(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=ac(e),c=i||a?[...u?sa(u):[],...sa(t)]:[];c.forEach(m=>{i&&m.addEventListener("scroll",r,{passive:!0}),a&&m.addEventListener("resize",r)});const f=u&&s?Lx(u,r):null;let d=-1,p=null;o&&(p=new ResizeObserver(m=>{let[y]=m;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(t)})),r()}),u&&!l&&p.observe(u),p.observe(t));let v,h=l?hn(e):null;l&&g();function g(){const m=hn(e);h&&!ph(h,m)&&r(),h=m,v=requestAnimationFrame(g)}return r(),()=>{var m;c.forEach(y=>{i&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(m=p)==null||m.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const Bx=gx,zx=mx,Fx=vx,Hx=bx,Gx=px,$x=(e,t,r)=>{const n=new Map,i={platform:Ix,...r},a={...i.platform,_c:n};return dx(e,t,{...i,platform:a})},Wx={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},jx={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Vx(e,t,r={}){if(!t||!e)return{destroy:Ne};const n={...Wx,...r},i=t.querySelector("[data-arrow=true]"),a=[];n.flip&&a.push(Fx({boundary:n.boundary,padding:n.overflowPadding}));const o=Wr(i)?i.offsetHeight/2:0;if(n.gutter||n.offset){const l=n.gutter?{mainAxis:n.gutter}:n.offset;(l==null?void 0:l.mainAxis)!=null&&(l.mainAxis+=o),a.push(Bx(l))}a.push(zx({boundary:n.boundary,crossAxis:n.overlap,padding:n.overflowPadding})),i&&a.push(Gx({element:i,padding:8})),a.push(Hx({padding:n.overflowPadding,apply({rects:l,availableHeight:u,availableWidth:c}){n.sameWidth&&Object.assign(t.style,{width:`${Math.round(l.reference.width)}px`,minWidth:"unset"}),n.fitViewport&&Object.assign(t.style,{maxWidth:`${c}px`,maxHeight:`${u}px`})}}));function s(){if(!e||!t)return;const{placement:l,strategy:u}=n;$x(e,t,{placement:l,middleware:a,strategy:u}).then(c=>{const f=Math.round(c.x),d=Math.round(c.y);if(Object.assign(t.style,{position:n.strategy,top:`${d}px`,left:`${f}px`}),Wr(i)&&c.middlewareData.arrow){const{x:p,y:v}=c.middlewareData.arrow,h=c.placement.split("-")[0];Object.assign(i.style,{position:"absolute",left:p!=null?`${p}px`:"",top:v!=null?`${v}px`:"",[h]:`calc(100% - ${o}px)`,transform:jx[h],backgroundColor:"inherit",zIndex:"inherit"})}return c})}return Object.assign(t.style,{position:n.strategy}),{destroy:Nx(e,t,s)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var vh=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Xo=vh.join(","),hh=typeof Element>"u",gn=hh?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ko=!hh&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Zo=function e(t,r){var n;r===void 0&&(r=!0);var i=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),a=i===""||i==="true",o=a||r&&t&&e(t.parentNode);return o},qx=function(t){var r,n=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return n===""||n==="true"},gh=function(t,r,n){if(Zo(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(Xo));return r&&gn.call(t,Xo)&&i.unshift(t),i=i.filter(n),i},mh=function e(t,r,n){for(var i=[],a=Array.from(t);a.length;){var o=a.shift();if(!Zo(o,!1))if(o.tagName==="SLOT"){var s=o.assignedElements(),l=s.length?s:o.children,u=e(l,!0,n);n.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else{var c=gn.call(o,Xo);c&&n.filter(o)&&(r||!t.includes(o))&&i.push(o);var f=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),d=!Zo(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(f&&d){var p=e(f===!0?o.children:f.children,!0,n);n.flatten?i.push.apply(i,p):i.push({scopeParent:o,candidates:p})}else a.unshift.apply(a,o.children)}}return i},bh=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},nn=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||qx(t))&&!bh(t)?0:t.tabIndex},Ux=function(t,r){var n=nn(t);return n<0&&r&&!bh(t)?0:n},Yx=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},yh=function(t){return t.tagName==="INPUT"},Xx=function(t){return yh(t)&&t.type==="hidden"},Kx=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return r},Zx=function(t,r){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===r)return t[n]},Jx=function(t){if(!t.name)return!0;var r=t.form||Ko(t),n=function(s){return r.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(t.name));else try{i=n(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var a=Zx(i,t.form);return!a||a===t},Qx=function(t){return yh(t)&&t.type==="radio"},tE=function(t){return Qx(t)&&!Jx(t)},eE=function(t){var r,n=t&&Ko(t),i=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==t){var o,s,l;for(a=!!((o=i)!==null&&o!==void 0&&(s=o.ownerDocument)!==null&&s!==void 0&&s.contains(i)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!a&&i;){var u,c,f;n=Ko(i),i=(u=n)===null||u===void 0?void 0:u.host,a=!!((c=i)!==null&&c!==void 0&&(f=c.ownerDocument)!==null&&f!==void 0&&f.contains(i))}}return a},Ff=function(t){var r=t.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},rE=function(t,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var a=gn.call(t,"details>summary:first-of-type"),o=a?t.parentElement:t;if(gn.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var s=t;t;){var l=t.parentElement,u=Ko(t);if(l&&!l.shadowRoot&&i(l)===!0)return Ff(t);t.assignedSlot?t=t.assignedSlot:!l&&u!==t.ownerDocument?t=u.host:t=l}t=s}if(eE(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Ff(t);return!1},nE=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return gn.call(r,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}r=r.parentElement}return!1},Jo=function(t,r){return!(r.disabled||Zo(r)||Xx(r)||rE(r,t)||Kx(r)||nE(r))},Kl=function(t,r){return!(tE(r)||nn(r)<0||!Jo(t,r))},iE=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},aE=function e(t){var r=[],n=[];return t.forEach(function(i,a){var o=!!i.scopeParent,s=o?i.scopeParent:i,l=Ux(s,o),u=o?e(i.candidates):s;l===0?o?r.push.apply(r,u):r.push(s):n.push({documentOrder:a,tabIndex:l,item:i,isScope:o,content:u})}),n.sort(Yx).reduce(function(i,a){return a.isScope?i.push.apply(i,a.content):i.push(a.content),i},[]).concat(r)},oE=function(t,r){r=r||{};var n;return r.getShadowRoot?n=mh([t],r.includeContainer,{filter:Kl.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:iE}):n=gh(t,r.includeContainer,Kl.bind(null,r)),aE(n)},sE=function(t,r){r=r||{};var n;return r.getShadowRoot?n=mh([t],r.includeContainer,{filter:Jo.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=gh(t,r.includeContainer,Jo.bind(null,r)),n},Tn=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return gn.call(t,Xo)===!1?!1:Kl(r,t)},lE=vh.concat("iframe").join(","),Js=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return gn.call(t,lE)===!1?!1:Jo(r,t)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Zl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function uE(e){if(Array.isArray(e))return Zl(e)}function cE(e,t,r){return(t=hE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hf(Object(r),!0).forEach(function(n){cE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pE(e){return uE(e)||fE(e)||gE(e)||dE()}function vE(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hE(e){var t=vE(e,"string");return typeof t=="symbol"?t:t+""}function gE(e,t){if(e){if(typeof e=="string")return Zl(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zl(e,t):void 0}}var $f={activateTrap:function(t,r){if(t.length>0){var n=t[t.length-1];n!==r&&n._setPausedState(!0)}var i=t.indexOf(r);i===-1||t.splice(i,1),t.push(r)},deactivateTrap:function(t,r){var n=t.indexOf(r);n!==-1&&t.splice(n,1),t.length>0&&!t[t.length-1]._isManuallyPaused()&&t[t.length-1]._setPausedState(!1)}},mE=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},bE=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},zi=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},yE=function(t){return zi(t)&&!t.shiftKey},wE=function(t){return zi(t)&&t.shiftKey},Wf=function(t){return setTimeout(t,0)},bi=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,n):t},Ya=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},xE=[],EE=function(t,r){var n=(r==null?void 0:r.document)||document,i=(r==null?void 0:r.trapStack)||xE,a=Gf({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:yE,isKeyBackward:wE},r),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s,l=function(C,D,A){return C&&C[D]!==void 0?C[D]:a[A||D]},u=function(C,D){var A=typeof(D==null?void 0:D.composedPath)=="function"?D.composedPath():void 0;return o.containerGroups.findIndex(function(k){var L=k.container,N=k.tabbableNodes;return L.contains(C)||(A==null?void 0:A.includes(L))||N.find(function(B){return B===C})})},c=function(C){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=D.hasFallback,k=A===void 0?!1:A,L=D.params,N=L===void 0?[]:L,B=a[C];if(typeof B=="function"&&(B=B.apply(void 0,pE(N))),B===!0&&(B=void 0),!B){if(B===void 0||B===!1)return B;throw new Error("`".concat(C,"` was specified but was not a node, or did not return a node"))}var H=B;if(typeof B=="string"){try{H=n.querySelector(B)}catch(z){throw new Error("`".concat(C,'` appears to be an invalid selector; error="').concat(z.message,'"'))}if(!H&&!k)throw new Error("`".concat(C,"` as selector refers to no known node"))}return H},f=function(){var C=c("initialFocus",{hasFallback:!0});if(C===!1)return!1;if(C===void 0||C&&!Js(C,a.tabbableOptions))if(u(n.activeElement)>=0)C=n.activeElement;else{var D=o.tabbableGroups[0],A=D&&D.firstTabbableNode;C=A||c("fallbackFocus")}else C===null&&(C=c("fallbackFocus"));if(!C)throw new Error("Your focus-trap needs to have at least one focusable element");return C},d=function(){if(o.containerGroups=o.containers.map(function(C){var D=oE(C,a.tabbableOptions),A=sE(C,a.tabbableOptions),k=D.length>0?D[0]:void 0,L=D.length>0?D[D.length-1]:void 0,N=A.find(function(z){return Tn(z)}),B=A.slice().reverse().find(function(z){return Tn(z)}),H=!!D.find(function(z){return nn(z)>0});return{container:C,tabbableNodes:D,focusableNodes:A,posTabIndexesFound:H,firstTabbableNode:k,lastTabbableNode:L,firstDomTabbableNode:N,lastDomTabbableNode:B,nextTabbableNode:function(X){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,$=D.indexOf(X);return $<0?j?A.slice(A.indexOf(X)+1).find(function(K){return Tn(K)}):A.slice(0,A.indexOf(X)).reverse().find(function(K){return Tn(K)}):D[$+(j?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(C){return C.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(C){return C.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function(C){var D=C.activeElement;if(D)return D.shadowRoot&&D.shadowRoot.activeElement!==null?p(D.shadowRoot):D},v=function(C){if(C!==!1&&C!==p(document)){if(!C||!C.focus){v(f());return}C.focus({preventScroll:!!a.preventScroll}),o.mostRecentlyFocusedNode=C,mE(C)&&C.select()}},h=function(C){var D=c("setReturnFocus",{params:[C]});return D||(D===!1?!1:C)},g=function(C){var D=C.target,A=C.event,k=C.isBackward,L=k===void 0?!1:k;D=D||Ya(A),d();var N=null;if(o.tabbableGroups.length>0){var B=u(D,A),H=B>=0?o.containerGroups[B]:void 0;if(B<0)L?N=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:N=o.tabbableGroups[0].firstTabbableNode;else if(L){var z=o.tabbableGroups.findIndex(function(Z){var Q=Z.firstTabbableNode;return D===Q});if(z<0&&(H.container===D||Js(D,a.tabbableOptions)&&!Tn(D,a.tabbableOptions)&&!H.nextTabbableNode(D,!1))&&(z=B),z>=0){var X=z===0?o.tabbableGroups.length-1:z-1,j=o.tabbableGroups[X];N=nn(D)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else zi(A)||(N=H.nextTabbableNode(D,!1))}else{var $=o.tabbableGroups.findIndex(function(Z){var Q=Z.lastTabbableNode;return D===Q});if($<0&&(H.container===D||Js(D,a.tabbableOptions)&&!Tn(D,a.tabbableOptions)&&!H.nextTabbableNode(D))&&($=B),$>=0){var K=$===o.tabbableGroups.length-1?0:$+1,V=o.tabbableGroups[K];N=nn(D)>=0?V.firstTabbableNode:V.firstDomTabbableNode}else zi(A)||(N=H.nextTabbableNode(D))}}else N=c("fallbackFocus");return N},m=function(C){var D=Ya(C);if(!(u(D,C)>=0)){if(bi(a.clickOutsideDeactivates,C)){s.deactivate({returnFocus:a.returnFocusOnDeactivate});return}bi(a.allowOutsideClick,C)||C.preventDefault()}},y=function(C){var D=Ya(C),A=u(D,C)>=0;if(A||D instanceof Document)A&&(o.mostRecentlyFocusedNode=D);else{C.stopImmediatePropagation();var k,L=!0;if(o.mostRecentlyFocusedNode)if(nn(o.mostRecentlyFocusedNode)>0){var N=u(o.mostRecentlyFocusedNode),B=o.containerGroups[N].tabbableNodes;if(B.length>0){var H=B.findIndex(function(z){return z===o.mostRecentlyFocusedNode});H>=0&&(a.isKeyForward(o.recentNavEvent)?H+1<B.length&&(k=B[H+1],L=!1):H-1>=0&&(k=B[H-1],L=!1))}}else o.containerGroups.some(function(z){return z.tabbableNodes.some(function(X){return nn(X)>0})})||(L=!1);else L=!1;L&&(k=g({target:o.mostRecentlyFocusedNode,isBackward:a.isKeyBackward(o.recentNavEvent)})),v(k||o.mostRecentlyFocusedNode||f())}o.recentNavEvent=void 0},E=function(C){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=C;var A=g({event:C,isBackward:D});A&&(zi(C)&&C.preventDefault(),v(A))},b=function(C){(a.isKeyForward(C)||a.isKeyBackward(C))&&E(C,a.isKeyBackward(C))},_=function(C){bE(C)&&bi(a.escapeDeactivates,C)!==!1&&(C.preventDefault(),s.deactivate())},w=function(C){var D=Ya(C);u(D,C)>=0||bi(a.clickOutsideDeactivates,C)||bi(a.allowOutsideClick,C)||(C.preventDefault(),C.stopImmediatePropagation())},x=function(){if(o.active)return $f.activateTrap(i,s),o.delayInitialFocusTimer=a.delayInitialFocus?Wf(function(){v(f())}):v(f()),n.addEventListener("focusin",y,!0),n.addEventListener("mousedown",m,{capture:!0,passive:!1}),n.addEventListener("touchstart",m,{capture:!0,passive:!1}),n.addEventListener("click",w,{capture:!0,passive:!1}),n.addEventListener("keydown",b,{capture:!0,passive:!1}),n.addEventListener("keydown",_),s},S=function(){if(o.active)return n.removeEventListener("focusin",y,!0),n.removeEventListener("mousedown",m,!0),n.removeEventListener("touchstart",m,!0),n.removeEventListener("click",w,!0),n.removeEventListener("keydown",b,!0),n.removeEventListener("keydown",_),s},T=function(C){var D=C.some(function(A){var k=Array.from(A.removedNodes);return k.some(function(L){return L===o.mostRecentlyFocusedNode})});D&&v(f())},O=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(T):void 0,R=function(){O&&(O.disconnect(),o.active&&!o.paused&&o.containers.map(function(C){O.observe(C,{subtree:!0,childList:!0})}))};return s={get active(){return o.active},get paused(){return o.paused},activate:function(C){if(o.active)return this;var D=l(C,"onActivate"),A=l(C,"onPostActivate"),k=l(C,"checkCanFocusTrap");k||d(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=p(n),D==null||D();var L=function(){k&&d(),x(),R(),A==null||A()};return k?(k(o.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(C){if(!o.active)return this;var D=Gf({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},C);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,S(),o.active=!1,o.paused=!1,R(),$f.deactivateTrap(i,s);var A=l(D,"onDeactivate"),k=l(D,"onPostDeactivate"),L=l(D,"checkCanReturnFocus"),N=l(D,"returnFocus","returnFocusOnDeactivate");A==null||A();var B=function(){Wf(function(){N&&v(h(o.nodeFocusedBeforeActivation)),k==null||k()})};return N&&L?(L(h(o.nodeFocusedBeforeActivation)).then(B,B),this):(B(),this)},pause:function(C){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,C)):this},unpause:function(C){return o.active?(o.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,C)):this},updateContainerElements:function(C){var D=[].concat(C).filter(Boolean);return o.containers=D.map(function(A){return typeof A=="string"?n.querySelector(A):A}),o.active&&d(),R(),this}},Object.defineProperties(s,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(C,D){if(o.paused===C)return this;if(o.paused=C,C){var A=l(D,"onPause"),k=l(D,"onPostPause");A==null||A(),S(),R(),k==null||k()}else{var L=l(D,"onUnpause"),N=l(D,"onPostUnpause");L==null||L(),d(),x(),R(),N==null||N()}return this}}}),s.updateContainerElements(t),s};function _E(e={}){let t;const{immediate:r,...n}=e,i=xe(!1),a=xe(!1),o=f=>t==null?void 0:t.activate(f),s=f=>{t==null||t.deactivate(f)},l=()=>{t&&(t.pause(),a.set(!0))},u=()=>{t&&(t.unpause(),a.set(!1))};return{useFocusTrap:f=>(t=EE(f,{...n,onActivate(){var d;i.set(!0),(d=e.onActivate)==null||d.call(e)},onDeactivate(){var d;i.set(!1),(d=e.onDeactivate)==null||d.call(e)}}),r&&o(),{destroy(){s(),t=void 0}}),hasFocus:il(i),isPaused:il(a),activate:o,deactivate:s,pause:l,unpause:u}}const SE={floating:{},focusTrap:{},clickOutside:{},escapeKeydown:{},portal:"body"},CE=(e,t)=>{e.dataset.escapee="";const{anchorElement:r,open:n,options:i}=t;if(!r||!n||!i)return{destroy:Ne};const a={...SE,...i},o=[];if(a.portal!==null){const l=wh(e,a.portal);l!=null&&l.destroy&&o.push(l.destroy)}if(o.push(Vx(r,e,a.floating).destroy),a.focusTrap!==null){const{useFocusTrap:l}=_E({immediate:!0,escapeDeactivates:!1,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:e,...a.focusTrap}),u=l(e);u!=null&&u.destroy&&o.push(u.destroy)}a.clickOutside!==null&&o.push(rx(e,{enabled:n,handler:l=>{l.defaultPrevented||Wr(r)&&!r.contains(l.target)&&(n.set(!1),r.focus())},...a.clickOutside}).destroy),a.escapeKeydown!==null&&o.push(ix(e,{enabled:n,handler:l=>{l.defaultPrevented||n.set(!1)},...a.escapeKeydown}).destroy);const s=oa(...o);return{destroy(){s()}}},wh=(e,t="body")=>{let r;if(!Wr(t)&&typeof t!="string")return{destroy:Ne};async function n(a){if(t=a,typeof t=="string"){if(r=document.querySelector(t),r===null&&(await no(),r=document.querySelector(t)),r===null)throw new Error(`No element found matching css selector: "${t}"`)}else if(t instanceof HTMLElement)r=t;else throw new TypeError(`Unknown portal target type: ${t===null?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);e.dataset.portal="",r.appendChild(e),e.hidden=!1}function i(){e.remove()}return n(t),{update:n,destroy:i}},DE={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,disableFocusTrap:!1,closeOnEscape:!0,preventScroll:!1,onOpenChange:void 0,closeOnOutsideClick:!0,portal:void 0,forceVisible:!1},{name:Xa}=Jv("popover");function xh(e){const t={...DE,...e},r=nh(Fw(t,"open")),{positioning:n,arrowSize:i,disableFocusTrap:a,preventScroll:o,closeOnEscape:s,closeOnOutsideClick:l,portal:u,forceVisible:c}=r,f=t.open??xe(t.defaultOpen),d=Hw(f,t==null?void 0:t.onOpenChange),p=xe(null),v={content:Bi(),trigger:Bi()};rs(()=>{p.set(document.getElementById(v.trigger))});function h(){d.set(!1);const w=document.getElementById(v.trigger);w&&no().then(()=>{w.focus()})}const g=Zw({open:d,activeTrigger:p,forceVisible:c}),m=Pr(Xa("content"),{stores:[g,u],returned:([w,x])=>({hidden:w&&Af?void 0:!0,tabindex:-1,style:Rf({display:w?void 0:"none"}),id:v.content,"data-state":w?"open":"closed","data-portal":x?"":void 0}),action:w=>{let x=Ne;const S=If([g,p,n,a,s,l,u],([T,O,R,M,C,D,A])=>{if(x(),!T||!O)return;const k=CE(w,{anchorElement:O,open:d,options:{floating:R,focusTrap:M?null:void 0,clickOutside:D?void 0:null,escapeKeydown:C?{handler:()=>{h()}}:null,portal:tx(w,A)}});k&&k.destroy&&(x=k.destroy)});return{destroy(){S(),x()}}}});function y(w){d.update(x=>!x),w&&p.set(w)}const E=Pr(Xa("trigger"),{stores:d,returned:w=>({role:"button","aria-haspopup":"dialog","aria-expanded":w,"data-state":w?"open":"closed","aria-controls":v.content,id:v.trigger}),action:w=>({destroy:oa(Ir(w,"click",()=>{y(w)}),Ir(w,"keydown",S=>{S.key!==ln.ENTER&&S.key!==ln.SPACE||(S.preventDefault(),y(w))}))})}),b=Pr(Xa("arrow"),{stores:i,returned:w=>({"data-arrow":!0,style:Rf({position:"absolute",width:`var(--arrow-size, ${w}px)`,height:`var(--arrow-size, ${w}px)`})})}),_=Pr(Xa("close"),{returned:()=>({type:"button"}),action:w=>({destroy:oa(Ir(w,"click",()=>{h()}),Ir(w,"keydown",S=>{S.key!==ln.ENTER&&S.key!==ln.SPACE||(S.preventDefault(),y())}))})});return If([d,p,o],([w,x,S])=>{if(!Af)return;const T=[];return w&&(x||no().then(()=>{const O=document.getElementById(v.trigger);Wr(O)&&p.set(O)}),S&&T.push(Kw())),()=>{T.forEach(O=>O())}}),{elements:{trigger:E,content:m,arrow:b,close:_},states:{open:d},options:r}}const{name:Ka}=Jv("toast"),TE={closeDelay:5e3,type:"foreground"};function OE(e){const t={...TE,...e},r=nh(t),{closeDelay:n,type:i}=r,a=xe(new Map),o=v=>{const h={closeDelay:Fn(n),type:Fn(i),...v},g={content:Bi(),title:Bi(),description:Bi()},m=h.closeDelay===0?null:window.setTimeout(()=>{s(g.content)},h.closeDelay),y=()=>{const{createdAt:b,pauseDuration:_,closeDelay:w,pausedAt:x}=E;return w===0?0:x?100*(x-b-_)/w:100*(performance.now()-b-_)/w},E={id:g.content,ids:g,...h,timeout:m,createdAt:performance.now(),pauseDuration:0,getPercentage:y};return a.update(b=>(b.set(g.content,E),new Map(b))),E},s=v=>{a.update(h=>(h.delete(v),new Map(h)))},l=(v,h)=>{a.update(g=>{const m=g.get(v);return m?(g.set(v,{...m,data:h}),new Map(g)):g})},u=Pr(Ka("content"),{stores:a,returned:v=>h=>{const g=v.get(h);if(!g)return null;const{...m}=g;return{id:h,role:"alert","aria-describedby":m.ids.description,"aria-labelledby":m.ids.title,"aria-live":m.type==="foreground"?"assertive":"polite",tabindex:-1}},action:v=>{let h=Ne;return h=oa(Ir(v,"pointerenter",g=>{kf(g)||a.update(m=>{const y=m.get(v.id);return!y||y.closeDelay===0?m:(y.timeout!==null&&window.clearTimeout(y.timeout),y.pausedAt=performance.now(),new Map(m))})}),Ir(v,"pointerleave",g=>{kf(g)||a.update(m=>{const y=m.get(v.id);if(!y||y.closeDelay===0)return m;const E=y.pausedAt??y.createdAt,b=E-y.createdAt-y.pauseDuration,_=y.closeDelay-b;return y.timeout=window.setTimeout(()=>{s(v.id)},_),y.pauseDuration+=performance.now()-E,y.pausedAt=void 0,new Map(m)})}),()=>{s(v.id)}),{destroy:h}}}),c=Pr(Ka("title"),{stores:a,returned:v=>h=>{const g=v.get(h);return g?{id:g.ids.title}:null}}),f=Pr(Ka("description"),{stores:a,returned:v=>h=>{const g=v.get(h);return g?{id:g.ids.description}:null}}),d=Pr(Ka("close"),{returned:()=>v=>({type:"button","data-id":v}),action:v=>{function h(){v.dataset.id&&s(v.dataset.id)}return{destroy:oa(Ir(v,"click",()=>{h()}),Ir(v,"keydown",m=>{m.key!==ln.ENTER&&m.key!==ln.SPACE||(m.preventDefault(),h())}))}}}),p=fa(a,v=>Array.from(v.values()));return{elements:{content:u,title:c,description:f,close:d},states:{toasts:il(p)},helpers:{addToast:o,removeToast:s,updateToast:l},actions:{portal:wh},options:r}}const jf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Vf(e,t,r){const n=e.slice();return n[10]=t[r][0],n[11]=t[r][1],n}function Qs(e){let t,r=[e[11]],n={};for(let i=0;i<r.length;i+=1)n=J(n,r[i]);return{c(){t=Si(e[10]),io(t,n)},m(i,a){Gt(i,t,a)},p(i,a){io(t,n=zt(r,[a&32&&i[11]]))},d(i){i&&$t(t)}}}function qf(e){let t=e[10],r,n=e[10]&&Qs(e);return{c(){n&&n.c(),r=da()},m(i,a){n&&n.m(i,a),Gt(i,r,a)},p(i,a){i[10]?t?Mt(t,i[10])?(n.d(1),n=Qs(i),t=i[10],n.c(),n.m(r.parentNode,r)):n.p(i,a):(n=Qs(i),t=i[10],n.c(),n.m(r.parentNode,r)):t&&(n.d(1),n=null,t=i[10])},d(i){i&&$t(r),n&&n.d(i)}}}function ME(e){let t,r,n,i,a,o=e[5],s=[];for(let d=0;d<o.length;d+=1)s[d]=qf(Vf(e,o,d));const l=e[9].default,u=Zt(l,e,e[8],null);let c=[jf,e[6],{width:e[2]},{height:e[2]},{stroke:e[1]},{"stroke-width":n=e[4]?Number(e[3])*24/Number(e[2]):e[3]},{class:i=`lucide-icon lucide lucide-${e[0]} ${e[7].class??""}`}],f={};for(let d=0;d<c.length;d+=1)f=J(f,c[d]);return{c(){t=Si("svg");for(let d=0;d<s.length;d+=1)s[d].c();r=da(),u&&u.c(),io(t,f)},m(d,p){Gt(d,t,p);for(let v=0;v<s.length;v+=1)s[v]&&s[v].m(t,null);tt(t,r),u&&u.m(t,null),a=!0},p(d,[p]){if(p&32){o=d[5];let v;for(v=0;v<o.length;v+=1){const h=Vf(d,o,v);s[v]?s[v].p(h,p):(s[v]=qf(h),s[v].c(),s[v].m(t,r))}for(;v<s.length;v+=1)s[v].d(1);s.length=o.length}u&&u.p&&(!a||p&256)&&Jt(u,l,d,d[8],a?te(l,d[8],p,null):Qt(d[8]),null),io(t,f=zt(c,[jf,p&64&&d[6],(!a||p&4)&&{width:d[2]},(!a||p&4)&&{height:d[2]},(!a||p&2)&&{stroke:d[1]},(!a||p&28&&n!==(n=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":n},(!a||p&129&&i!==(i=`lucide-icon lucide lucide-${d[0]} ${d[7].class??""}`))&&{class:i}]))},i(d){a||(W(u,d),a=!0)},o(d){Y(u,d),a=!1},d(d){d&&$t(t),Kh(s,d),u&&u.d(d)}}}function AE(e,t,r){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let i=mc(t,n),{$$slots:a={},$$scope:o}=t,{name:s}=t,{color:l="currentColor"}=t,{size:u=24}=t,{strokeWidth:c=2}=t,{absoluteStrokeWidth:f=!1}=t,{iconNode:d}=t;return e.$$set=p=>{r(7,t=J(J({},t),gt(p))),r(6,i=mc(t,n)),"name"in p&&r(0,s=p.name),"color"in p&&r(1,l=p.color),"size"in p&&r(2,u=p.size),"strokeWidth"in p&&r(3,c=p.strokeWidth),"absoluteStrokeWidth"in p&&r(4,f=p.absoluteStrokeWidth),"iconNode"in p&&r(5,d=p.iconNode),"$$scope"in p&&r(8,o=p.$$scope)},t=gt(t),[s,l,u,c,f,d,i,t,o,a]}class kE extends Rt{constructor(t){super(),Pt(this,t,AE,ME,Mt,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}const ue=kE;function RE(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function PE(e){let t,r;const n=[{name:"alert-circle"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[RE]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function IE(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class LE extends Rt{constructor(t){super(),Pt(this,t,IE,PE,Mt,{})}}const NE=LE;function BE(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function zE(e){let t,r;const n=[{name:"bold"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[BE]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function FE(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class HE extends Rt{constructor(t){super(),Pt(this,t,FE,zE,Mt,{})}}const GE=HE;function $E(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function WE(e){let t,r;const n=[{name:"check-circle"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[$E]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function jE(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}],["polyline",{points:"22 4 12 14.01 9 11.01"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class VE extends Rt{constructor(t){super(),Pt(this,t,jE,WE,Mt,{})}}const qE=VE;function UE(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function YE(e){let t,r;const n=[{name:"check-square"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[UE]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function XE(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["polyline",{points:"9 11 12 14 22 4"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class KE extends Rt{constructor(t){super(),Pt(this,t,XE,YE,Mt,{})}}const Eh=KE;function ZE(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function JE(e){let t,r;const n=[{name:"check"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[ZE]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function QE(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["polyline",{points:"20 6 9 17 4 12"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class t_ extends Rt{constructor(t){super(),Pt(this,t,QE,JE,Mt,{})}}const Es=t_;function e_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function r_(e){let t,r;const n=[{name:"chevron-down"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[e_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function n_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"m6 9 6 6 6-6"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class i_ extends Rt{constructor(t){super(),Pt(this,t,n_,r_,Mt,{})}}const _h=i_;function a_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function o_(e){let t,r;const n=[{name:"code"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[a_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function s_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["polyline",{points:"16 18 22 12 16 6"}],["polyline",{points:"8 6 2 12 8 18"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class l_ extends Rt{constructor(t){super(),Pt(this,t,s_,o_,Mt,{})}}const sc=l_;function u_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function c_(e){let t,r;const n=[{name:"heading-1"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[u_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function f_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"m17 12 3-2v8"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class d_ extends Rt{constructor(t){super(),Pt(this,t,f_,c_,Mt,{})}}const Sh=d_;function p_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function v_(e){let t,r;const n=[{name:"heading-2"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[p_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function h_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class g_ extends Rt{constructor(t){super(),Pt(this,t,h_,v_,Mt,{})}}const Ch=g_;function m_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function b_(e){let t,r;const n=[{name:"heading-3"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[m_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function y_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M4 12h8"}],["path",{d:"M4 18V6"}],["path",{d:"M12 18V6"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class w_ extends Rt{constructor(t){super(),Pt(this,t,y_,b_,Mt,{})}}const Dh=w_;function x_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function E_(e){let t,r;const n=[{name:"italic"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[x_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function __(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["line",{x1:"19",x2:"10",y1:"4",y2:"4"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class S_ extends Rt{constructor(t){super(),Pt(this,t,__,E_,Mt,{})}}const C_=S_;function D_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function T_(e){let t,r;const n=[{name:"list-ordered"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[D_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function O_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["line",{x1:"10",x2:"21",y1:"6",y2:"6"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18"}],["path",{d:"M4 6h1v4"}],["path",{d:"M4 10h2"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class M_ extends Rt{constructor(t){super(),Pt(this,t,O_,T_,Mt,{})}}const Jl=M_;function A_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function k_(e){let t,r;const n=[{name:"list"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[A_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function R_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["line",{x1:"8",x2:"21",y1:"6",y2:"6"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class P_ extends Rt{constructor(t){super(),Pt(this,t,R_,k_,Mt,{})}}const I_=P_;function L_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function N_(e){let t,r;const n=[{name:"loader"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[L_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function B_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["line",{x1:"12",x2:"12",y1:"2",y2:"6"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class z_ extends Rt{constructor(t){super(),Pt(this,t,B_,N_,Mt,{})}}const F_=z_;function H_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function G_(e){let t,r;const n=[{name:"strikethrough"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[H_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function $_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class W_ extends Rt{constructor(t){super(),Pt(this,t,$_,G_,Mt,{})}}const j_=W_;function V_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function q_(e){let t,r;const n=[{name:"text-quote"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[V_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function U_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M17 6H3"}],["path",{d:"M21 12H8"}],["path",{d:"M21 18H8"}],["path",{d:"M3 12v6"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class Y_ extends Rt{constructor(t){super(),Pt(this,t,U_,q_,Mt,{})}}const Th=Y_;function X_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function K_(e){let t,r;const n=[{name:"text"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[X_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function Z_(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M17 6.1H3"}],["path",{d:"M21 12.1H3"}],["path",{d:"M15.1 18H3"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class J_ extends Rt{constructor(t){super(),Pt(this,t,Z_,K_,Mt,{})}}const Oh=J_;function Q_(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function tS(e){let t,r;const n=[{name:"trash"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[Q_]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function eS(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class rS extends Rt{constructor(t){super(),Pt(this,t,eS,tS,Mt,{})}}const nS=rS;function iS(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function aS(e){let t,r;const n=[{name:"underline"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[iS]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function oS(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class sS extends Rt{constructor(t){super(),Pt(this,t,oS,aS,Mt,{})}}const lS=sS;function uS(e){let t;const r=e[2].default,n=Zt(r,e,e[3],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&(!t||a&8)&&Jt(n,r,i,i[3],t?te(r,i[3],a,null):Qt(i[3]),null)},i(i){t||(W(n,i),t=!0)},o(i){Y(n,i),t=!1},d(i){n&&n.d(i)}}}function cS(e){let t,r;const n=[{name:"x-circle"},e[1],{iconNode:e[0]}];let i={$$slots:{default:[uS]},$$scope:{ctx:e}};for(let a=0;a<n.length;a+=1)i=J(i,n[a]);return t=new ue({props:i}),{c(){bt(t.$$.fragment)},m(a,o){yt(t,a,o),r=!0},p(a,[o]){const s=o&3?zt(n,[n[0],o&2&&le(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:a}),t.$set(s)},i(a){r||(W(t.$$.fragment,a),r=!0)},o(a){Y(t.$$.fragment,a),r=!1},d(a){wt(t,a)}}}function fS(e,t,r){let{$$slots:n={},$$scope:i}=t;const a=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];return e.$$set=o=>{r(1,t=J(J({},t),gt(o))),"$$scope"in o&&r(3,i=o.$$scope)},t=gt(t),[a,t,n,i]}class dS extends Rt{constructor(t){super(),Pt(this,t,fS,cS,Mt,{})}}const pS=dS;function vS(e,{from:t,to:r},n={}){const i=getComputedStyle(e),a=i.transform==="none"?"":i.transform,[o,s]=i.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*o/r.width-(r.left+o),u=t.top+t.height*s/r.height-(r.top+s),{delay:c=0,duration:f=p=>Math.sqrt(p)*120,easing:d=Jh}=n;return{delay:c,duration:Zh(f)?f(Math.sqrt(l*l+u*u)):f,easing:d,css:(p,v)=>{const h=v*l,g=v*u,m=p+v*t.width/r.width,y=p+v*t.height/r.height;return`transform: ${a} translate(${h}px, ${g}px) scale(${m}, ${y});`}}}function Uf(e,t,r){const n=e.slice();n[4]=t[r].id,n[5]=t[r].data;const i=n[1](n[4]);n[6]=i;const a=n[2](n[4]);return n[7]=a,n}function Yf(e,t){let r,n,i,a,o=t[5].text+"",s,l,u,c,f,d=Ye,p,v,h;var g=t[3][t[5].type];function m(w){return{props:{class:"square-6"}}}g&&(n=Br(g,m()));let y=[{class:"leading-relaxed"},t[6]],E={};for(let w=0;w<y.length;w+=1)E=J(E,y[w]);let b=[t[7],{class:"rounded-xl bg-stone-100 border border-stone-300 text-stone-700 shadow flex w-[24rem] max-w-[calc(100vw-2rem)] items-center gap-2 p-4"}],_={};for(let w=0;w<b.length;w+=1)_=J(_,b[w]);return{key:e,first:null,c(){r=pt("div"),n&&bt(n.$$.fragment),i=Lt(),a=pt("p"),s=zr(o),l=Lt(),Be(a,E),Be(r,_),this.first=r},m(w,x){Gt(w,r,x),n&&yt(n,r,null),tt(r,i),tt(r,a),tt(a,s),tt(r,l),p=!0,v||(h=[cn(t[6].action(a)),cn(t[7].action(r))],v=!0)},p(w,x){if(t=w,x&1&&g!==(g=t[3][t[5].type])){if(n){ae();const S=n;Y(S.$$.fragment,1,0,()=>{wt(S,1)}),oe()}g?(n=Br(g,m()),bt(n.$$.fragment),W(n.$$.fragment,1),yt(n,r,i)):n=null}(!p||x&1)&&o!==(o=t[5].text+"")&&tg(s,o,E.contenteditable),Be(a,E=zt(y,[{class:"leading-relaxed"},x&3&&t[6]])),Be(r,_=zt(b,[x&5&&t[7],{class:"rounded-xl bg-stone-100 border border-stone-300 text-stone-700 shadow flex w-[24rem] max-w-[calc(100vw-2rem)] items-center gap-2 p-4"}]))},r(){f=r.getBoundingClientRect()},f(){eg(r),d(),rg(r,f)},a(){d(),d=ng(r,f,vS,{duration:500})},i(w){p||(n&&W(n.$$.fragment,w),ig(()=>{p&&(c&&c.end(1),u=ag(r,bc,{duration:150,x:"100%"}),u.start())}),p=!0)},o(w){n&&Y(n.$$.fragment,w),u&&u.invalidate(),c=og(r,bc,{duration:150,x:"100%"}),p=!1},d(w){w&&$t(r),n&&wt(n),w&&c&&c.end(),v=!1,nu(h)}}}function hS(e){let t,r=[],n=new Map,i,a,o,s=e[0];const l=u=>u[4];for(let u=0;u<s.length;u+=1){let c=Uf(e,s,u),f=l(c);n.set(f,r[u]=Yf(f,c))}return{c(){t=pt("div");for(let u=0;u<r.length;u+=1)r[u].c();ot(t,"class","fixed right-0 top-0 z-50 m-4 flex flex-col items-end gap-2 md:bottom-0 md:top-auto")},m(u,c){Gt(u,t,c);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(t,null);i=!0,a||(o=cn(yS.call(null,t)),a=!0)},p(u,[c]){if(c&15){s=u[0],ae();for(let f=0;f<r.length;f+=1)r[f].r();r=Hn(r,c,l,1,u,s,n,t,Qh,Yf,null,Uf);for(let f=0;f<r.length;f+=1)r[f].a();oe()}},i(u){if(!i){for(let c=0;c<s.length;c+=1)W(r[c]);i=!0}},o(u){for(let c=0;c<r.length;c+=1)Y(r[c]);i=!1},d(u){u&&$t(t);for(let c=0;c<r.length;c+=1)r[c].d();a=!1,o()}}}const{elements:{content:gS,description:mS},helpers:lc,states:{toasts:bS},actions:{portal:yS}}=OE({closeDelay:5e3}),la=lc.addToast;lc.removeToast;lc.updateToast;function wS(e,t,r){let n,i,a;return Ee(e,bS,s=>r(0,n=s)),Ee(e,mS,s=>r(1,i=s)),Ee(e,gS,s=>r(2,a=s)),[n,i,a,{success:qE,warning:NE,error:pS,loading:F_}]}class xS extends Rt{constructor(t){super(),Pt(this,t,wS,hS,Mt,{})}}const Qo=new yn("upload-image"),ES=()=>new bn({key:Qo,state:{init(){return ou.empty},apply(e,t){t=t.map(e.mapping,e.doc);const r=e.getMeta(this);if(r&&r.add){const{id:n,pos:i,src:a}=r.add,o=document.createElement("div");o.setAttribute("class","img-placeholder");const s=document.createElement("img");s.setAttribute("class","opacity-40 rounded-lg border border-stone-200"),s.src=a,o.appendChild(s);const l=au.widget(i+1,o,{id:n});t=t.add(e.doc,[l])}else r&&r.remove&&(t=t.remove(t.find(null,null,n=>n.id==r.remove.id)));return t}},props:{decorations(e){return this.getState(e)}}});function _S(e,t){const n=Qo.getState(e).find(null,null,i=>i.id==t);return n.length?n[0].from:null}function Xf(e,t,r){if(e.type.includes("image/")){if(e.size/1024/1024>20){la({data:{text:"File size too big (max 20MB).",type:"error"}});return}}else{la({data:{text:"File type not supported.",type:"error"}});return}const n={},i=t.state.tr;i.selection.empty||i.deleteSelection();const a=new FileReader;a.readAsDataURL(e),a.onload=()=>{i.setMeta(Qo,{add:{id:n,pos:r,src:a.result}}),t.dispatch(i)},CS(e).then(o=>{const{schema:s}=t.state,l=_S(t.state,n);if(l==null)return;const u=typeof o=="object"?a.result:o,c=s.nodes.image.create({src:u}),f=t.state.tr.replaceWith(l,l,c).setMeta(Qo,{remove:{id:n}});t.dispatch(f)})}const SS=e=>new Promise(t=>setTimeout(t,e)),CS=async e=>(await SS(1e3),e);function DS(e){var t;const{char:r,allowSpaces:n,allowToIncludeChar:i,allowedPrefixes:a,startOfLine:o,$position:s}=e,l=n&&!i,u=mg(r),c=new RegExp(`\\s${u}$`),f=o?"^":"",d=i?"":u,p=l?new RegExp(`${f}${u}.*?(?=\\s${d}|$)`,"gm"):new RegExp(`${f}(?:^)?${u}[^\\s${d}]*`,"gm"),v=((t=s.nodeBefore)===null||t===void 0?void 0:t.isText)&&s.nodeBefore.text;if(!v)return null;const h=s.pos-v.length,g=Array.from(v.matchAll(p)).pop();if(!g||g.input===void 0||g.index===void 0)return null;const m=g.input.slice(Math.max(0,g.index-1),g.index),y=new RegExp(`^[${a==null?void 0:a.join("")}\0]?$`).test(m);if(a!==null&&!y)return null;const E=h+g.index;let b=E+g[0].length;return l&&c.test(v.slice(b-1,b+1))&&(g[0]+=" ",b+=1),E<s.pos&&b>=s.pos?{range:{from:E,to:b},query:g[0].slice(r.length),text:g[0]}:null}const TS=new yn("suggestion");function OS({pluginKey:e=TS,editor:t,char:r="@",allowSpaces:n=!1,allowToIncludeChar:i=!1,allowedPrefixes:a=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:l="suggestion",command:u=()=>null,items:c=()=>[],render:f=()=>({}),allow:d=()=>!0,findSuggestionMatch:p=DS}){let v;const h=f==null?void 0:f(),g=new bn({key:e,view(){return{update:async(m,y)=>{var E,b,_,w,x,S,T;const O=(E=this.key)===null||E===void 0?void 0:E.getState(y),R=(b=this.key)===null||b===void 0?void 0:b.getState(m.state),M=O.active&&R.active&&O.range.from!==R.range.from,C=!O.active&&R.active,D=O.active&&!R.active,A=!C&&!D&&O.query!==R.query,k=C||M&&A,L=A||M,N=D||M&&A;if(!k&&!L&&!N)return;const B=N&&!k?O:R,H=m.dom.querySelector(`[data-decoration-id="${B.decorationId}"]`);v={editor:t,range:B.range,query:B.query,text:B.text,items:[],command:z=>u({editor:t,range:B.range,props:z}),decorationNode:H,clientRect:H?()=>{var z;const{decorationId:X}=(z=this.key)===null||z===void 0?void 0:z.getState(t.state),j=m.dom.querySelector(`[data-decoration-id="${X}"]`);return(j==null?void 0:j.getBoundingClientRect())||null}:null},k&&((_=h==null?void 0:h.onBeforeStart)===null||_===void 0||_.call(h,v)),L&&((w=h==null?void 0:h.onBeforeUpdate)===null||w===void 0||w.call(h,v)),(L||k)&&(v.items=await c({editor:t,query:B.query})),N&&((x=h==null?void 0:h.onExit)===null||x===void 0||x.call(h,v)),L&&((S=h==null?void 0:h.onUpdate)===null||S===void 0||S.call(h,v)),k&&((T=h==null?void 0:h.onStart)===null||T===void 0||T.call(h,v))},destroy:()=>{var m;v&&((m=h==null?void 0:h.onExit)===null||m===void 0||m.call(h,v))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(m,y,E,b){const{isEditable:_}=t,{composing:w}=t.view,{selection:x}=m,{empty:S,from:T}=x,O={...y};if(O.composing=w,_&&(S||t.view.composing)){(T<y.range.from||T>y.range.to)&&!w&&!y.composing&&(O.active=!1);const R=p({char:r,allowSpaces:n,allowToIncludeChar:i,allowedPrefixes:a,startOfLine:o,$position:x.$from}),M=`id_${Math.floor(Math.random()*4294967295)}`;R&&d({editor:t,state:b,range:R.range,isActive:y.active})?(O.active=!0,O.decorationId=y.decorationId?y.decorationId:M,O.range=R.range,O.query=R.query,O.text=R.text):O.active=!1}else O.active=!1;return O.active||(O.decorationId=null,O.range={from:0,to:0},O.query=null,O.text=null),O}},props:{handleKeyDown(m,y){var E;const{active:b,range:_}=g.getState(m.state);return b&&((E=h==null?void 0:h.onKeyDown)===null||E===void 0?void 0:E.call(h,{view:m,event:y,range:_}))||!1},decorations(m){const{active:y,range:E,decorationId:b}=g.getState(m);return y?ou.create(m.doc,[au.inline(E.from,E.to,{nodeName:s,class:l,"data-decoration-id":b})]):null}}});return g}var _e="top",We="bottom",je="right",Se="left",uc="auto",Sa=[_e,We,je,Se],Zn="start",ua="end",MS="clippingParents",Mh="viewport",yi="popper",AS="reference",Kf=Sa.reduce(function(e,t){return e.concat([t+"-"+Zn,t+"-"+ua])},[]),Ah=[].concat(Sa,[uc]).reduce(function(e,t){return e.concat([t,t+"-"+Zn,t+"-"+ua])},[]),kS="beforeRead",RS="read",PS="afterRead",IS="beforeMain",LS="main",NS="afterMain",BS="beforeWrite",zS="write",FS="afterWrite",HS=[kS,RS,PS,IS,LS,NS,BS,zS,FS];function fr(e){return e?(e.nodeName||"").toLowerCase():null}function Pe(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function mn(e){var t=Pe(e).Element;return e instanceof t||e instanceof Element}function He(e){var t=Pe(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function cc(e){if(typeof ShadowRoot>"u")return!1;var t=Pe(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function GS(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},a=t.elements[r];!He(a)||!fr(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function $S(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],a=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=o.reduce(function(l,u){return l[u]="",l},{});!He(i)||!fr(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}const kh={name:"applyStyles",enabled:!0,phase:"write",fn:GS,effect:$S,requires:["computeStyles"]};function lr(e){return e.split("-")[0]}var un=Math.max,ts=Math.min,Jn=Math.round;function Ql(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Rh(){return!/^((?!chrome|android).)*safari/i.test(Ql())}function Qn(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&He(e)&&(i=e.offsetWidth>0&&Jn(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Jn(n.height)/e.offsetHeight||1);var o=mn(e)?Pe(e):window,s=o.visualViewport,l=!Rh()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/i,c=(n.top+(l&&s?s.offsetTop:0))/a,f=n.width/i,d=n.height/a;return{width:f,height:d,top:c,right:u+f,bottom:c+d,left:u,x:u,y:c}}function fc(e){var t=Qn(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Ph(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&cc(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function _r(e){return Pe(e).getComputedStyle(e)}function WS(e){return["table","td","th"].indexOf(fr(e))>=0}function Yr(e){return((mn(e)?e.ownerDocument:e.document)||window.document).documentElement}function _s(e){return fr(e)==="html"?e:e.assignedSlot||e.parentNode||(cc(e)?e.host:null)||Yr(e)}function Zf(e){return!He(e)||_r(e).position==="fixed"?null:e.offsetParent}function jS(e){var t=/firefox/i.test(Ql()),r=/Trident/i.test(Ql());if(r&&He(e)){var n=_r(e);if(n.position==="fixed")return null}var i=_s(e);for(cc(i)&&(i=i.host);He(i)&&["html","body"].indexOf(fr(i))<0;){var a=_r(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Ca(e){for(var t=Pe(e),r=Zf(e);r&&WS(r)&&_r(r).position==="static";)r=Zf(r);return r&&(fr(r)==="html"||fr(r)==="body"&&_r(r).position==="static")?t:r||jS(e)||t}function dc(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fi(e,t,r){return un(e,ts(t,r))}function VS(e,t,r){var n=Fi(e,t,r);return n>r?r:n}function Ih(){return{top:0,right:0,bottom:0,left:0}}function Lh(e){return Object.assign({},Ih(),e)}function Nh(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var qS=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Lh(typeof t!="number"?t:Nh(t,Sa))};function US(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=lr(r.placement),l=dc(s),u=[Se,je].indexOf(s)>=0,c=u?"height":"width";if(!(!a||!o)){var f=qS(i.padding,r),d=fc(a),p=l==="y"?_e:Se,v=l==="y"?We:je,h=r.rects.reference[c]+r.rects.reference[l]-o[l]-r.rects.popper[c],g=o[l]-r.rects.reference[l],m=Ca(a),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,E=h/2-g/2,b=f[p],_=y-d[c]-f[v],w=y/2-d[c]/2+E,x=Fi(b,w,_),S=l;r.modifiersData[n]=(t={},t[S]=x,t.centerOffset=x-w,t)}}function YS(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Ph(t.elements.popper,i)&&(t.elements.arrow=i))}const XS={name:"arrow",enabled:!0,phase:"main",fn:US,effect:YS,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ti(e){return e.split("-")[1]}var KS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZS(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:Jn(r*i)/i||0,y:Jn(n*i)/i||0}}function Jf(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=o.x,p=d===void 0?0:d,v=o.y,h=v===void 0?0:v,g=typeof c=="function"?c({x:p,y:h}):{x:p,y:h};p=g.x,h=g.y;var m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),E=Se,b=_e,_=window;if(u){var w=Ca(r),x="clientHeight",S="clientWidth";if(w===Pe(r)&&(w=Yr(r),_r(w).position!=="static"&&s==="absolute"&&(x="scrollHeight",S="scrollWidth")),w=w,i===_e||(i===Se||i===je)&&a===ua){b=We;var T=f&&w===_&&_.visualViewport?_.visualViewport.height:w[x];h-=T-n.height,h*=l?1:-1}if(i===Se||(i===_e||i===We)&&a===ua){E=je;var O=f&&w===_&&_.visualViewport?_.visualViewport.width:w[S];p-=O-n.width,p*=l?1:-1}}var R=Object.assign({position:s},u&&KS),M=c===!0?ZS({x:p,y:h},Pe(r)):{x:p,y:h};if(p=M.x,h=M.y,l){var C;return Object.assign({},R,(C={},C[b]=y?"0":"",C[E]=m?"0":"",C.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+h+"px)":"translate3d("+p+"px, "+h+"px, 0)",C))}return Object.assign({},R,(t={},t[b]=y?h+"px":"",t[E]=m?p+"px":"",t.transform="",t))}function JS(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:lr(t.placement),variation:ti(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Jf(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Jf(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const QS={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:JS,data:{}};var Za={passive:!0};function tC(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,l=Pe(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",r.update,Za)}),s&&l.addEventListener("resize",r.update,Za),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",r.update,Za)}),s&&l.removeEventListener("resize",r.update,Za)}}const eC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tC,data:{}};var rC={left:"right",right:"left",bottom:"top",top:"bottom"};function ro(e){return e.replace(/left|right|bottom|top/g,function(t){return rC[t]})}var nC={start:"end",end:"start"};function Qf(e){return e.replace(/start|end/g,function(t){return nC[t]})}function pc(e){var t=Pe(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function vc(e){return Qn(Yr(e)).left+pc(e).scrollLeft}function iC(e,t){var r=Pe(e),n=Yr(e),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=Rh();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+vc(e),y:l}}function aC(e){var t,r=Yr(e),n=pc(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=un(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=un(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+vc(e),l=-n.scrollTop;return _r(i||r).direction==="rtl"&&(s+=un(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function hc(e){var t=_r(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Bh(e){return["html","body","#document"].indexOf(fr(e))>=0?e.ownerDocument.body:He(e)&&hc(e)?e:Bh(_s(e))}function Hi(e,t){var r;t===void 0&&(t=[]);var n=Bh(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=Pe(n),o=i?[a].concat(a.visualViewport||[],hc(n)?n:[]):n,s=t.concat(o);return i?s:s.concat(Hi(_s(o)))}function tu(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oC(e,t){var r=Qn(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function td(e,t,r){return t===Mh?tu(iC(e,r)):mn(t)?oC(t,r):tu(aC(Yr(e)))}function sC(e){var t=Hi(_s(e)),r=["absolute","fixed"].indexOf(_r(e).position)>=0,n=r&&He(e)?Ca(e):e;return mn(n)?t.filter(function(i){return mn(i)&&Ph(i,n)&&fr(i)!=="body"}):[]}function lC(e,t,r,n){var i=t==="clippingParents"?sC(e):[].concat(t),a=[].concat(i,[r]),o=a[0],s=a.reduce(function(l,u){var c=td(e,u,n);return l.top=un(c.top,l.top),l.right=ts(c.right,l.right),l.bottom=ts(c.bottom,l.bottom),l.left=un(c.left,l.left),l},td(e,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function zh(e){var t=e.reference,r=e.element,n=e.placement,i=n?lr(n):null,a=n?ti(n):null,o=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(i){case _e:l={x:o,y:t.y-r.height};break;case We:l={x:o,y:t.y+t.height};break;case je:l={x:t.x+t.width,y:s};break;case Se:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?dc(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case Zn:l[u]=l[u]-(t[c]/2-r[c]/2);break;case ua:l[u]=l[u]+(t[c]/2-r[c]/2);break}}return l}function ca(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,a=r.strategy,o=a===void 0?e.strategy:a,s=r.boundary,l=s===void 0?MS:s,u=r.rootBoundary,c=u===void 0?Mh:u,f=r.elementContext,d=f===void 0?yi:f,p=r.altBoundary,v=p===void 0?!1:p,h=r.padding,g=h===void 0?0:h,m=Lh(typeof g!="number"?g:Nh(g,Sa)),y=d===yi?AS:yi,E=e.rects.popper,b=e.elements[v?y:d],_=lC(mn(b)?b:b.contextElement||Yr(e.elements.popper),l,c,o),w=Qn(e.elements.reference),x=zh({reference:w,element:E,strategy:"absolute",placement:i}),S=tu(Object.assign({},E,x)),T=d===yi?S:w,O={top:_.top-T.top+m.top,bottom:T.bottom-_.bottom+m.bottom,left:_.left-T.left+m.left,right:T.right-_.right+m.right},R=e.modifiersData.offset;if(d===yi&&R){var M=R[i];Object.keys(O).forEach(function(C){var D=[je,We].indexOf(C)>=0?1:-1,A=[_e,We].indexOf(C)>=0?"y":"x";O[C]+=M[A]*D})}return O}function uC(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?Ah:l,c=ti(n),f=c?s?Kf:Kf.filter(function(v){return ti(v)===c}):Sa,d=f.filter(function(v){return u.indexOf(v)>=0});d.length===0&&(d=f);var p=d.reduce(function(v,h){return v[h]=ca(e,{placement:h,boundary:i,rootBoundary:a,padding:o})[lr(h)],v},{});return Object.keys(p).sort(function(v,h){return p[v]-p[h]})}function cC(e){if(lr(e)===uc)return[];var t=ro(e);return[Qf(e),t,Qf(t)]}function fC(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,d=r.altBoundary,p=r.flipVariations,v=p===void 0?!0:p,h=r.allowedAutoPlacements,g=t.options.placement,m=lr(g),y=m===g,E=l||(y||!v?[ro(g)]:cC(g)),b=[g].concat(E).reduce(function($,K){return $.concat(lr(K)===uc?uC(t,{placement:K,boundary:c,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:h}):K)},[]),_=t.rects.reference,w=t.rects.popper,x=new Map,S=!0,T=b[0],O=0;O<b.length;O++){var R=b[O],M=lr(R),C=ti(R)===Zn,D=[_e,We].indexOf(M)>=0,A=D?"width":"height",k=ca(t,{placement:R,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),L=D?C?je:Se:C?We:_e;_[A]>w[A]&&(L=ro(L));var N=ro(L),B=[];if(a&&B.push(k[M]<=0),s&&B.push(k[L]<=0,k[N]<=0),B.every(function($){return $})){T=R,S=!1;break}x.set(R,B)}if(S)for(var H=v?3:1,z=function(K){var V=b.find(function(Z){var Q=x.get(Z);if(Q)return Q.slice(0,K).every(function(ut){return ut})});if(V)return T=V,"break"},X=H;X>0;X--){var j=z(X);if(j==="break")break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}}const dC={name:"flip",enabled:!0,phase:"main",fn:fC,requiresIfExists:["offset"],data:{_skip:!1}};function ed(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function rd(e){return[_e,je,We,Se].some(function(t){return e[t]>=0})}function pC(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=ca(t,{elementContext:"reference"}),s=ca(t,{altBoundary:!0}),l=ed(o,n),u=ed(s,i,a),c=rd(l),f=rd(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const vC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pC};function hC(e,t,r){var n=lr(e),i=[Se,_e].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Se,je].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function gC(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=i===void 0?[0,0]:i,o=Ah.reduce(function(c,f){return c[f]=hC(f,t.rects,a),c},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const mC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gC};function bC(e){var t=e.state,r=e.name;t.modifiersData[r]=zh({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const yC={name:"popperOffsets",enabled:!0,phase:"read",fn:bC,data:{}};function wC(e){return e==="x"?"y":"x"}function xC(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,d=r.tether,p=d===void 0?!0:d,v=r.tetherOffset,h=v===void 0?0:v,g=ca(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),m=lr(t.placement),y=ti(t.placement),E=!y,b=dc(m),_=wC(b),w=t.modifiersData.popperOffsets,x=t.rects.reference,S=t.rects.popper,T=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,O=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(w){if(a){var C,D=b==="y"?_e:Se,A=b==="y"?We:je,k=b==="y"?"height":"width",L=w[b],N=L+g[D],B=L-g[A],H=p?-S[k]/2:0,z=y===Zn?x[k]:S[k],X=y===Zn?-S[k]:-x[k],j=t.elements.arrow,$=p&&j?fc(j):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ih(),V=K[D],Z=K[A],Q=Fi(0,x[k],$[k]),ut=E?x[k]/2-H-Q-V-O.mainAxis:z-Q-V-O.mainAxis,at=E?-x[k]/2+H+Q+Z+O.mainAxis:X+Q+Z+O.mainAxis,rt=t.elements.arrow&&Ca(t.elements.arrow),nt=rt?b==="y"?rt.clientTop||0:rt.clientLeft||0:0,Ct=(C=R==null?void 0:R[b])!=null?C:0,ft=L+ut-Ct-nt,dt=L+at-Ct,vt=Fi(p?ts(N,ft):N,L,p?un(B,dt):B);w[b]=vt,M[b]=vt-L}if(s){var It,At=b==="x"?_e:Se,ht=b==="x"?We:je,Et=w[_],Ft=_==="y"?"height":"width",ee=Et+g[At],qt=Et-g[ht],Ht=[_e,Se].indexOf(m)!==-1,Ut=(It=R==null?void 0:R[_])!=null?It:0,Oe=Ht?ee:Et-x[Ft]-S[Ft]-Ut+O.altAxis,Me=Ht?Et+x[Ft]+S[Ft]-Ut-O.altAxis:qt,Xr=p&&Ht?VS(Oe,Et,Me):Fi(p?Oe:ee,Et,p?Me:qt);w[_]=Xr,M[_]=Xr-Et}t.modifiersData[n]=M}}const EC={name:"preventOverflow",enabled:!0,phase:"main",fn:xC,requiresIfExists:["offset"]};function _C(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function SC(e){return e===Pe(e)||!He(e)?pc(e):_C(e)}function CC(e){var t=e.getBoundingClientRect(),r=Jn(t.width)/e.offsetWidth||1,n=Jn(t.height)/e.offsetHeight||1;return r!==1||n!==1}function DC(e,t,r){r===void 0&&(r=!1);var n=He(t),i=He(t)&&CC(t),a=Yr(t),o=Qn(e,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((fr(t)!=="body"||hc(a))&&(s=SC(t)),He(t)?(l=Qn(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=vc(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function TC(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&i(l)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||i(a)}),n}function OC(e){var t=TC(e);return HS.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function MC(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function AC(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var nd={placement:"bottom",modifiers:[],strategy:"absolute"};function id(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function kC(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,a=i===void 0?nd:i;return function(s,l,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},nd,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(m){var y=typeof m=="function"?m(c.options):m;h(),c.options=Object.assign({},a,c.options,y),c.scrollParents={reference:mn(s)?Hi(s):s.contextElement?Hi(s.contextElement):[],popper:Hi(l)};var E=OC(AC([].concat(n,c.options.modifiers)));return c.orderedModifiers=E.filter(function(b){return b.enabled}),v(),p.update()},forceUpdate:function(){if(!d){var m=c.elements,y=m.reference,E=m.popper;if(id(y,E)){c.rects={reference:DC(y,Ca(E),c.options.strategy==="fixed"),popper:fc(E)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(O){return c.modifiersData[O.name]=Object.assign({},O.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var _=c.orderedModifiers[b],w=_.fn,x=_.options,S=x===void 0?{}:x,T=_.name;typeof w=="function"&&(c=w({state:c,options:S,name:T,instance:p})||c)}}}},update:MC(function(){return new Promise(function(g){p.forceUpdate(),g(c)})}),destroy:function(){h(),d=!0}};if(!id(s,l))return p;p.setOptions(u).then(function(g){!d&&u.onFirstUpdate&&u.onFirstUpdate(g)});function v(){c.orderedModifiers.forEach(function(g){var m=g.name,y=g.options,E=y===void 0?{}:y,b=g.effect;if(typeof b=="function"){var _=b({state:c,name:m,instance:p,options:E}),w=function(){};f.push(_||w)}})}function h(){f.forEach(function(g){return g()}),f=[]}return p}}var RC=[eC,yC,QS,kh,mC,dC,EC,XS,vC],PC=kC({defaultModifiers:RC}),IC="tippy-box",Fh="tippy-content",LC="tippy-backdrop",Hh="tippy-arrow",Gh="tippy-svg-arrow",Jr={passive:!0,capture:!0},$h=function(){return document.body};function tl(e,t,r){if(Array.isArray(e)){var n=e[t];return n??(Array.isArray(r)?r[t]:r)}return e}function gc(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function Wh(e,t){return typeof e=="function"?e.apply(void 0,t):e}function ad(e,t){if(t===0)return e;var r;return function(n){clearTimeout(r),r=setTimeout(function(){e(n)},t)}}function NC(e){return e.split(/\s+/).filter(Boolean)}function An(e){return[].concat(e)}function od(e,t){e.indexOf(t)===-1&&e.push(t)}function BC(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function zC(e){return e.split("-")[0]}function es(e){return[].slice.call(e)}function sd(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function Gi(){return document.createElement("div")}function Ss(e){return["Element","Fragment"].some(function(t){return gc(e,t)})}function FC(e){return gc(e,"NodeList")}function HC(e){return gc(e,"MouseEvent")}function GC(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function $C(e){return Ss(e)?[e]:FC(e)?es(e):Array.isArray(e)?e:es(document.querySelectorAll(e))}function el(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function ld(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function WC(e){var t,r=An(e),n=r[0];return n!=null&&(t=n.ownerDocument)!=null&&t.body?n.ownerDocument:document}function jC(e,t){var r=t.clientX,n=t.clientY;return e.every(function(i){var a=i.popperRect,o=i.popperState,s=i.props,l=s.interactiveBorder,u=zC(o.placement),c=o.modifiersData.offset;if(!c)return!0;var f=u==="bottom"?c.top.y:0,d=u==="top"?c.bottom.y:0,p=u==="right"?c.left.x:0,v=u==="left"?c.right.x:0,h=a.top-n+f>l,g=n-a.bottom-d>l,m=a.left-r+p>l,y=r-a.right-v>l;return h||g||m||y})}function rl(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[n](i,r)})}function ud(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var ir={isTouch:!1},cd=0;function VC(){ir.isTouch||(ir.isTouch=!0,window.performance&&document.addEventListener("mousemove",jh))}function jh(){var e=performance.now();e-cd<20&&(ir.isTouch=!1,document.removeEventListener("mousemove",jh)),cd=e}function qC(){var e=document.activeElement;if(GC(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function UC(){document.addEventListener("touchstart",VC,Jr),window.addEventListener("blur",qC)}var YC=typeof window<"u"&&typeof document<"u",XC=YC?!!window.msCrypto:!1,KC={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ZC={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ue=Object.assign({appendTo:$h,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},KC,ZC),JC=Object.keys(Ue),QC=function(t){var r=Object.keys(t);r.forEach(function(n){Ue[n]=t[n]})};function Vh(e){var t=e.plugins||[],r=t.reduce(function(n,i){var a=i.name,o=i.defaultValue;if(a){var s;n[a]=e[a]!==void 0?e[a]:(s=Ue[a])!=null?s:o}return n},{});return Object.assign({},e,r)}function t2(e,t){var r=t?Object.keys(Vh(Object.assign({},Ue,{plugins:t}))):JC,n=r.reduce(function(i,a){var o=(e.getAttribute("data-tippy-"+a)||"").trim();if(!o)return i;if(a==="content")i[a]=o;else try{i[a]=JSON.parse(o)}catch{i[a]=o}return i},{});return n}function fd(e,t){var r=Object.assign({},t,{content:Wh(t.content,[e])},t.ignoreAttributes?{}:t2(e,t.plugins));return r.aria=Object.assign({},Ue.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var e2=function(){return"innerHTML"};function eu(e,t){e[e2()]=t}function dd(e){var t=Gi();return e===!0?t.className=Hh:(t.className=Gh,Ss(e)?t.appendChild(e):eu(t,e)),t}function pd(e,t){Ss(t.content)?(eu(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?eu(e,t.content):e.textContent=t.content)}function ru(e){var t=e.firstElementChild,r=es(t.children);return{box:t,content:r.find(function(n){return n.classList.contains(Fh)}),arrow:r.find(function(n){return n.classList.contains(Hh)||n.classList.contains(Gh)}),backdrop:r.find(function(n){return n.classList.contains(LC)})}}function qh(e){var t=Gi(),r=Gi();r.className=IC,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=Gi();n.className=Fh,n.setAttribute("data-state","hidden"),pd(n,e.props),t.appendChild(r),r.appendChild(n),i(e.props,e.props);function i(a,o){var s=ru(t),l=s.box,u=s.content,c=s.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(a.content!==o.content||a.allowHTML!==o.allowHTML)&&pd(u,e.props),o.arrow?c?a.arrow!==o.arrow&&(l.removeChild(c),l.appendChild(dd(o.arrow))):l.appendChild(dd(o.arrow)):c&&l.removeChild(c)}return{popper:t,onUpdate:i}}qh.$$tippy=!0;var r2=1,Ja=[],nl=[];function n2(e,t){var r=fd(e,Object.assign({},Ue,Vh(sd(t)))),n,i,a,o=!1,s=!1,l=!1,u=!1,c,f,d,p=[],v=ad(ft,r.interactiveDebounce),h,g=r2++,m=null,y=BC(r.plugins),E={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:g,reference:e,popper:Gi(),popperInstance:m,props:r,state:E,plugins:y,clearDelayTimeouts:Oe,setProps:Me,setContent:Xr,show:Da,hide:Cs,hideWithInteractivity:_n,enable:Ht,disable:Ut,unmount:fi,destroy:Ds};if(!r.render)return b;var _=r.render(b),w=_.popper,x=_.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,e._tippy=b,w._tippy=b;var S=y.map(function(F){return F.fn(b)}),T=e.hasAttribute("aria-expanded");return rt(),H(),L(),N("onCreate",[b]),r.showOnCreate&&ee(),w.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&D().addEventListener("mousemove",v)}),b;function O(){var F=b.props.touch;return Array.isArray(F)?F:[F,0]}function R(){return O()[0]==="hold"}function M(){var F;return!!((F=b.props.render)!=null&&F.$$tippy)}function C(){return h||e}function D(){var F=C().parentNode;return F?WC(F):document}function A(){return ru(w)}function k(F){return b.state.isMounted&&!b.state.isVisible||ir.isTouch||c&&c.type==="focus"?0:tl(b.props.delay,F?0:1,Ue.delay)}function L(F){F===void 0&&(F=!1),w.style.pointerEvents=b.props.interactive&&!F?"":"none",w.style.zIndex=""+b.props.zIndex}function N(F,it,ct){if(ct===void 0&&(ct=!0),S.forEach(function(Tt){Tt[F]&&Tt[F].apply(Tt,it)}),ct){var kt;(kt=b.props)[F].apply(kt,it)}}function B(){var F=b.props.aria;if(F.content){var it="aria-"+F.content,ct=w.id,kt=An(b.props.triggerTarget||e);kt.forEach(function(Tt){var ce=Tt.getAttribute(it);if(b.state.isVisible)Tt.setAttribute(it,ce?ce+" "+ct:ct);else{var St=ce&&ce.replace(ct,"").trim();St?Tt.setAttribute(it,St):Tt.removeAttribute(it)}})}}function H(){if(!(T||!b.props.aria.expanded)){var F=An(b.props.triggerTarget||e);F.forEach(function(it){b.props.interactive?it.setAttribute("aria-expanded",b.state.isVisible&&it===C()?"true":"false"):it.removeAttribute("aria-expanded")})}}function z(){D().removeEventListener("mousemove",v),Ja=Ja.filter(function(F){return F!==v})}function X(F){if(!(ir.isTouch&&(l||F.type==="mousedown"))){var it=F.composedPath&&F.composedPath()[0]||F.target;if(!(b.props.interactive&&ud(w,it))){if(An(b.props.triggerTarget||e).some(function(ct){return ud(ct,it)})){if(ir.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[b,F]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),s=!0,setTimeout(function(){s=!1}),b.state.isMounted||V())}}}function j(){l=!0}function $(){l=!1}function K(){var F=D();F.addEventListener("mousedown",X,!0),F.addEventListener("touchend",X,Jr),F.addEventListener("touchstart",$,Jr),F.addEventListener("touchmove",j,Jr)}function V(){var F=D();F.removeEventListener("mousedown",X,!0),F.removeEventListener("touchend",X,Jr),F.removeEventListener("touchstart",$,Jr),F.removeEventListener("touchmove",j,Jr)}function Z(F,it){ut(F,function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&it()})}function Q(F,it){ut(F,it)}function ut(F,it){var ct=A().box;function kt(Tt){Tt.target===ct&&(rl(ct,"remove",kt),it())}if(F===0)return it();rl(ct,"remove",f),rl(ct,"add",kt),f=kt}function at(F,it,ct){ct===void 0&&(ct=!1);var kt=An(b.props.triggerTarget||e);kt.forEach(function(Tt){Tt.addEventListener(F,it,ct),p.push({node:Tt,eventType:F,handler:it,options:ct})})}function rt(){R()&&(at("touchstart",Ct,{passive:!0}),at("touchend",dt,{passive:!0})),NC(b.props.trigger).forEach(function(F){if(F!=="manual")switch(at(F,Ct),F){case"mouseenter":at("mouseleave",dt);break;case"focus":at(XC?"focusout":"blur",vt);break;case"focusin":at("focusout",vt);break}})}function nt(){p.forEach(function(F){var it=F.node,ct=F.eventType,kt=F.handler,Tt=F.options;it.removeEventListener(ct,kt,Tt)}),p=[]}function Ct(F){var it,ct=!1;if(!(!b.state.isEnabled||It(F)||s)){var kt=((it=c)==null?void 0:it.type)==="focus";c=F,h=F.currentTarget,H(),!b.state.isVisible&&HC(F)&&Ja.forEach(function(Tt){return Tt(F)}),F.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||o)&&b.props.hideOnClick!==!1&&b.state.isVisible?ct=!0:ee(F),F.type==="click"&&(o=!ct),ct&&!kt&&qt(F)}}function ft(F){var it=F.target,ct=C().contains(it)||w.contains(it);if(!(F.type==="mousemove"&&ct)){var kt=Ft().concat(w).map(function(Tt){var ce,St=Tt._tippy,Xt=(ce=St.popperInstance)==null?void 0:ce.state;return Xt?{popperRect:Tt.getBoundingClientRect(),popperState:Xt,props:r}:null}).filter(Boolean);jC(kt,F)&&(z(),qt(F))}}function dt(F){var it=It(F)||b.props.trigger.indexOf("click")>=0&&o;if(!it){if(b.props.interactive){b.hideWithInteractivity(F);return}qt(F)}}function vt(F){b.props.trigger.indexOf("focusin")<0&&F.target!==C()||b.props.interactive&&F.relatedTarget&&w.contains(F.relatedTarget)||qt(F)}function It(F){return ir.isTouch?R()!==F.type.indexOf("touch")>=0:!1}function At(){ht();var F=b.props,it=F.popperOptions,ct=F.placement,kt=F.offset,Tt=F.getReferenceClientRect,ce=F.moveTransition,St=M()?ru(w).arrow:null,Xt=Tt?{getBoundingClientRect:Tt,contextElement:Tt.contextElement||C()}:e,di={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Cr){var Sn=Cr.state;if(M()){var Yh=A(),Ts=Yh.box;["placement","reference-hidden","escaped"].forEach(function(Ta){Ta==="placement"?Ts.setAttribute("data-placement",Sn.placement):Sn.attributes.popper["data-popper-"+Ta]?Ts.setAttribute("data-"+Ta,""):Ts.removeAttribute("data-"+Ta)}),Sn.attributes.popper={}}}},er=[{name:"offset",options:{offset:kt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ce}},di];M()&&St&&er.push({name:"arrow",options:{element:St,padding:3}}),er.push.apply(er,(it==null?void 0:it.modifiers)||[]),b.popperInstance=PC(Xt,w,Object.assign({},it,{placement:ct,onFirstUpdate:d,modifiers:er}))}function ht(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Et(){var F=b.props.appendTo,it,ct=C();b.props.interactive&&F===$h||F==="parent"?it=ct.parentNode:it=Wh(F,[ct]),it.contains(w)||it.appendChild(w),b.state.isMounted=!0,At()}function Ft(){return es(w.querySelectorAll("[data-tippy-root]"))}function ee(F){b.clearDelayTimeouts(),F&&N("onTrigger",[b,F]),K();var it=k(!0),ct=O(),kt=ct[0],Tt=ct[1];ir.isTouch&&kt==="hold"&&Tt&&(it=Tt),it?n=setTimeout(function(){b.show()},it):b.show()}function qt(F){if(b.clearDelayTimeouts(),N("onUntrigger",[b,F]),!b.state.isVisible){V();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(F.type)>=0&&o)){var it=k(!1);it?i=setTimeout(function(){b.state.isVisible&&b.hide()},it):a=requestAnimationFrame(function(){b.hide()})}}function Ht(){b.state.isEnabled=!0}function Ut(){b.hide(),b.state.isEnabled=!1}function Oe(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(a)}function Me(F){if(!b.state.isDestroyed){N("onBeforeUpdate",[b,F]),nt();var it=b.props,ct=fd(e,Object.assign({},it,sd(F),{ignoreAttributes:!0}));b.props=ct,rt(),it.interactiveDebounce!==ct.interactiveDebounce&&(z(),v=ad(ft,ct.interactiveDebounce)),it.triggerTarget&&!ct.triggerTarget?An(it.triggerTarget).forEach(function(kt){kt.removeAttribute("aria-expanded")}):ct.triggerTarget&&e.removeAttribute("aria-expanded"),H(),L(),x&&x(it,ct),b.popperInstance&&(At(),Ft().forEach(function(kt){requestAnimationFrame(kt._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[b,F])}}function Xr(F){b.setProps({content:F})}function Da(){var F=b.state.isVisible,it=b.state.isDestroyed,ct=!b.state.isEnabled,kt=ir.isTouch&&!b.props.touch,Tt=tl(b.props.duration,0,Ue.duration);if(!(F||it||ct||kt)&&!C().hasAttribute("disabled")&&(N("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,M()&&(w.style.visibility="visible"),L(),K(),b.state.isMounted||(w.style.transition="none"),M()){var ce=A(),St=ce.box,Xt=ce.content;el([St,Xt],0)}d=function(){var er;if(!(!b.state.isVisible||u)){if(u=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,M()&&b.props.animation){var pi=A(),Cr=pi.box,Sn=pi.content;el([Cr,Sn],Tt),ld([Cr,Sn],"visible")}B(),H(),od(nl,b),(er=b.popperInstance)==null||er.forceUpdate(),N("onMount",[b]),b.props.animation&&M()&&Q(Tt,function(){b.state.isShown=!0,N("onShown",[b])})}},Et()}}function Cs(){var F=!b.state.isVisible,it=b.state.isDestroyed,ct=!b.state.isEnabled,kt=tl(b.props.duration,1,Ue.duration);if(!(F||it||ct)&&(N("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,u=!1,o=!1,M()&&(w.style.visibility="hidden"),z(),V(),L(!0),M()){var Tt=A(),ce=Tt.box,St=Tt.content;b.props.animation&&(el([ce,St],kt),ld([ce,St],"hidden"))}B(),H(),b.props.animation?M()&&Z(kt,b.unmount):b.unmount()}}function _n(F){D().addEventListener("mousemove",v),od(Ja,v),v(F)}function fi(){b.state.isVisible&&b.hide(),b.state.isMounted&&(ht(),Ft().forEach(function(F){F._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w),nl=nl.filter(function(F){return F!==b}),b.state.isMounted=!1,N("onHidden",[b]))}function Ds(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),nt(),delete e._tippy,b.state.isDestroyed=!0,N("onDestroy",[b]))}}function ci(e,t){t===void 0&&(t={});var r=Ue.plugins.concat(t.plugins||[]);UC();var n=Object.assign({},t,{plugins:r}),i=$C(e),a=i.reduce(function(o,s){var l=s&&n2(s,n);return l&&o.push(l),o},[]);return Ss(e)?a[0]:a}ci.defaultProps=Ue;ci.setDefaultProps=QC;ci.currentInput=ir;Object.assign({},kh,{effect:function(t){var r=t.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});ci.setDefaultProps({render:qh});function i2(e){let t,r,n,i;return{c(){t=Si("svg"),r=Si("path"),n=Si("path"),ot(r,"d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"),ot(r,"fill","currentColor"),ot(n,"d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"),ot(n,"fill","currentFill"),ot(t,"aria-hidden","true"),ot(t,"class",i=(e[0]||"h-4 w-4")+" animate-spin fill-stone-600 text-stone-200"),ot(t,"viewBox","0 0 100 101"),ot(t,"fill","none"),ot(t,"xmlns","http://www.w3.org/2000/svg")},m(a,o){Gt(a,t,o),tt(t,r),tt(t,n)},p(a,[o]){o&1&&i!==(i=(a[0]||"h-4 w-4")+" animate-spin fill-stone-600 text-stone-200")&&ot(t,"class",i)},i:Ye,o:Ye,d(a){a&&$t(t)}}}function a2(e,t,r){let{dimensions:n=""}=t;return e.$$set=i=>{"dimensions"in i&&r(0,n=i.dimensions)},[n]}class o2 extends Rt{constructor(t){super(),Pt(this,t,a2,i2,Mt,{dimensions:0})}}function vd(e,t,r){const n=e.slice();return n[14]=t[r],n[16]=r,n}function hd(e){let t,r=[],n=new Map,i,a=e[0];const o=s=>s[16];for(let s=0;s<a.length;s+=1){let l=vd(e,a,s),u=o(l);n.set(u,r[s]=gd(u,l))}return{c(){t=pt("div");for(let s=0;s<r.length;s+=1)r[s].c();ot(t,"id","slash-command"),ot(t,"class","z-50 h-auto max-h-[330px] w-72 overflow-y-auto rounded-md border border-stone-200 bg-white px-1 py-2 shadow-md transition-all")},m(s,l){Gt(s,t,l);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);e[11](t),i=!0},p(s,l){l&43&&(a=s[0],ae(),r=Hn(r,l,o,1,s,a,n,t,$i,gd,null,vd),oe())},i(s){if(!i){for(let l=0;l<a.length;l+=1)W(r[l]);i=!0}},o(s){for(let l=0;l<r.length;l+=1)Y(r[l]);i=!1},d(s){s&&$t(t);for(let l=0;l<r.length;l+=1)r[l].d();e[11](null)}}}function s2(e){let t,r,n;var i=e[14].icon;function a(o){return{props:{size:"18"}}}return i&&(t=Br(i,a())),{c(){t&&bt(t.$$.fragment),r=da()},m(o,s){t&&yt(t,o,s),Gt(o,r,s),n=!0},p(o,s){if(s&1&&i!==(i=o[14].icon)){if(t){ae();const l=t;Y(l.$$.fragment,1,0,()=>{wt(l,1)}),oe()}i?(t=Br(i,a()),bt(t.$$.fragment),W(t.$$.fragment,1),yt(t,r.parentNode,r)):t=null}},i(o){n||(t&&W(t.$$.fragment,o),n=!0)},o(o){t&&Y(t.$$.fragment,o),n=!1},d(o){o&&$t(r),t&&wt(t,o)}}}function l2(e){let t,r;return t=new o2({}),{c(){bt(t.$$.fragment)},m(n,i){yt(t,n,i),r=!0},p:Ye,i(n){r||(W(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){wt(t,n)}}}function gd(e,t){let r,n,i,a,o,s,l,u=t[14].title+"",c,f,d,p=t[14].description+"",v,h,g,m,y,E,b;const _=[l2,s2],w=[];function x(T,O){return T[14].title==="Continue writing"&&T[3]?0:1}i=x(t),a=w[i]=_[i](t);function S(){return t[10](t[16])}return{key:e,first:null,c(){r=pt("button"),n=pt("div"),a.c(),o=Lt(),s=pt("div"),l=pt("p"),c=zr(u),f=Lt(),d=pt("p"),v=zr(p),h=Lt(),ot(n,"class","flex h-10 w-10 items-center justify-center rounded-md border border-stone-200 bg-white"),ot(l,"class","font-medium"),ot(d,"class","text-xs text-stone-500"),ot(r,"class",g="flex w-full items-center space-x-2 rounded-md px-2 py-1 text-left text-sm text-stone-900 hover:bg-stone-100 scroll-my-2 "+(t[16]===t[1]?"bg-stone-100 text-stone-900":"")),ot(r,"data-index",m=t[16]),ot(r,"type","button"),this.first=r},m(T,O){Gt(T,r,O),tt(r,n),w[i].m(n,null),tt(r,o),tt(r,s),tt(s,l),tt(l,c),tt(s,f),tt(s,d),tt(d,v),tt(r,h),y=!0,E||(b=Sr(r,"click",S),E=!0)},p(T,O){t=T;let R=i;i=x(t),i===R?w[i].p(t,O):(ae(),Y(w[R],1,1,()=>{w[R]=null}),oe(),a=w[i],a?a.p(t,O):(a=w[i]=_[i](t),a.c()),W(a,1),a.m(n,null)),(!y||O&1)&&u!==(u=t[14].title+"")&&ao(c,u),(!y||O&1)&&p!==(p=t[14].description+"")&&ao(v,p),(!y||O&3&&g!==(g="flex w-full items-center space-x-2 rounded-md px-2 py-1 text-left text-sm text-stone-900 hover:bg-stone-100 scroll-my-2 "+(t[16]===t[1]?"bg-stone-100 text-stone-900":"")))&&ot(r,"class",g),(!y||O&1&&m!==(m=t[16]))&&ot(r,"data-index",m)},i(T){y||(W(a),y=!0)},o(T){Y(a),y=!1},d(T){T&&$t(r),w[i].d(),E=!1,b()}}}function u2(e){let t,r,n,i,a=e[0].length>0&&hd(e);return{c(){a&&a.c(),t=da()},m(o,s){a&&a.m(o,s),Gt(o,t,s),r=!0,n||(i=Sr(window,"keydown",e[6]),n=!0)},p(o,[s]){o[0].length>0?a?(a.p(o,s),s&1&&W(a,1)):(a=hd(o),a.c(),W(a,1),a.m(t.parentNode,t)):a&&(ae(),Y(a,1,1,()=>{a=null}),oe())},i(o){r||(W(a),r=!0)},o(o){Y(a),r=!1},d(o){a&&a.d(o),o&&$t(t),n=!1,i()}}}function c2(e,t,r){let n,{items:i=[]}=t,{command:a}=t,{editor:o}=t,{range:s}=t,l=0;const{complete:u,isLoading:c}=jd({id:"novel",api:"/api/generate",onResponse:m=>{if(m.status===429){la({data:{text:"You have reached your request limit for the day.",type:"error"}});return}o.chain().focus().deleteRange(s).run()},onFinish:(m,y)=>{o.commands.setTextSelection({from:s.from,to:s.from+y.length})},onError:m=>{la({data:{text:m.message,type:"error"}})}});Ee(e,c,m=>r(3,n=m));const f=m=>{const y=i[m];if(y)if(y.title==="Continue writing"){if(n)return;u(al(o,{chars:5e3,offset:1}))}else a(y)},d=["ArrowUp","ArrowDown","Enter"],p=m=>{if(!d.includes(m.key))return;m.preventDefault(),m.key==="ArrowUp"?r(1,l=(l+i.length-1)%i.length):m.key==="ArrowDown"?r(1,l=(l+1)%i.length):m.key==="Enter"&&f(l);const y=v.querySelector(`[data-index="${l}"]`);y&&y.scrollIntoView({block:"nearest"})};let v;const h=m=>f(m);function g(m){Lr[m?"unshift":"push"](()=>{v=m,r(2,v)})}return e.$$set=m=>{"items"in m&&r(0,i=m.items),"command"in m&&r(7,a=m.command),"editor"in m&&r(8,o=m.editor),"range"in m&&r(9,s=m.range)},[i,l,v,n,c,f,p,a,o,s,h,g]}class f2 extends Rt{constructor(t){super(),Pt(this,t,c2,u2,Mt,{items:0,command:7,editor:8,range:9})}}const d2=is.create({name:"slash-command",addOptions(){return{suggestion:{char:"/",command:({editor:e,range:t,props:r})=>{r.command({editor:e,range:t})}}}},addProseMirrorPlugins(){return[OS({editor:this.editor,...this.options.suggestion})]}}),p2=({query:e})=>[{title:"Text",description:"Just start typing with plain text.",searchTerms:["p","paragraph"],icon:Oh,command:({editor:t,range:r})=>{t.chain().focus().deleteRange(r).toggleNode("paragraph","paragraph").run()}},{title:"To-do List",description:"Track tasks with a to-do list.",searchTerms:["todo","task","list","check","checkbox"],icon:Eh,command:({editor:t,range:r})=>{t.chain().focus().deleteRange(r).toggleTaskList().run()}},{title:"Heading 1",description:"Big section heading.",searchTerms:["title","big","large"],icon:Sh,command:({editor:t,range:r})=>{t.chain().focus().deleteRange(r).setNode("heading",{level:1}).run()}},{title:"Heading 2",description:"Medium section heading.",searchTerms:["subtitle","medium"],icon:Ch,command:({editor:t,range:r})=>{t.chain().focus().deleteRange(r).setNode("heading",{level:2}).run()}},{title:"Heading 3",description:"Small section heading.",searchTerms:["subtitle","small"],icon:Dh,command:({editor:t,range:r})=>{t.chain().focus().deleteRange(r).setNode("heading",{level:3}).run()}},{title:"Bullet List",description:"Create a simple bullet list.",searchTerms:["unordered","point"],icon:I_,command:({editor:t,range:r})=>{t.chain().focus().deleteRange(r).toggleBulletList().run()}},{title:"Numbered List",description:"Create a list with numbering.",searchTerms:["ordered"],icon:Jl,command:({editor:t,range:r})=>{t.chain().focus().deleteRange(r).toggleOrderedList().run()}},{title:"Quote",description:"Capture a quote.",searchTerms:["blockquote"],icon:Th,command:({editor:t,range:r})=>t.chain().focus().deleteRange(r).toggleNode("paragraph","paragraph").toggleBlockquote().run()},{title:"Code",description:"Capture a code snippet.",searchTerms:["codeblock"],icon:sc,command:({editor:t,range:r})=>t.chain().focus().deleteRange(r).toggleCodeBlock().run()}].filter(t=>{if(typeof e=="string"&&e.length>0){const r=e.toLowerCase();return t.title.toLowerCase().includes(r)||t.description.toLowerCase().includes(r)||t.searchTerms&&t.searchTerms.some(n=>n.includes(r))}return!0}),v2=()=>{let e=null,t=null;return{onStart:r=>{const n=document.createElement("div");e=sg(f2,{target:n,props:r}),t=ci("body",{getReferenceClientRect:r.clientRect,appendTo:()=>document.body,content:n,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"})},onUpdate:r=>{e==null||e.$set(r),t&&t[0].setProps({getReferenceClientRect:r.clientRect})},onKeyDown:r=>{if(r.event.key==="Escape")return t==null||t[0].hide(),!0},onExit:()=>{t==null||t[0].destroy(),lg(e)}}},h2=d2.configure({suggestion:{items:p2,render:v2}}),g2=$v.extend({addAttributes(){var e;return{...(e=this.parent)==null?void 0:e.call(this),width:{default:null},height:{default:null}}}}),m2=[bg.configure({bulletList:{HTMLAttributes:{class:"list-disc list-outside leading-3 -mt-2"}},orderedList:{HTMLAttributes:{class:"list-decimal list-outside leading-3 -mt-2"}},listItem:{HTMLAttributes:{class:"leading-normal -mb-2"}},blockquote:{HTMLAttributes:{class:"border-l-4 border-stone-700"}},codeBlock:{HTMLAttributes:{class:"rounded-sm bg-stone-100 p-5 font-mono font-medium text-stone-800"}},code:{HTMLAttributes:{class:"rounded-md bg-stone-200 px-1.5 py-1 font-mono font-medium text-stone-900",spellcheck:"false"}},horizontalRule:!1,dropcursor:{color:"#DBEAFE",width:4},gapcursor:!1}),yg.extend({addInputRules(){return[new wg({find:/^(?:---|-|___\s|\*\*\*\s)$/,handler:({state:e,range:t})=>{const r={},{tr:n}=e,i=t.from,a=t.to;n.insert(i-1,this.type.create(r)).delete(n.mapping.map(i),n.mapping.map(a))}})]}}).configure({HTMLAttributes:{class:"mt-4 mb-6 border-t border-stone-300"}}),kw.configure({HTMLAttributes:{class:"text-stone-400 underline underline-offset-[3px] hover:text-stone-600 transition-colors cursor-pointer"}}),$v.extend({addProseMirrorPlugins(){return[ES()]}}).configure({allowBase64:!0,HTMLAttributes:{class:"rounded-lg border border-stone-200"}}),g2.configure({HTMLAttributes:{class:"rounded-lg border border-stone-200"}}),Rw.configure({placeholder:({node:e})=>e.type.name==="heading"?`Heading ${e.attrs.level}`:"Press '/' for commands, or '++' for AI autocomplete...",includeChildren:!0}),h2,Nw,nw,iw,sw.configure({multicolor:!0}),Lw.configure({HTMLAttributes:{class:"not-prose pl-2"}}),Iw.configure({HTMLAttributes:{class:"flex items-start my-4"},nested:!0}),xg.configure({html:!1,transformCopiedText:!0})],b2={attributes:{class:"prose-lg prose-stone dark:prose-invert prose-headings:font-title font-default focus:outline-none max-w-full"},handleDOMEvents:{keydown:(e,t)=>{if(["ArrowUp","ArrowDown","Enter"].includes(t.key)&&document.querySelector("#slash-command"))return!0}},handlePaste:(e,t)=>{if(t.clipboardData&&t.clipboardData.files&&t.clipboardData.files[0]){t.preventDefault();const r=t.clipboardData.files[0],n=e.state.selection.from;return Xf(r,e,n),!0}return!1},handleDrop:(e,t,r,n)=>{if(!n&&t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files[0]){t.preventDefault();const i=t.dataTransfer.files[0],a=e.posAtCoords({left:t.clientX,top:t.clientY});return Xf(i,e,(a==null?void 0:a.pos)||0-1),!0}return!1}};function md(e,t,r){const n=e.slice();return n[13]=t[r].name,n[14]=t[r].color,n[16]=r,n}function bd(e,t,r){const n=e.slice();return n[13]=t[r].name,n[14]=t[r].color,n[16]=r,n}function yd(e){let t,r;return t=new Es({props:{class:"h-4 w-4"}}),{c(){bt(t.$$.fragment)},m(n,i){yt(t,n,i),r=!0},i(n){r||(W(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){wt(t,n)}}}function wd(e,t){let r,n,i,a,o,s=t[13]+"",l,u,c=t[1].isActive("textStyle",{color:t[14]}),f,d,p,v=c&&yd();function h(){return t[10](t[13],t[14])}return{key:e,first:null,c(){r=pt("button"),n=pt("div"),i=pt("div"),i.textContent="A",a=Lt(),o=pt("span"),l=zr(s),u=Lt(),v&&v.c(),ot(i,"class","rounded-sm border border-stone-200 px-1 py-px font-medium"),oo(i,"color",t[14]),ot(n,"class","flex items-center space-x-2"),ot(r,"class","flex items-center justify-between rounded-sm px-2 py-1 text-sm text-stone-600 hover:bg-stone-100"),ot(r,"type","button"),this.first=r},m(g,m){Gt(g,r,m),tt(r,n),tt(n,i),tt(n,a),tt(n,o),tt(o,l),tt(r,u),v&&v.m(r,null),f=!0,d||(p=Sr(r,"click",h),d=!0)},p(g,m){t=g,m&2&&(c=t[1].isActive("textStyle",{color:t[14]})),c?v?m&2&&W(v,1):(v=yd(),v.c(),W(v,1),v.m(r,null)):v&&(ae(),Y(v,1,1,()=>{v=null}),oe())},i(g){f||(W(v),f=!0)},o(g){Y(v),f=!1},d(g){g&&$t(r),v&&v.d(),d=!1,p()}}}function xd(e){let t,r;return t=new Es({props:{class:"h-4 w-4"}}),{c(){bt(t.$$.fragment)},m(n,i){yt(t,n,i),r=!0},i(n){r||(W(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){wt(t,n)}}}function Ed(e,t){let r,n,i,a,o,s=t[13]+"",l,u,c=t[1].isActive("highlight",{color:t[14]}),f,d,p,v,h=c&&xd();function g(){return t[11](t[13],t[14])}return{key:e,first:null,c(){r=pt("button"),n=pt("div"),i=pt("div"),i.textContent="A",a=Lt(),o=pt("span"),l=zr(s),u=Lt(),h&&h.c(),f=Lt(),ot(i,"class","rounded-sm border border-stone-200 px-1 py-px font-medium"),oo(i,"background-color",t[14]),ot(n,"class","flex items-center space-x-2"),ot(r,"class","flex items-center justify-between rounded-sm px-2 py-1 text-sm text-stone-600 hover:bg-stone-100"),ot(r,"type","button"),this.first=r},m(m,y){Gt(m,r,y),tt(r,n),tt(n,i),tt(n,a),tt(n,o),tt(o,l),tt(r,u),h&&h.m(r,null),tt(r,f),d=!0,p||(v=Sr(r,"click",g),p=!0)},p(m,y){t=m,y&2&&(c=t[1].isActive("highlight",{color:t[14]})),c?h?y&2&&W(h,1):(h=xd(),h.c(),W(h,1),h.m(r,f)):h&&(ae(),Y(h,1,1,()=>{h=null}),oe())},i(m){d||(W(h),d=!0)},o(m){Y(h),d=!1},d(m){m&&$t(r),h&&h.d(),p=!1,v()}}}function y2(e){let t,r,n,i,a,o,s,l,u,c,f=[],d=new Map,p,v,h,g=[],m=new Map,y,E,b;o=new _h({props:{class:"h-4 w-4"}});let _=[{type:"button"},e[2],{class:"flex h-full items-center gap-1 p-2 text-sm font-medium text-stone-600 hover:bg-stone-100 active:bg-stone-200"}],w={};for(let C=0;C<_.length;C+=1)w=J(w,_[C]);let x=e[4];const S=C=>C[16];for(let C=0;C<x.length;C+=1){let D=bd(e,x,C),A=S(D);d.set(A,f[C]=wd(A,D))}let T=e[5];const O=C=>C[16];for(let C=0;C<T.length;C+=1){let D=md(e,T,C),A=O(D);m.set(A,g[C]=Ed(A,D))}let R=[e[3],{align:"start"},{class:"z-[99999] my-1 flex max-h-80 w-48 flex-col overflow-hidden overflow-y-auto rounded border border-stone-200 bg-white p-1 shadow-xl animate-in fade-in slide-in-from-top-1"}],M={};for(let C=0;C<R.length;C+=1)M=J(M,R[C]);return{c(){var C,D;t=pt("div"),r=pt("div"),n=pt("button"),i=pt("span"),i.textContent="A",a=Lt(),bt(o.$$.fragment),s=Lt(),l=pt("div"),u=pt("div"),u.textContent="Color",c=Lt();for(let A=0;A<f.length;A+=1)f[A].c();p=Lt(),v=pt("div"),v.textContent="Background",h=Lt();for(let A=0;A<g.length;A+=1)g[A].c();ot(i,"class","rounded-sm px-1"),oo(i,"color",(C=e[6])==null?void 0:C.color),oo(i,"background-color",(D=e[7])==null?void 0:D.color),Be(n,w),ot(u,"class","my-1 px-2 text-sm text-stone-500"),ot(v,"class","mb-1 mt-2 px-2 text-sm text-stone-500"),Be(l,M),ot(r,"class","relative h-full")},m(C,D){Gt(C,t,D),tt(t,r),tt(r,n),tt(n,i),tt(n,a),yt(o,n,null),n.autofocus&&n.focus(),tt(r,s),tt(r,l),tt(l,u),tt(l,c);for(let A=0;A<f.length;A+=1)f[A]&&f[A].m(l,null);tt(l,p),tt(l,v),tt(l,h);for(let A=0;A<g.length;A+=1)g[A]&&g[A].m(l,null);y=!0,E||(b=[cn(e[2].action(n)),cn(e[3].action(l))],E=!0)},p(C,[D]){Be(n,w=zt(_,[{type:"button"},D&4&&C[2],{class:"flex h-full items-center gap-1 p-2 text-sm font-medium text-stone-600 hover:bg-stone-100 active:bg-stone-200"}])),D&19&&(x=C[4],ae(),f=Hn(f,D,S,1,C,x,d,l,$i,wd,p,bd),oe()),D&35&&(T=C[5],ae(),g=Hn(g,D,O,1,C,T,m,l,$i,Ed,null,md),oe()),Be(l,M=zt(R,[D&8&&C[3],{align:"start"},{class:"z-[99999] my-1 flex max-h-80 w-48 flex-col overflow-hidden overflow-y-auto rounded border border-stone-200 bg-white p-1 shadow-xl animate-in fade-in slide-in-from-top-1"}]))},i(C){if(!y){W(o.$$.fragment,C);for(let D=0;D<x.length;D+=1)W(f[D]);for(let D=0;D<T.length;D+=1)W(g[D]);y=!0}},o(C){Y(o.$$.fragment,C);for(let D=0;D<f.length;D+=1)Y(f[D]);for(let D=0;D<g.length;D+=1)Y(g[D]);y=!1},d(C){C&&$t(t),wt(o);for(let D=0;D<f.length;D+=1)f[D].d();for(let D=0;D<g.length;D+=1)g[D].d();E=!1,nu(b)}}}function w2(e,t,r){let n,i,{editor:a}=t,{isOpen:o}=t;const s=[{name:"Default",color:"var(--novel-black)"},{name:"Purple",color:"#9333EA"},{name:"Red",color:"#E00000"},{name:"Yellow",color:"#EAB308"},{name:"Blue",color:"#2563EB"},{name:"Green",color:"#008A00"},{name:"Orange",color:"#FFA500"},{name:"Pink",color:"#BA4081"},{name:"Gray",color:"#A8A29E"}],l=[{name:"Default",color:"var(--novel-highlight-default)"},{name:"Purple",color:"var(--novel-highlight-purple)"},{name:"Red",color:"var(--novel-highlight-red)"},{name:"Yellow",color:"var(--novel-highlight-yellow)"},{name:"Blue",color:"var(--novel-highlight-blue)"},{name:"Green",color:"var(--novel-highlight-green)"},{name:"Orange",color:"var(--novel-highlight-orange)"},{name:"Pink",color:"var(--novel-highlight-pink)"},{name:"Gray",color:"var(--novel-highlight-gray)"}],u=s.find(({color:g})=>a.isActive("textStyle",{color:g})),c=l.find(({color:g})=>a.isActive("highlight",{color:g})),{elements:{trigger:f,content:d},states:{open:p}}=xh({defaultOpen:o,onOpenChange({next:g}){return r(0,o=g),g}});Ee(e,f,g=>r(2,n=g)),Ee(e,d,g=>r(3,i=g));const v=(g,m)=>{a.commands.unsetColor(),g!=="Default"&&a.chain().focus().setColor(m||"").run(),r(0,o=!1)},h=(g,m)=>{a.commands.unsetHighlight(),g!=="Default"&&a.commands.setHighlight({color:m}),r(0,o=!1)};return e.$$set=g=>{"editor"in g&&r(1,a=g.editor),"isOpen"in g&&r(0,o=g.isOpen)},e.$$.update=()=>{e.$$.dirty&1&&p.set(o)},[o,a,n,i,s,l,u,c,f,d,v,h]}class x2 extends Rt{constructor(t){super(),Pt(this,t,w2,y2,Mt,{editor:1,isOpen:0})}}function _d(e){let t,r,n,i,a,o,s,l,u,c;const f=[_2,E2],d=[];function p(v,h){return h&2&&(a=null),a==null&&(a=!!v[1].getAttributes("link").href),a?0:1}return o=p(e,-1),s=d[o]=f[o](e),{c(){t=pt("form"),r=pt("input"),i=Lt(),s.c(),r.autofocus=!0,ot(r,"type","text"),ot(r,"placeholder","Paste a link"),ot(r,"class","flex-1 bg-white p-1 text-sm outline-none"),r.value=n=e[1].getAttributes("link").href||"",ot(t,"class","fixed top-full z-[99999] mt-1 flex w-60 overflow-hidden rounded border border-stone-200 bg-white p-1 shadow-xl animate-in fade-in slide-in-from-top-1")},m(v,h){Gt(v,t,h),tt(t,r),e[4](r),tt(t,i),d[o].m(t,null),l=!0,r.focus(),u||(c=Sr(t,"submit",e[6]),u=!0)},p(v,h){(!l||h&2&&n!==(n=v[1].getAttributes("link").href||"")&&r.value!==n)&&(r.value=n);let g=o;o=p(v,h),o===g?d[o].p(v,h):(ae(),Y(d[g],1,1,()=>{d[g]=null}),oe(),s=d[o],s?s.p(v,h):(s=d[o]=f[o](v),s.c()),W(s,1),s.m(t,null))},i(v){l||(W(s),l=!0)},o(v){Y(s),l=!1},d(v){v&&$t(t),e[4](null),d[o].d(),u=!1,c()}}}function E2(e){let t,r,n;return r=new Es({props:{class:"h-4 w-4"}}),{c(){t=pt("button"),bt(r.$$.fragment),ot(t,"class","flex items-center rounded-sm p-1 text-stone-600 transition-all hover:bg-stone-100")},m(i,a){Gt(i,t,a),yt(r,t,null),n=!0},p:Ye,i(i){n||(W(r.$$.fragment,i),n=!0)},o(i){Y(r.$$.fragment,i),n=!1},d(i){i&&$t(t),wt(r)}}}function _2(e){let t,r,n,i,a;return r=new nS({props:{class:"h-4 w-4"}}),{c(){t=pt("button"),bt(r.$$.fragment),ot(t,"type","button"),ot(t,"class","flex items-center rounded-sm p-1 text-red-600 transition-all hover:bg-red-100 dark:hover:bg-red-800")},m(o,s){Gt(o,t,s),yt(r,t,null),n=!0,i||(a=Sr(t,"click",e[5]),i=!0)},p:Ye,i(o){n||(W(r.$$.fragment,o),n=!0)},o(o){Y(r.$$.fragment,o),n=!1},d(o){o&&$t(t),wt(r),i=!1,a()}}}function S2(e){let t,r,n,i,a,o,s,l,u,c,f,d=e[0]&&_d(e);return{c(){t=pt("div"),r=pt("button"),n=pt("p"),n.textContent="",i=Lt(),a=pt("p"),o=zr("Link"),l=Lt(),d&&d.c(),ot(n,"class","text-base"),ot(a,"class",s=ll("underline decoration-stone-400 underline-offset-4",{"text-blue-500":e[1].isActive("link")})),ot(r,"type","button"),ot(r,"class","flex h-full items-center space-x-2 px-3 py-1.5 text-sm font-medium text-stone-600 hover:bg-stone-100 active:bg-stone-200"),ot(t,"class","relative")},m(p,v){Gt(p,t,v),tt(t,r),tt(r,n),tt(r,i),tt(r,a),tt(a,o),tt(t,l),d&&d.m(t,null),u=!0,c||(f=Sr(r,"click",e[3]),c=!0)},p(p,[v]){(!u||v&2&&s!==(s=ll("underline decoration-stone-400 underline-offset-4",{"text-blue-500":p[1].isActive("link")})))&&ot(a,"class",s),p[0]?d?(d.p(p,v),v&1&&W(d,1)):(d=_d(p),d.c(),W(d,1),d.m(t,null)):d&&(ae(),Y(d,1,1,()=>{d=null}),oe())},i(p){u||(W(d),u=!0)},o(p){Y(d),u=!1},d(p){p&&$t(t),d&&d.d(),c=!1,f()}}}function C2(e,t,r){let{editor:n}=t,{isOpen:i}=t,a;const o=()=>{r(0,i=!i)};function s(c){Lr[c?"unshift":"push"](()=>{a=c,r(2,a)})}const l=()=>{n.chain().focus().unsetLink().run(),r(0,i=!1)},u=c=>{c.preventDefault();const f=c.target[0],d=r0(f.value);d&&n.chain().focus().setLink({href:d}).run(),r(0,i=!1)};return e.$$set=c=>{"editor"in c&&r(1,n=c.editor),"isOpen"in c&&r(0,i=c.isOpen)},[i,n,a,o,s,l,u]}class D2 extends Rt{constructor(t){super(),Pt(this,t,C2,S2,Mt,{editor:1,isOpen:0})}}function Sd(e,t,r){const n=e.slice();return n[10]=t[r],n[12]=r,n}function Cd(e){let t,r;return t=new Es({props:{class:"h-4 w-4"}}),{c(){bt(t.$$.fragment)},m(n,i){yt(t,n,i),r=!0},i(n){r||(W(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){wt(t,n)}}}function Dd(e,t){let r,n,i,a,o,s,l=t[10].name+"",u,c,f,d,p,v;var h=t[10].icon;function g(E){return{props:{class:"h-3 w-3"}}}h&&(a=Br(h,g()));let m=t[2].name===t[10].name&&Cd();function y(){return t[8](t[10])}return{key:e,first:null,c(){r=pt("button"),n=pt("div"),i=pt("div"),a&&bt(a.$$.fragment),o=Lt(),s=pt("span"),u=zr(l),c=Lt(),m&&m.c(),f=Lt(),ot(i,"class","rounded-sm border border-stone-200 p-1"),ot(n,"class","flex items-center space-x-2"),ot(r,"class","flex items-center justify-between rounded-sm px-2 py-1 text-sm text-stone-600 hover:bg-stone-100"),ot(r,"type","button"),this.first=r},m(E,b){Gt(E,r,b),tt(r,n),tt(n,i),a&&yt(a,i,null),tt(n,o),tt(n,s),tt(s,u),tt(r,c),m&&m.m(r,null),tt(r,f),d=!0,p||(v=Sr(r,"click",y),p=!0)},p(E,b){if(t=E,b&2&&h!==(h=t[10].icon)){if(a){ae();const _=a;Y(_.$$.fragment,1,0,()=>{wt(_,1)}),oe()}h?(a=Br(h,g()),bt(a.$$.fragment),W(a.$$.fragment,1),yt(a,i,null)):a=null}(!d||b&2)&&l!==(l=t[10].name+"")&&ao(u,l),t[2].name===t[10].name?m?b&6&&W(m,1):(m=Cd(),m.c(),W(m,1),m.m(r,f)):m&&(ae(),Y(m,1,1,()=>{m=null}),oe())},i(E){d||(a&&W(a.$$.fragment,E),W(m),d=!0)},o(E){a&&Y(a.$$.fragment,E),Y(m),d=!1},d(E){E&&$t(r),a&&wt(a),m&&m.d(),p=!1,v()}}}function T2(e){var w;let t,r,n,i,a=((w=e[2])==null?void 0:w.name)+"",o,s,l,u,c,f=[],d=new Map,p,v,h;l=new _h({props:{class:"h-4 w-4"}});let g=[e[3],{class:"flex h-full items-center gap-1 whitespace-nowrap p-2 text-sm font-medium text-stone-600 hover:bg-stone-100 active:bg-stone-200"},{type:"button"}],m={};for(let x=0;x<g.length;x+=1)m=J(m,g[x]);let y=e[1];const E=x=>x[12];for(let x=0;x<y.length;x+=1){let S=Sd(e,y,x),T=E(S);d.set(T,f[x]=Dd(T,S))}let b=[e[4],{align:"start"},{class:"z-[99999] my-1 flex max-h-80 w-48 flex-col overflow-hidden overflow-y-auto rounded border border-stone-200 bg-white p-1 shadow-xl animate-in fade-in slide-in-from-top-1"}],_={};for(let x=0;x<b.length;x+=1)_=J(_,b[x]);return{c(){t=pt("div"),r=pt("div"),n=pt("button"),i=pt("span"),o=zr(a),s=Lt(),bt(l.$$.fragment),u=Lt(),c=pt("div");for(let x=0;x<f.length;x+=1)f[x].c();Be(n,m),Be(c,_),ot(r,"class","relative h-full")},m(x,S){Gt(x,t,S),tt(t,r),tt(r,n),tt(n,i),tt(i,o),tt(n,s),yt(l,n,null),n.autofocus&&n.focus(),tt(r,u),tt(r,c);for(let T=0;T<f.length;T+=1)f[T]&&f[T].m(c,null);p=!0,v||(h=[cn(e[3].action(n)),cn(e[4].action(c))],v=!0)},p(x,[S]){var T;(!p||S&4)&&a!==(a=((T=x[2])==null?void 0:T.name)+"")&&ao(o,a),Be(n,m=zt(g,[S&8&&x[3],{class:"flex h-full items-center gap-1 whitespace-nowrap p-2 text-sm font-medium text-stone-600 hover:bg-stone-100 active:bg-stone-200"},{type:"button"}])),S&7&&(y=x[1],ae(),f=Hn(f,S,E,1,x,y,d,c,$i,Dd,null,Sd),oe()),Be(c,_=zt(b,[S&16&&x[4],{align:"start"},{class:"z-[99999] my-1 flex max-h-80 w-48 flex-col overflow-hidden overflow-y-auto rounded border border-stone-200 bg-white p-1 shadow-xl animate-in fade-in slide-in-from-top-1"}]))},i(x){if(!p){W(l.$$.fragment,x);for(let S=0;S<y.length;S+=1)W(f[S]);p=!0}},o(x){Y(l.$$.fragment,x);for(let S=0;S<f.length;S+=1)Y(f[S]);p=!1},d(x){x&&$t(t),wt(l);for(let S=0;S<f.length;S+=1)f[S].d();v=!1,nu(h)}}}function O2(e,t,r){let n,i,a,o,{editor:s}=t,{isOpen:l}=t;const{elements:{trigger:u,content:c},states:{open:f}}=xh({defaultOpen:l,onOpenChange({next:p}){return r(0,l=p),p}});Ee(e,u,p=>r(3,a=p)),Ee(e,c,p=>r(4,o=p));const d=p=>{p.command(),r(0,l=!1)};return e.$$set=p=>{"editor"in p&&r(7,s=p.editor),"isOpen"in p&&r(0,l=p.isOpen)},e.$$.update=()=>{e.$$.dirty&128&&r(1,n=[{name:"Text",icon:Oh,command:()=>s.chain().focus().toggleNode("paragraph","paragraph").run(),isActive:s.isActive("paragraph")&&!s.isActive("bulletList")&&!s.isActive("orderedList")},{name:"Heading 1",icon:Sh,command:()=>s.chain().focus().toggleHeading({level:1}).run(),isActive:s.isActive("heading",{level:1})},{name:"Heading 2",icon:Ch,command:()=>s.chain().focus().toggleHeading({level:2}).run(),isActive:s.isActive("heading",{level:2})},{name:"Heading 3",icon:Dh,command:()=>s.chain().focus().toggleHeading({level:3}).run(),isActive:s.isActive("heading",{level:3})},{name:"To-do List",icon:Eh,command:()=>s.chain().focus().toggleTaskList().run(),isActive:s.isActive("taskItem")},{name:"Bullet List",icon:Jl,command:()=>s.chain().focus().toggleBulletList().run(),isActive:s.isActive("bulletList")},{name:"Numbered List",icon:Jl,command:()=>s.chain().focus().toggleOrderedList().run(),isActive:s.isActive("orderedList")},{name:"Quote",icon:Th,command:()=>s.chain().focus().toggleNode("paragraph","paragraph").toggleBlockquote().run(),isActive:s.isActive("blockquote")},{name:"Code",icon:sc,command:()=>s.chain().focus().toggleCodeBlock().run(),isActive:s.isActive("codeBlock")}]),e.$$.dirty&2&&r(2,i=n.filter(p=>p.isActive).pop()??{name:"Multiple"}),e.$$.dirty&1&&f.set(l)},[l,n,i,a,o,u,c,s,d]}class M2 extends Rt{constructor(t){super(),Pt(this,t,O2,T2,Mt,{editor:7,isOpen:0})}}class A2{constructor({editor:t,element:r,view:n,tippyOptions:i={},updateDelay:a=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:s,state:l,from:u,to:c})=>{const{doc:f,selection:d}=l,{empty:p}=d,v=!f.textBetween(u,c).length&&Eg(l.selection),h=this.element.contains(document.activeElement);return!(!(s.hasFocus()||h)||p||v||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var l;if(this.preventHide){this.preventHide=!1;return}s!=null&&s.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(s.relatedTarget))||(s==null?void 0:s.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=s=>{this.blurHandler({event:s})},this.handleDebouncedUpdate=(s,l)=>{const u=!(l!=null&&l.selection.eq(s.state.selection)),c=!(l!=null&&l.doc.eq(s.state.doc));!u&&!c||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(s,u,c,l)},this.updateDelay))},this.updateHandler=(s,l,u,c)=>{var f,d,p;const{state:v,composing:h}=s,{selection:g}=v;if(h||!l&&!u)return;this.createTooltip();const{ranges:y}=g,E=Math.min(...y.map(w=>w.$from.pos)),b=Math.max(...y.map(w=>w.$to.pos));if(!((f=this.shouldShow)===null||f===void 0?void 0:f.call(this,{editor:this.editor,element:this.element,view:s,state:v,oldState:c,from:E,to:b}))){this.hide();return}(d=this.tippy)===null||d===void 0||d.setProps({getReferenceClientRect:((p=this.tippyOptions)===null||p===void 0?void 0:p.getReferenceClientRect)||(()=>{if(_g(v.selection)){let w=s.nodeDOM(E);if(w){const x=w.dataset.nodeViewWrapper?w:w.querySelector("[data-node-view-wrapper]");if(x&&(w=x.firstChild),w)return w.getBoundingClientRect()}}return Sg(s,E,b)})}),this.show()},this.editor=t,this.element=r,this.view=n,this.updateDelay=a,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,r=!!t.parentElement;this.tippy||!r||(this.tippy=ci(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,r){const{state:n}=t,i=n.selection.from!==n.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(t,r);return}const a=!(r!=null&&r.selection.eq(t.state.selection)),o=!(r!=null&&r.doc.eq(t.state.doc));this.updateHandler(t,a,o,r)}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,r;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(r=this.tippy)===null||r===void 0||r.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Uh=e=>new bn({key:typeof e.pluginKey=="string"?new yn(e.pluginKey):e.pluginKey,view:t=>new A2({view:t,...e})});is.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Uh({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function Td(e,t,r){const n=e.slice();return n[18]=t[r],n[20]=r,n}function Od(e,t){let r,n,i,a,o,s;var l=t[18].icon;function u(c){return{props:{class:ll("h-4 w-4",{"text-blue-500":c[18].isActive()})}}}return l&&(n=Br(l,u(t))),{key:e,first:null,c(){r=pt("button"),n&&bt(n.$$.fragment),i=Lt(),ot(r,"class","p-2 text-stone-600 hover:bg-stone-100 active:bg-stone-200"),ot(r,"type","button"),this.first=r},m(c,f){Gt(c,r,f),n&&yt(n,r,null),tt(r,i),a=!0,o||(s=Sr(r,"click",t[18].command),o=!0)},p(c,f){if(t=c,l!==(l=t[18].icon)){if(n){ae();const d=n;Y(d.$$.fragment,1,0,()=>{wt(d,1)}),oe()}l?(n=Br(l,u(t)),bt(n.$$.fragment),W(n.$$.fragment,1),yt(n,r,i)):n=null}},i(c){a||(n&&W(n.$$.fragment,c),a=!0)},o(c){n&&Y(n.$$.fragment,c),a=!1},d(c){c&&$t(r),n&&wt(n),o=!1,s()}}}function k2(e){let t,r,n,i,a,o,s,l,u=[],c=new Map,f,d,p,v;function h(x){e[13](x)}let g={editor:e[0]};e[3]!==void 0&&(g.isOpen=e[3]),r=new M2({props:g}),Lr.push(()=>Os(r,"isOpen",h));function m(x){e[14](x)}let y={editor:e[0]};e[1]!==void 0&&(y.isOpen=e[1]),a=new D2({props:y}),Lr.push(()=>Os(a,"isOpen",m));let E=e[8];const b=x=>x[20];for(let x=0;x<E.length;x+=1){let S=Td(e,E,x),T=b(S);c.set(T,u[x]=Od(T,S))}function _(x){e[15](x)}let w={editor:e[0]};return e[2]!==void 0&&(w.isOpen=e[2]),d=new x2({props:w}),Lr.push(()=>Os(d,"isOpen",_)),{c(){t=pt("div"),bt(r.$$.fragment),i=Lt(),bt(a.$$.fragment),s=Lt(),l=pt("div");for(let x=0;x<u.length;x+=1)u[x].c();f=Lt(),bt(d.$$.fragment),ot(l,"class","flex"),ot(t,"class","flex w-fit divide-x divide-stone-200 rounded border border-stone-200 bg-white shadow-xl")},m(x,S){Gt(x,t,S),yt(r,t,null),tt(t,i),yt(a,t,null),tt(t,s),tt(t,l);for(let T=0;T<u.length;T+=1)u[T]&&u[T].m(l,null);tt(t,f),yt(d,t,null),e[16](t),v=!0},p(x,[S]){const T={};S&1&&(T.editor=x[0]),!n&&S&8&&(n=!0,T.isOpen=x[3],Ms(()=>n=!1)),r.$set(T);const O={};S&1&&(O.editor=x[0]),!o&&S&2&&(o=!0,O.isOpen=x[1],Ms(()=>o=!1)),a.$set(O),S&256&&(E=x[8],ae(),u=Hn(u,S,b,1,x,E,c,l,$i,Od,null,Td),oe());const R={};S&1&&(R.editor=x[0]),!p&&S&4&&(p=!0,R.isOpen=x[2],Ms(()=>p=!1)),d.$set(R)},i(x){if(!v){W(r.$$.fragment,x),W(a.$$.fragment,x);for(let S=0;S<E.length;S+=1)W(u[S]);W(d.$$.fragment,x),v=!0}},o(x){Y(r.$$.fragment,x),Y(a.$$.fragment,x);for(let S=0;S<u.length;S+=1)Y(u[S]);Y(d.$$.fragment,x),v=!1},d(x){x&&$t(t),wt(r),wt(a);for(let S=0;S<u.length;S+=1)u[S].d();wt(d),e[16](null)}}}function R2(e,t,r){let n,i,a,o,s=xe(!1);Ee(e,s,_=>r(3,a=_));let l=xe(!1);Ee(e,l,_=>r(2,i=_));let u=xe(!1);Ee(e,u,_=>r(1,n=_));let{editor:c}=t,{tippyOptions:f={moveTransition:"transform 0.15s ease-out",onHidden:()=>{s.set(!1),l.set(!1),u.set(!1)}}}=t,{pluginKey:d="SvelteTiptapBubbleMenu"}=t,{shouldShow:p=({editor:_})=>_.isActive("image")?!1:_.view.state.selection.content().size>0}=t,{updateDelay:v=250}=t;const h=[{name:"bold",isActive:()=>c.isActive("bold"),command:()=>c.chain().focus().toggleBold().run(),icon:GE},{name:"italic",isActive:()=>c.isActive("italic"),command:()=>c.chain().focus().toggleItalic().run(),icon:C_},{name:"underline",isActive:()=>c.isActive("underline"),command:()=>c.chain().focus().toggleUnderline().run(),icon:lS},{name:"strike",isActive:()=>c.isActive("strike"),command:()=>c.chain().focus().toggleStrike().run(),icon:j_},{name:"code",isActive:()=>c.isActive("code"),command:()=>c.chain().focus().toggleCode().run(),icon:sc}],g=()=>{s.set(!1),l.set(!1),u.set(!1)};if(!c)throw new Error("Missing editor instance.");rs(()=>{const _=Uh({pluginKey:d,editor:c,element:o,tippyOptions:f,shouldShow:p,updateDelay:v});c.registerPlugin(_)}),ei(()=>{c.unregisterPlugin(d)});function m(_){a=_,s.set(a)}function y(_){n=_,u.set(n)}function E(_){i=_,l.set(i)}function b(_){Lr[_?"unshift":"push"](()=>{o=_,r(4,o)})}return e.$$set=_=>{"editor"in _&&r(0,c=_.editor),"tippyOptions"in _&&r(9,f=_.tippyOptions),"pluginKey"in _&&r(10,d=_.pluginKey),"shouldShow"in _&&r(11,p=_.shouldShow),"updateDelay"in _&&r(12,v=_.updateDelay)},e.$$.update=()=>{e.$$.dirty&8&&(a||g()),e.$$.dirty&4&&(i||g()),e.$$.dirty&2&&(n||g())},[c,n,i,a,o,s,l,u,h,f,d,p,v,m,y,E,b]}class P2 extends Rt{constructor(t){super(),Pt(this,t,R2,k2,Mt,{editor:0,tippyOptions:9,pluginKey:10,shouldShow:11,updateDelay:12})}}function Md(e){let t,r;return t=new P2({props:{editor:e[0]}}),{c(){bt(t.$$.fragment)},m(n,i){yt(t,n,i),r=!0},p(n,i){const a={};i&1&&(a.editor=n[0]),t.$set(a)},i(n){r||(W(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){wt(t,n)}}}function Ad(e){let t,r;return t=new tw({props:{editor:e[0]}}),{c(){bt(t.$$.fragment)},m(n,i){yt(t,n,i),r=!0},p(n,i){const a={};i&1&&(a.editor=n[0]),t.$set(a)},i(n){r||(W(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){wt(t,n)}}}function I2(e){var d;let t,r,n,i=(d=e[0])==null?void 0:d.isActive("image"),a,o,s,l=e[0]&&e[0].isEditable&&Md(e);const u=e[21].default,c=Zt(u,e,e[20],null);let f=i&&Ad(e);return o=new xS({}),{c(){l&&l.c(),t=Lt(),r=pt("div"),c&&c.c(),n=Lt(),f&&f.c(),a=Lt(),bt(o.$$.fragment),ot(r,"id","editor"),ot(r,"class",e[1])},m(p,v){l&&l.m(p,v),Gt(p,t,v),Gt(p,r,v),c&&c.m(r,null),tt(r,n),f&&f.m(r,null),e[22](r),Gt(p,a,v),yt(o,p,v),s=!0},p(p,[v]){var h;p[0]&&p[0].isEditable?l?(l.p(p,v),v&1&&W(l,1)):(l=Md(p),l.c(),W(l,1),l.m(t.parentNode,t)):l&&(ae(),Y(l,1,1,()=>{l=null}),oe()),c&&c.p&&(!s||v&1048576)&&Jt(c,u,p,p[20],s?te(u,p[20],v,null):Qt(p[20]),null),v&1&&(i=(h=p[0])==null?void 0:h.isActive("image")),i?f?(f.p(p,v),v&1&&W(f,1)):(f=Ad(p),f.c(),W(f,1),f.m(r,null)):f&&(ae(),Y(f,1,1,()=>{f=null}),oe()),(!s||v&2)&&ot(r,"class",p[1])},i(p){s||(W(l),W(c,p),W(f),W(o.$$.fragment,p),s=!0)},o(p){Y(l),Y(c,p),Y(f),Y(o.$$.fragment,p),s=!1},d(p){l&&l.d(p),p&&$t(t),p&&$t(r),c&&c.d(p),f&&f.d(),e[22](null),p&&$t(a),wt(o,p)}}}function L2(e,t,r){let n,i,a,{$$slots:o={},$$scope:s}=t,{completionApi:l="/api/generate"}=t,{class:u="relative min-h-[500px] w-full max-w-screen-lg border-stone-200 bg-white p-12 pb-24 sm:pb-12 px-8 sm:mb-[calc(20vh)] sm:rounded-lg sm:border sm:px-12 sm:shadow-lg"}=t,{defaultValue:c=ew}=t,{extensions:f=[]}=t,{editorProps:d={}}=t,{onUpdate:p=Ec}=t,{onDebouncedUpdate:v=Ec}=t,{debounceDuration:h=750}=t,{storageKey:g="novel__content"}=t,{disableLocalStorage:m=!1}=t,{isEditable:y=!0}=t,{autofocus:E=!1}=t,{editor:b=void 0}=t,_;const{complete:w,completion:x,isLoading:S,stop:T}=jd({id:"novel",api:l,onFinish:(k,L)=>{b==null||b.commands.setTextSelection({from:b.state.selection.from-L.length,to:b.state.selection.from})},onError:k=>{la({data:{text:k.message,type:"error"}})}});Ee(e,x,k=>r(18,i=k)),Ee(e,S,k=>r(24,n=k));const O=i0(g,c);Ee(e,O,k=>r(19,a=k));let R=!1,M="";function C(){const k=i.slice(M.length);M=i,b==null||b.commands.insertContent(k)}const D=n0(async({editor:k})=>{if(!m){const L=k.getJSON();O.set(L)}v(k)},h);rs(()=>(r(0,b=new Cg({element:_,onTransaction:()=>{r(0,b)},extensions:[...m2,...f],editorProps:{...b2,...d},onUpdate:k=>{const L=k.editor.state.selection;al(k.editor,{chars:2})==="++"&&!n?(k.editor.commands.deleteRange({from:L.from-2,to:L.from}),w(al(k.editor,{chars:5e3}))):(p(k.editor),D(k))},autofocus:E})),y||b.setEditable(!1),()=>b.destroy()));function A(k){Lr[k?"unshift":"push"](()=>{_=k,r(2,_)})}return e.$$set=k=>{"completionApi"in k&&r(6,l=k.completionApi),"class"in k&&r(1,u=k.class),"defaultValue"in k&&r(7,c=k.defaultValue),"extensions"in k&&r(8,f=k.extensions),"editorProps"in k&&r(9,d=k.editorProps),"onUpdate"in k&&r(10,p=k.onUpdate),"onDebouncedUpdate"in k&&r(11,v=k.onDebouncedUpdate),"debounceDuration"in k&&r(12,h=k.debounceDuration),"storageKey"in k&&r(13,g=k.storageKey),"disableLocalStorage"in k&&r(14,m=k.disableLocalStorage),"isEditable"in k&&r(15,y=k.isEditable),"autofocus"in k&&r(16,E=k.autofocus),"editor"in k&&r(0,b=k.editor),"$$scope"in k&&r(20,s=k.$$scope)},e.$$.update=()=>{if(e.$$.dirty&671873&&b&&!R){const k=m?c:a;k&&b.commands.setContent(k),r(17,R=!0)}e.$$.dirty&262144&&C()},[b,u,_,x,S,O,l,c,f,d,p,v,h,g,m,y,E,R,i,a,s,o,A]}class F2 extends Rt{constructor(t){super(),Pt(this,t,L2,I2,Mt,{completionApi:6,class:1,defaultValue:7,extensions:8,editorProps:9,onUpdate:10,onDebouncedUpdate:11,debounceDuration:12,storageKey:13,disableLocalStorage:14,isEditable:15,autofocus:16,editor:0})}}export{F2 as E,ci as t};
